if (self.CavalryLogger) { CavalryLogger.start_js(["Bih1g"]); }

__d("AdmarketAccountStatusesJS",[],(function(a,b,c,d,e,f){e.exports={values:{ADMARKET_ACCOUNT_STATUS_DISABLED:0,ADMARKET_ACCOUNT_STATUS_ACTIVE:1,ADMARKET_ACCOUNT_STATUS_TEST:2,ADMARKET_ACCOUNT_STATUS_UNSETTLED:3,ADMARKET_ACCOUNT_STATUS_UNSPECIFIED:4,ADMARKET_ACCOUNT_STATUS_PENDING_CLOSURE:5,ADMARKET_ACCOUNT_STATUS_CLOSED:6,ADMARKET_ACCOUNT_STATUS_PENDING_RISK_REVIEW:7,ADMARKET_ACCOUNT_STATUS_PENDING_SETTLEMENT:8,ADMARKET_ACCOUNT_STATUS_IN_GRACE_PERIOD:9,ADMARKET_ACCOUNT_STATUS_INVALID_DUP_WRONG_DB:10},labels:["ADMARKET_ACCOUNT_STATUS_DISABLED","ADMARKET_ACCOUNT_STATUS_ACTIVE","ADMARKET_ACCOUNT_STATUS_TEST","ADMARKET_ACCOUNT_STATUS_UNSETTLED","ADMARKET_ACCOUNT_STATUS_UNSPECIFIED","ADMARKET_ACCOUNT_STATUS_PENDING_CLOSURE","ADMARKET_ACCOUNT_STATUS_CLOSED","ADMARKET_ACCOUNT_STATUS_PENDING_RISK_REVIEW","ADMARKET_ACCOUNT_STATUS_PENDING_SETTLEMENT","ADMARKET_ACCOUNT_STATUS_IN_GRACE_PERIOD","ADMARKET_ACCOUNT_STATUS_INVALID_DUP_WRONG_DB"],descriptions:{0:"This ad account has recently been flagged because of unusual activity. Any ads this account is running will be paused until your client confirms their account information.",3:"This ad account is unsettled. Please contact the client to inform them of the situation to see how it can be resolved.",5:"This account will be deactivated soon. Closure is pending upon ensuring that this account does not have any outstanding balances.",6:"This advertising account has been deactivated.",8:"This account is currently pending settlement.",9:"The payment method associated with this account could not be charged. Your client must go to the Payment Information page and settle the outstanding balance."}}}),null);
__d("AdsAPIBidTypeToLabel",[],(function(a,b,c,d,e,f){e.exports={cpc:"CPC",cpm:"CPM",cpm_fixed:"FCPM",multi_premium:"oCPM Premium",multi_relative:"oCPM Relative",multi_absolute:"oCPM",fixed_pricing:"FCPC",cpm_rtb:"CPM RTB",cpa:"CPA"}}),null);
__d("CRMIssueGrouping",[],(function(a,b,c,d,e,f){e.exports={values:{UNDER_DELIVERY_ISSUES:"under_delivery_issues",DISAPPROVED_ADS:"disapproved_ads",TEXT_HEAVY_ADS:"text_heavy_ads",NEGATIVE_FEEDBACK_ISSUES:"negative_feedback_issues",RELEVANCE_SCORE_ISSUES:"relevance_score_issues",CLIENT_CREDIT:"client_credit",CLIENT_SUSPENDED:"client_suspended",AD_ACCOUNT_SPEND_OUTAGES:"ad_account_spend_outages",UPCOMING_BUDGET_DROP:"upcoming_budget_drop",PIXEL_HEALTH_ISSUES:"pixel_health_issues",LIFT_STUDY_WARNINGS:"lift_study_warnings",INVOICE_OVERDUE:"invoice_overdue",INVOICE_UNPAID:"invoice_unpaid",ADCAMPAIGN_DEDUPE_ISSUES:"adcampaign_dedupe_issues",ADCAMPAIGN_AUDIENCE_SATURATION_ISSUES:"adcampaign_audience_saturation_issues",ADCAMPAIGN_GROUP_ENDING_SOON:"adcampaign_group_ending_soon",ADCAMPAIGN_IS_BID_CONSTRAINED:"adcampaign_is_bid_constrained",ADCAMPAIGN_IS_AUDIENCE_CONSTRAINED:"adcampaign_is_audience_constrained",OTHER_ISSUES:"other_issues",OFFLINE_EVENT_SET_HEALTH_ISSUES:"offline_event_set_health_issues",ADCAMPAIGN_TARGET_ANNOUNCEMENT:"adcampaign_target_announcement"},names:{under_delivery_issues:"UNDER_DELIVERY_ISSUES",disapproved_ads:"DISAPPROVED_ADS",text_heavy_ads:"TEXT_HEAVY_ADS",negative_feedback_issues:"NEGATIVE_FEEDBACK_ISSUES",relevance_score_issues:"RELEVANCE_SCORE_ISSUES",client_credit:"CLIENT_CREDIT",client_suspended:"CLIENT_SUSPENDED",ad_account_spend_outages:"AD_ACCOUNT_SPEND_OUTAGES",upcoming_budget_drop:"UPCOMING_BUDGET_DROP",pixel_health_issues:"PIXEL_HEALTH_ISSUES",lift_study_warnings:"LIFT_STUDY_WARNINGS",invoice_overdue:"INVOICE_OVERDUE",invoice_unpaid:"INVOICE_UNPAID",adcampaign_dedupe_issues:"ADCAMPAIGN_DEDUPE_ISSUES",adcampaign_audience_saturation_issues:"ADCAMPAIGN_AUDIENCE_SATURATION_ISSUES",adcampaign_group_ending_soon:"ADCAMPAIGN_GROUP_ENDING_SOON",adcampaign_is_bid_constrained:"ADCAMPAIGN_IS_BID_CONSTRAINED",adcampaign_is_audience_constrained:"ADCAMPAIGN_IS_AUDIENCE_CONSTRAINED",other_issues:"OTHER_ISSUES",offline_event_set_health_issues:"OFFLINE_EVENT_SET_HEALTH_ISSUES",adcampaign_target_announcement:"ADCAMPAIGN_TARGET_ANNOUNCEMENT"},labels:{under_delivery_issues:"Under Delivered Ad",disapproved_ads:"Disapproved Ad",text_heavy_ads:"Text-Heavy Ad",negative_feedback_issues:"Negative Feedback",relevance_score_issues:"Relevance Score",client_credit:"Client Credit",client_suspended:"Suspended Client",ad_account_spend_outages:"Ad Account Spend",upcoming_budget_drop:"Upcoming Budget Drop",pixel_health_issues:"Pixel Health",invoice_overdue:" Overdue Invoice",invoice_unpaid:"Overdue Invoice",lift_study_warnings:"Lift Study",adcampaign_dedupe_issues:"Overlapping Auction",adcampaign_audience_saturation_issues:"Audience Saturation",adcampaign_group_ending_soon:"Campaign Ending",offline_event_set_health_issues:"Offline Event Set Health",adcampaign_is_bid_constrained:"Bid Too Low",adcampaign_is_audience_constrained:"Audience Too Small",adcampaign_target_announcement:"Ad Campaign Announcement",other_issues:"Other"}}}),null);
__d("CRMIssueSuggestionFeedback",[],(function(a,b,c,d,e,f){e.exports={NOT_USEFUL:{value:"not_useful",label:"Not useful"},USEFUL:{value:"useful",label:"Useful"},SHARED_WITH_CLIENT:{value:"shared_with_client",label:"Shared with client"},CLIENT_AGREED_WITH_SUGGESTION:{value:"client_agreed_with_suggestion",label:"Client agreed with suggestion"},CLIENT_REJECTED_SUGGESTION:{value:"client_rejected_suggestion",label:"Client rejected suggestion"}}}),null);
__d("CRMNotificationMediumsJS",[],(function(a,b,c,d,e,f){e.exports={values:{EMAIL:"email",CRM:"crm",MOBILE:"mobile",MESSENGER:"messenger"}}}),null);
__d("CRMNotificationSourceEventsJS",[],(function(a,b,c,d,e,f){e.exports={values:{NONE:0,DEPRECATED_CASE_CREATE:1,DEPRECATED_CASE_UPDATE:2,DEPRECATED_CASE_STATUS_CHANGE:3,DEPRECATED_CASE_ATTACHMENT:4,CREDIT_LIMIT:5,MARKETING_ANNOUNCEMENT_COMMENT:6,AD_DISAPPROVAL:7,COMMENT_REPLY:8,NEW_ACCOUNT_TEAM_COMMENT:9,AD_ACCOUNT_DISABLED:10,AD_ACCOUNT_POLICY_STRIKE:11,DEV_SITE_CASE_CREATE:12,DEV_SITE_CASE_UPDATE_CREATE:13,MARKETING_CONTENT_COMMENT:14,HIGH_PRI_MARKETING_ANNOUNCEMENT:15,CRITICAL_MARKETING_ANNOUNCEMENT:16,CHANNEL_MARKETING_ANNOUNCEMENT:17,SRT_CASE_CREATED:18,SRT_CASE_RESPONSE_RECEIVED:19,AD_ACCOUNT_TO_ACCOUNT_TEAM_REQUEST_NOTIFICATION:20,DEV_SITE_BUG_CREATE:21,DEV_SITE_BUG_UPDATE_CREATE:22,CREDIT_EXHAUSTION:24,CRM_ORGANIZATION_ADDED_TO_TASK_NOTIFICATION:27,SRT_JOB_ASSIGNED:28,AD_ACCOUNT_ATTACHED_TO_BRAND_TEAM:30,SIGNIFICANT_CHANGE_IN_CLIENT_SPEND:31,RECOMMENDATION_ADOPTION:32,ORGANIZATION_SUSPENDED:33,EMPLOYEE_ADDED_TO_XFN_ACTIVITY:34,ORGANIZATION_INVOICE_OVERDUE:35,ORGANIZATION_SUSPENSION_WARNING:37,INSTAGRAM_AD_CAMPAIGN_CREATED:38,AD_ACCOUNT_LIMITS:39,ADGROUP_DISAPPROVAL:40,ORGANIZATION_INVOICE_REMINDER_ONE:41,ORGANIZATION_INVOICE_REMINDER_TWO:42,ORGANIZATION_INVOICE_REMINDER_THREE:43,AD_ACCOUNT_INACTIVE:44,ORGANIZATION_CREDIT_LIMIT:45,ORGANIZATION_CREDIT_EXHAUSTION:46,AD_CAMPAIGN_SCHEDULE_SHORTENED:47,EMAIL_HARVESTER_ACTIONS:48,SPONSORED_POST:49,BUSINESS_PRODUCT_PIXEL_HEALTH:50,AD_CAMPAIGN_UNDERDELIVERING:51,AD_ACCOUNT_TAGGING_PENDING_REQUEST:52,AD_ACCOUNT_TAGGED_TO_ORGANIZATION:53,AD_ACCOUNT_TAGGED_AUTOMATICALLY_TO_ORGANIZATION:54,PRE_MEETING_DIGEST:55,MATCHMAKER_OPEN_BRAND_TEAM_REQUEST:56,ADGROUP_TEXT_HEAVY:57,ORGANIZATION_INVOICE_UNPAID:58,ORGANIZATION_INVOICE_UNPAID_REMINDER_ONE:59,ORGANIZATION_INVOICE_UNPAID_REMINDER_TWO:60,ORGANIZATION_INVOICE_UNPAID_REMINDER_THREE:61,CLIENT_INTERACTION_SUGGESTIONS:62,WOODHOUSE_COMMENT_MENTION:63,CHINA_RESELLER_BM_DISABLED:64,CLIENT_INTERACTION_PARTICIPANT_TAG:65,EARLY_ADOPTER_PROGRAM_SUGGESTED_ORGANIZATIONS_ADDED:66,EARLY_ADOPTER_PROGRAM_INVITATION:67,EARLY_ADOPTER_PROGRAM_INVITATION_ACTIVE:68,CREDIT_REQUEST_APPROVED:69,CREDIT_REQUEST_DECLINED:70,NO_BM_ASSOCIATED_ORGANIZATION:71,EARLY_ADOPTER_PROGRAM_INVITATION_REMINDER:72,EARLY_ADOPTER_PROGRAM_SUGGESTED_ACCOUNT_TEAMS_ADDED:73,ADS_API_VERSION_DEPRECATION_ALERT:74,AD_ACCOUNT_OFFLINE_EVENT_SET_HEALTH_ISSUE:75,ADS_SPLIT_TEST_CREATED:76,WHATSAPP_ACCOUNT_SPAM_RATE:77,NO_BM_ON_ORGANIZATION_FINAL_WARNING:78,AD_CAMPAIGN_CREATED:79,TARGET_ANNOUNCE_AD_SET:80,EARLY_ADOPTER_PROGRAM_INTEREST_EXPRESSED:81,INITIATIVE_COMPLETION_DATE_APPROACHING:82,CPAS_COLLABORATION_REQUEST:83},descriptions:{NONE:"Not yet implemented",CREDIT_LIMIT:"Notification about a client having spent above their credit limit threshold",ORGANIZATION_CREDIT_LIMIT:"Notification about a client having spent above their credit limit threshold",CREDIT_EXHAUSTION:"Notification about a client having exhausted all or almost all of their current credit limit",ORGANIZATION_CREDIT_EXHAUSTION:"Notification about a client having exhausted all or almost all of their current credit limit",DEPRECATED_CASE_CREATE:"Deprecated, do not use. Will be removed soon",DEPRECATED_CASE_UPDATE:"Deprecated, do not use. Will be removed soon",DEPRECATED_CASE_STATUS_CHANGE:"Deprecated, do not use. Will be removed soon",DEPRECATED_CASE_ATTACHMENT:"Deprecated, do not use. Will be removed soon",MARKETING_ANNOUNCEMENT_COMMENT:"Notification about a new comment on a marketing announcement in the GMS Hub",AD_DISAPPROVAL:"Notification about an ad being disapproved",COMMENT_REPLY:"Notification about a comment reply for CRM comments",NEW_ACCOUNT_TEAM_COMMENT:"Notification about a new comment on an account team in CRM",AD_ACCOUNT_DISABLED:"Notification when a client ad account has been disabled",AD_ACCOUNT_POLICY_STRIKE:"Notification when a client ad account received a strike for violation",DEV_SITE_CASE_CREATE:"Notification about a new support case on the devsite case tool",DEV_SITE_CASE_UPDATE_CREATE:"Notification about a new support case on the devsite case tool",MARKETING_CONTENT_COMMENT:"Notification about a new comment on a marketing content in the GMS Hub",HIGH_PRI_MARKETING_ANNOUNCEMENT:"Notification about a high priority announcement in the GMS Hub",CRITICAL_MARKETING_ANNOUNCEMENT:"Notification about a critical announcement in the GMS Hub",CHANNEL_MARKETING_ANNOUNCEMENT:"Notification about an announcement in the GMS Hub which gets sent to subscribed to the regions and verticals the announcement is about",SRT_CASE_CREATED:"Notification about a new SRT case is created",SRT_CASE_RESPONSE_RECEIVED:"Notification about a new response from customer is received",SRT_JOB_ASSIGNED:"Notification about a SRT job assignment to you",AD_ACCOUNT_TO_ACCOUNT_TEAM_REQUEST_NOTIFICATION:"Notification about a request in AdAccountToAccountTeamRequest tool",CRM_ORGANIZATION_ADDED_TO_TASK_NOTIFICATION:"CRM Organization has been linked to a task",AD_ACCOUNT_ATTACHED_TO_BRAND_TEAM:"Notification when a new client ad account is attached to brand team",RECOMMENDATION_ADOPTION:"Notification about a recommendation being adopted by client",ORGANIZATION_SUSPENDED:"Notification about an organization being suspended",SIGNIFICANT_CHANGE_IN_CLIENT_SPEND:"Notification about a significant change in client's spend",EMPLOYEE_ADDED_TO_XFN_ACTIVITY:"Notification about an employee added to an XFN Activity",ORGANIZATION_INVOICE_OVERDUE:"Notification about an organization's invoice is overdue",INSTAGRAM_AD_CAMPAIGN_CREATED:"Notification indicates a new Instagram ad set was created",AD_CAMPAIGN_CREATED:"Notification indicates a new ad set was created",AD_ACCOUNT_LIMITS:"Notification indicates that an Ad Account has hit its Spend, Daily Spend, or Credit Limits",ADGROUP_DISAPPROVAL:"Notification about an ad being disapproved",ORGANIZATION_INVOICE_REMINDER_ONE:"Notification indicates that the organization is in reminder_1 status",ORGANIZATION_INVOICE_REMINDER_TWO:"Notification indicates that the organization is in reminder_2 status",ORGANIZATION_INVOICE_REMINDER_THREE:"Notification indicates that the organization is in reminder_3 status",AD_ACCOUNT_INACTIVE:"Notification about an ad account becoming inactive",SPONSORED_POST:"Notification indicates that a publisher/celebrity has just created a\n        sponsored post by with-tagging a sponsor page",BUSINESS_PRODUCT_PIXEL_HEALTH:"Notification indicates that a business whose number of unhealthy\n        product pixels is above certain threshold",AD_CAMPAIGN_UNDERDELIVERING:"Notification indicates that an Ad Set is under-delivering and\n        has the hit the threshold percent set by the user",AD_ACCOUNT_TAGGING_PENDING_REQUEST:"Notification indicates that an asset relevant to user has had a\n        potential connection generated for it",AD_ACCOUNT_TAGGED_TO_ORGANIZATION:"Notification indicates that an asset relevant to user has been\n        connected to something via Matchmaker",AD_ACCOUNT_TAGGED_AUTOMATICALLY_TO_ORGANIZATION:"Notification indicates that an asset has been automatically connected\n        to something by Matchmaker",ADGROUP_TEXT_HEAVY:"Notification about an ad being penalized for being text heavy",ORGANIZATION_INVOICE_UNPAID:"Notification about an organization's invoice is unpaid",ORGANIZATION_INVOICE_UNPAID_REMINDER_ONE:"Notification indicates that the organization is in invoice unpaid\n        reminder_1 status",ORGANIZATION_INVOICE_UNPAID_REMINDER_TWO:"Notification indicates that the organization is in invoice unpaid\n        reminder_2 status",ORGANIZATION_INVOICE_UNPAID_REMINDER_THREE:"Notification indicates that the organization is in invoice unpaid\n        reminder_3 status",CLIENT_INTERACTION_SUGGESTIONS:"Notification suggests potentially impactful client interactions\n        based on revenue trends",WOODHOUSE_COMMENT_MENTION:"Notification about a mention of a user in a comment in CRM Feed",CHINA_RESELLER_BM_DISABLED:"Notification indicates that the business manager of\n        a China reseller is disabled",CLIENT_INTERACTION_PARTICIPANT_TAG:"Notification indicates the user was tagged in a client interaction",EARLY_ADOPTER_PROGRAM_SUGGESTED_ORGANIZATIONS_ADDED:"Notification indicates that suggested organizations for product test\n        opportunty has been added and now viewable in the tool",EARLY_ADOPTER_PROGRAM_INVITATION:"Notification about a product test opportunity invitation for client",EARLY_ADOPTER_PROGRAM_INVITATION_ACTIVE:"Notification indicates that client has been whitelisted for a product\n        test opportunity",CREDIT_REQUEST_APPROVED:"Notification about client credit request application is approved",CREDIT_REQUEST_DECLINED:"Notificaiton about client credit request application is rejected",NO_BM_ASSOCIATED_ORGANIZATION:"There is no Business manager associate to Organization",EARLY_ADOPTER_PROGRAM_INVITATION_REMINDER:"Notification about a product test opportunity invitation reminder for client",EARLY_ADOPTER_PROGRAM_SUGGESTED_ACCOUNT_TEAMS_ADDED:"Notification indicates that suggested account teams for product test\n        opportunty has been added and now viewable in the tool",ADS_API_VERSION_DEPRECATION_ALERT:"Notification about ads api version deprecation",AD_ACCOUNT_OFFLINE_EVENT_SET_HEALTH_ISSUE:"Notification indicates that the offline event sets under an ad account\n         have health issues",ADS_SPLIT_TEST_CREATED:"Notification about Split Test being created",WHATSAPP_ACCOUNT_SPAM_RATE:"Notification about managed WhatsApp Business Accounts reach high spam rate",NO_BM_ON_ORGANIZATION_FINAL_WARNING:"One of the final warnings that we have not found a Business Manager attached to this organization and will take action on it soon.",TARGET_ANNOUNCE_AD_SET:"Action needed for such Ad Set Ids due to issues such as Partner Category Deprecation or Domain Invalidation",EARLY_ADOPTER_PROGRAM_INTEREST_EXPRESSED:"Notification that interest has been expressed about a product test opportunity",INITIATIVE_COMPLETION_DATE_APPROACHING:"Notification sent to Account Plan Initiative owners and contributors when the initiative has an expected completion date that is apporaching soon",CPAS_COLLABORATION_REQUEST:"Notification sent to sales who manage either a producer and merchant business who have indicated that they want to collaborate via CPAS ads."},labels:{0:"None",1:"Case Create (DEPRECATED)",2:"Case Update (DEPRECATED)",3:"Case Status Change (DEPRECATED)",4:"Case Attacment (DEPRECATED)",5:"Credit Limit",45:"Credit Limit",24:"Credit Exhaustion",46:"Credit Exhaustion",6:"Marketing Announcement Comment",7:"Ad Disapproval",8:"Comment Reply",9:"New Account Team Comment",10:"Ad Account Disabled",11:"Ad Account Policy Strike",12:"Case Create (DEV SITE)",13:"Case Update (DEV SITE)",14:"Marketing Content Comment",15:"Marketing Announcement (HIGH PRI)",16:"Marketing Announcement (CRITICAL)",17:"Marketing Announcement (CHANNEL)",18:"SRT Case Created",19:"SRT Case Response Received",28:"SRT Job Assigned",20:"Ad Account to Account Team Request",27:"Organization Added To Task",32:"Client Recommendation Adoption",33:"Organization is Suspended",31:"Significant Change in Client Spend",34:"Employee Added to XFN Activity",35:"Invoice Overdue",30:"Ad Account Attached to Brand Team",38:"New Instagram Ad Set Created",79:"New Ad Set Created",39:"Ad Account Limits",40:"Ad Disapproval",41:"Invoice Reminder 1",42:"Invoice Reminder 2",43:"Invoice Reminder 3",44:"Ad Account Inactive",49:"Sponsored Post",50:"Business Pixel Health",51:"Ad Set Under-delivery",52:"Ad Account Tagging Pending Request",53:"Ad Account Tagged to Organization",54:"Ad Account Tagged Automatically to Organization",57:"Text Heavy Ad",58:"Invoice Unpaid",59:"Invoice Unpaid Reminder 1",60:"Invoice Unpaid Reminder 2",61:"Invoice Unpaid Final Reminder",62:"Client Interaction Suggestions",63:"CRM Feed Comment Mention",64:"China Reseller Business Manager Disabled",65:"Client Interaction Tag",66:"Product Test Opportunity Suggested Organization Added",67:"Product Test Opportunity Invitation",68:"Product Test Opportunity Invitation Whitelisted",69:"Credit Request Application Approved",70:"Credit Request Application Declined",71:"No BM associate Organization",72:"Product Test Opportunity Invitation Reminder",73:"Product Test Opportunity Suggested Account Teams Added",74:"Ads API Version Deprecation Alert",75:"Ad Account Level Offline Event Set Health Issues",76:"Split Test Created",77:"WhatsApp Business Account Spam Rate",78:"Final warning that no BM was found on Organization",80:"Announcement on Ad Set IDs",81:"Interest Expressed in Product Test",82:"Account Plan Initiative Has Expected Completion Date Approaching",83:"Collaborative Performance Ads (CPAS) Opportunity"}}}),null);
__d("AdsSentenceLine.react",["cx","fbt","React","SUIBusinessTheme","SUIText.react","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_1djp"},h._("{category name, ends with colon} {list of items}",[h._param("category name, ends with colon",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.props.content)),h._param("list of items",b("intlList")(this.props.children,b("intlList").CONJUNCTIONS.NONE))]))};function a(){i.apply(this,arguments)}a.propTypes={content:c.string.isRequired,children:c.array.isRequired};e.exports=a}),null);
__d("AdsSentenceLinesList.react",["cx","AdsSentenceLine.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){if(!this.props.sentenceLines||!this.props.sentenceLines.length)return null;var a=this.props.title?b("React").createElement("div",{className:b("joinClasses")(this.props.titleClassName,"_2zih")},this.props.title):null;return b("React").createElement("div",{className:this.props.className},a,b("React").createElement("div",null,this.$1()))};a.prototype.$1=function(){return this.props.sentenceLines.filter(function(a){return a.children.every(Boolean)}).map(function(a,c){return b("React").createElement(b("AdsSentenceLine.react"),{children:a.children,content:a.content,key:"line"+c})})};function a(){h.apply(this,arguments)}a.propTypes={className:c.string,sentenceLines:c.array,title:c.string,titleClassName:c.string};e.exports=a}),null);
__d("AudienceInformationPixel.react",["cx","fbt","AdsPixelStatus","AdsSentenceLinesList.react","AudienceManagerFunnelLogger","AudienceManagerFunnelLoggingConstants","Link.react","React","XAdsManagerPixelsController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AudienceManagerFunnelLoggingConstants").FUNNEL_ACTION;c=b("React").PropTypes;var k=h._("PIXEL"),l=h._("Pixel Name:"),m=h._("Pixel ID:"),n=h._("Last Received:"),o=h._("Status:");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AudienceManagerFunnelLogger").appendActionWithPayload(j.PIXEL_NAME_CLICK_IN_DETAIL_PANE,{pixel_id:this.props.pixelID})}.bind(this),this.$2=function(){b("AudienceManagerFunnelLogger").appendActionWithPayload(j.PIXEL_ID_CLICK_IN_DETAIL_PANE,{pixel_id:this.props.pixelID})}.bind(this),c}a.prototype.render=function(){var a=new(b("AdsPixelStatus"))(this.props.lastReceivedTime),c=a.getLastReceivedSentence(),d=b("XAdsManagerPixelsController").getURIBuilder().setInt("act",this.props.accountID).setInt("pixel_id",this.props.pixelID).getURI();d=[{content:l,children:[b("React").createElement(b("Link.react"),{href:d,target:"_blank",onClick:this.$1},this.props.pixelName)]},{content:m,children:[b("React").createElement(b("Link.react"),{href:d,target:"_blank",onClick:this.$2},this.props.pixelID)]},{content:o,children:[b("React").createElement("span",null,a.getIcon(),a.getUserFacingStatus())]}];c!=null&&c!==""&&d.push({content:n,children:[c]});return b("React").createElement("div",{className:"_3-8p"},b("React").createElement(b("AdsSentenceLinesList.react"),{sentenceLines:d,title:k}))};a.propTypes={accountID:c.string.isRequired,pixelName:c.string.isRequired,pixelID:c.string.isRequired,lastReceivedTime:c.string};e.exports=a}),null);
__d("AdsCMUnderDeliveryURI",["AdsCMStateConfig","AdsCMURI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("AdsCMStateConfig").PAGE.values;c=babelHelpers.inherits(a,b("AdsCMURI"));g=c&&c.prototype;function a(){g.constructor.call(this,h.DELIVERY_INSIGHTS_PAGE)}e.exports=a}),null);
__d("AdsReportPlatformPositionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ALL_PLACEMENTS:"all_placements",FEED:"feed",GROUPS:"groups",INSTAGRAM_FEED:"instagram_feed",INSTAGRAM_STORIES:"instagram_stories",MESSENGER_INBOX:"messenger_inbox",RIGHT_HAND_COLUMN:"right_hand_column",SEARCH:"search",SUGGESTED_VIDEO:"suggested_video",INSTANT_ARTICLE:"instant_article",INSTREAM_VIDEO:"instream_video",REWARDED_VIDEO:"rewarded_video",AN_CLASSIC:"an_classic",OTHERS:"others",MARKETPLACE:"marketplace",FACEBOOK_STORIES:"facebook_stories",UNKNOWN:"unknown"});e.exports=a}),null);
__d("AdsSignalsAPIOfflineDiagnosticsPluginCommon",["fbt","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a={getResourceLinks:function(){return[{uri:h("USE_OFFLINE_CONVERSION_API"),text:g._("Learn more about Offline Conversions API")}]}};e.exports=a}),null);
__d("AdsSignalsDefaultOfflineDiagnosticsPlugin",["fbt","React","SignalsHomeHelpContent","adsPivotsPluginMustImplementFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a={type:"ads-signals/offline-diagnostics",key:"default",pivots:{},getIssueName:function(){return b("adsPivotsPluginMustImplementFunction")(this,"getIssueName")},getIssueDescription:function(){return b("adsPivotsPluginMustImplementFunction")(this,"getIssueDescription")},getIssueSolution:function(){return null},getNextSteps:function(){return null},getResourceLinks:function(){return[{uri:h("OFFLINE_EVENTS_BEST_PRACTICE"),text:g._("Learn more about offline events best practice")}]}};e.exports=a}),null);
__d("AdsSignalsAPIEmptyDataOfflineDiagnosticsPlugin",["fbt","AdsSignalsAPIOfflineDiagnosticsPluginCommon","AdsSignalsDefaultOfflineDiagnosticsPlugin","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),b("AdsSignalsAPIOfflineDiagnosticsPluginCommon"),{type:"ads-signals/offline-diagnostics",key:"api-empty-data",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_API_EMPTY_DATA},getIssueName:function(){return g._("API Upload Rows Are Empty")},getIssueDescription:function(){return g._("One or more of the rows in your API upload are empty.")},getIssueSolution:function(){return g._("Double-check the setup of your API to ensure that the intended information is being uploaded correctly.")}});e.exports=a}),null);
__d("SignalsHomeOfflineDiagnosticsUtils",["BrandsAppConfig"],(function(a,b,c,d,e,f){"use strict";var g=2100,h=1e5;a=function(){var a=b("BrandsAppConfig").businessCapabilities.can_use_offline_large_batch_size;return a?h:g};e.exports={getMaxRow:a}}),null);
__d("AdsSignalsAPIExceedMaxRowOfflineDiagnosticsPlugin",["fbt","AdsSignalsAPIOfflineDiagnosticsPluginCommon","AdsSignalsDefaultOfflineDiagnosticsPlugin","Number.react","React","SignalsDiagnosticEventEnum","SignalsHomeOfflineDiagnosticsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),b("AdsSignalsAPIOfflineDiagnosticsPluginCommon"),{type:"ads-signals/offline-diagnostics",key:"api-exceed-max-row",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_API_EXCEED_MAX_ROW},getIssueName:function(){return g._("Your API Batches Are Too Large")},getIssueDescription:function(){var a=b("SignalsHomeOfflineDiagnosticsUtils").getMaxRow();return g._("The number of rows your API batch calls are uploading exceeds the Offline Events limit of {max number of rows in one api call}.",[g._param("max number of rows in one api call",b("React").createElement(b("Number.react"),{value:a}))])},getIssueSolution:function(){var a=b("SignalsHomeOfflineDiagnosticsUtils").getMaxRow();return g._("Decrease the max number of rows per batch to below the {max number of rows in one api call} row limit.",[g._param("max number of rows in one api call",b("React").createElement(b("Number.react"),{value:a}))])}});e.exports=a}),null);
__d("AdsSignalsAPIInvalidEventValueOfflineDiagnosticsPlugin",["fbt","AdsSignalsAPIOfflineDiagnosticsPluginCommon","AdsSignalsDefaultOfflineDiagnosticsPlugin","React","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),b("AdsSignalsAPIOfflineDiagnosticsPluginCommon"),{type:"ads-signals/offline-diagnostics",key:"api-invalid-event-value",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_API_INVALID_EVENT_VALUE},getIssueName:function(){return g._("Invalid Event Value")},getIssueDescription:function(){return g._("One or more of your events has invalid event value fields. The event may be missing a conversion value or currency. The value field may be poorly formatted.")},getIssueSolution:function(){return g._("Revise the formatting of your event fields: {solution details}",[g._param("solution details",b("React").createElement("ul",{style:{listStyleType:"disc",marginLeft:20}},b("React").createElement("li",null,g._("Events with values must also have a currency. Events with currency must have a value.")),b("React").createElement("li",null,g._("The value field must contain a decimal number greater than zero, and may not include letters, special characters, currency symbols or commas."))))])}});e.exports=a}),null);
__d("AdsSignalsAPINotAcceptTOSOfflineDiagnosticsPlugin",["fbt","AdsSignalsAPIOfflineDiagnosticsPluginCommon","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsHomeActions"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),b("AdsSignalsAPIOfflineDiagnosticsPluginCommon"),{type:"ads-signals/offline-diagnostics",key:"api-not-accept-tos",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_API_NOT_ACCEPT_TOS},getIssueName:function(){return g._("You Haven't Accepted the Offline Events Terms of Service")},getIssueDescription:function(){return g._("Your uploads are not being accepted because your business account has not accepted the Offline Events Terms of Service.")},getIssueSolution:function(a,c,d){var e=function(){return b("SignalsHomeActions").handleRequestTOSScreen(d)};return a&&c!=null?g._("Read and accept our {link to offline events set term of service}.",[g._param("link to offline events set term of service",b("React").createElement(b("Link.react"),{href:"#",onClick:e},g._("terms of service")))]):g._("Contact your business administrator to read and accept our term of service.")}});e.exports=a}),null);
__d("AdsSignalsDupOrderidItemnumOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","Number.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"dup-orderid-itemnum",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_DUP_ORDERID_ITEMNUM},getIssueName:function(){return g._("You May Be Duplicating Order IDs and Item Numbers")},getIssueDescription:function(a){return a?g._("{percentage of events with non-unique order_id & item_number combination} \u0025 of events uploaded in the last 14 days have a non-unique order id and item number (if present) combination. This may indicate you're sending duplicate events.",[g._param("percentage of events with non-unique order_id & item_number combination",b("React").createElement(b("Number.react"),{value:a.dup_order_item_percent}))]):g._("Some of your uploaded events have the same order ID and item number (if present) as other events. This may indicate you're sending duplicate events.")},getIssueSolution:function(){return g._("Review the schedule of your uploads to make sure the same events aren't being uploaded multiple times. Each transaction should be uploaded once and should have a unique order ID. Item numbers should be unique per item per transaction. {learn more link to offline deduplication}.",[g._param("learn more link to offline deduplication",b("React").createElement(b("Link.react"),{href:h("OFFLINE_DEDUPLICATION"),target:"_blank"},g._("Learn more about deduplication")))])}});e.exports=a}),null);
__d("AdsSignalsDuplicateEventsOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","Number.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"duplicate-events",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_DUPLICATE_EVENTS},getIssueName:function(){return g._("Some of Your Events are Duplicates")},getIssueDescription:function(a){return a?g._({"*":"Based on your timestamps or user data, {number of duplicate events} out of {number} events are duplicates in the last 14 days.","_1":"Based on your timestamps or user data, {number of duplicate events} out of 1 event are duplicates in the last 14 days."},[g._param("number of duplicate events",b("React").createElement(b("Number.react"),{value:a.duplicate_events})),g._plural(a.upload_events,"number")]):g._("A significant number of your events are duplicates, based on your timestamps or user data.")},getIssueSolution:function(){return g._("Review the schedule of your uploads to make sure the same events aren't being uploaded multiple times. Double-check the set-up of your API to make sure that the intended information is being uploaded correctly. {learn more link to offline deduplication}.",[g._param("learn more link to offline deduplication",b("React").createElement(b("Link.react"),{href:h("OFFLINE_DEDUPLICATION"),target:"_blank"},g._("Learn more about deduplication")))])},getResourceLinks:function(){return[{uri:h("OFFLINE_DEDUPLICATION"),text:g._("Learn more about deduplication")}]}});e.exports=a}),null);
__d("AdsSignalsItemnumNoOrderidOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Number.react","React","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"itemnum-no-orderid",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_ITEMNUM_NO_ORDERID},getIssueName:function(){return g._("Item Numbers are Probably Being Used Instead of Order IDs")},getIssueDescription:function(a){return a?g._("{percentage of events with item number but no order id} \u0025 of events uploaded in the last 14 days have an item number but not a corresponding order id. You might be using item numbers to differentiate between events instead of order IDs. This affects our ability to differentiate between specific transactions.",[g._param("percentage of events with item number but no order id",b("React").createElement(b("Number.react"),{value:a.item_no_order_percent}))]):g._("Some of your uploaded events have an item number but not a corresponding order id. You might be using item numbers to differentiate between events instead of order IDs. This affects our ability to differentiate between specific transactions.")},getIssueSolution:function(){return g._("Order IDs are intended to be used as unique transaction identifiers. If the item numbers you're sending are being used as identifiers, please remap your item number column or field as order ID.")}});e.exports=a}),null);
__d("SignalsHomeUsageBusinessManagerButtonContainer.react",["ix","fbt","BusinessURI.brands","Image.react","LoadObject","React","SignalsContainer.react","SignalsHomeStateStore","SUIButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=g("406635"),k=g("403209");i=babelHelpers.inherits(a,b("SignalsContainer.react"));i&&i.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore")]};a.prototype.calculateState=function(){__p&&__p();var a=b("SignalsHomeStateStore").getState(),c=a.appID,d=a.dataSetID,e=a.pixelID;a=a.businessID;if(a==null)return{url:undefined};if(e!=null)return{url:b("BusinessURI.brands")("/settings/pixels/"+e).addQueryData({business_id:a})};else if(d!=null)return{url:b("BusinessURI.brands")("/settings/offline-event-sets/"+d).addQueryData({business_id:a})};else if(c!=null)return{url:b("BusinessURI.brands")("/settings/apps/"+c).addQueryData({business_id:a})};else throw new(b("LoadObject").withError)(new Error("Need to provide pixel or data set ID or app ID."))};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.url;var c=this.props.use;if(a==null)return null;var d=c==="confirm"?j:k;return b("React").createElement(b("SUIButton.react"),{href:a,icon:b("React").createElement(b("Image.react"),{src:d}),label:h._("Business Manager Settings"),target:"_blank",use:c||"default"})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsSignalsNoAccountAssignmentOfflineDiagnosticsPlugin",["cx","fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsDSUIUtils","SignalsHomeHelpContent","SignalsHomeUsageBusinessManagerButtonContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"no-account-assignment",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_NO_ACCOUNT_ASSIGNMENT},getIssueName:function(){return h._("Your Offline Event Set is Not Assigned to an Ad Account")},getIssueDescription:function(){return h._("Without an assigned ad account, you won't be able to attribute any events to an active ad campaign.")},getIssueSolution:function(a,c,d){d=c!=null?b("SignalsDSUIUtils").getURIToBMSettings(c,d):null;return a&&c!=null?h._("{link to business settings} to this offline event set. Note that you won't be able to attribute any events to ads that were running prior to assigning the ad account. You can still upload prior events for use in lift tests, custom audiences and analytics.",[h._param("link to business settings",b("React").createElement(b("Link.react"),{href:d,target:"_blank"},h._("Assign an ad account")))]):h._("Contact your business administrator to assign an ad account to this offline event set. Note that you won't be able to attribute any events to ads that were running prior to assigning the ad account. You can still upload prior events for use in lift tests, custom audiences and analytics.")},getNextSteps:function(a){return a?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SignalsHomeUsageBusinessManagerButtonContainer.react"),{use:"confirm"})):null},getResourceLinks:function(){return[{uri:i("OFFLINE_EVENTS_DATA_PREPARE"),text:h._("Learn more about offline data preparation")}]}});e.exports=a}),null);
__d("AdsSignalsNoAutoTrackingOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"no-auto-tracking",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_NO_AUTO_TRACKING},getIssueName:function(){return g._("Turn On Auto-Tracking for This Event Set")},getIssueDescription:function(){return g._("With your current settings, tracking must be manually set for this event set each time you create a new ad. Turn on auto-tracking in the Settings tab so new ads you create will default to this offline event set for tracking. {learn more link to offline deduplication}.",[g._param("learn more link to offline deduplication",b("React").createElement(b("Link.react"),{href:h("OFFLINE_AUTO_TRACKING"),target:"_blank"},g._("Learn more about auto-tracking")))])},getResourceLinks:function(){return[{uri:h("OFFLINE_AUTO_TRACKING"),text:g._("Learn more about auto-tracking")}]}});e.exports=a}),null);
__d("AdsSignalsNoOrderidOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Number.react","React","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"no-orderid",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_NO_ORDERID},getIssueName:function(){return g._("Send Order IDs to Add Unique Identifiers to Your Transactions")},getIssueDescription:function(a){return a?g._("{percentage of no orderid events} \u0025 of events uploaded in the last 14 days do not have an order ID. We recommend uploading order IDs so each of your transactions has a unique identifier. This identifier can then be used to deduplicate your offline events, improve attribution and calculate average order size.",[g._param("percentage of no orderid events",b("React").createElement(b("Number.react"),{value:a.no_order_percent}))]):g._("We recommend uploading order IDs so each of your transactions has a unique identifier. This identifier can then be used to deduplicate your offline events, improve attribution and calculate average order size.")}});e.exports=a}),null);
__d("SignalsBusinessStore",["Promise","AdsGraphAPI","SignalsLoadObjectStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("business",a).batched().get({fields:["id","name","picture"]}),c,d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDIConfigHistoryStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDIFileStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{file:null}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDIMappingDialogStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{columnIndex:null}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDISampleStore",["LoadObject","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{samplesLO:b("LoadObject").loading()}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDISchemaStore",["SignalsUIStateStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{schema:null}};a.prototype.__getName=function(){return e.id};a.prototype.getSchemaEnforcing=function(){return b("nullthrows")(this.getState().schema)};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("signalsLoggingOfflineEventsUploadedListener",["immutable","SignalsSecondaryLoggingOptionsEnum"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set;var g=c([b("SignalsSecondaryLoggingOptionsEnum").ONE_LINE_PER_CALL]);function a(a){return{type:"OFFLINE_EVENTS_UPLOADED",cb:a,options:g}}e.exports=a}),null);
__d("SignalsDIUploadStateStore",["AdsDataAtom","FluxReduceStore","SignalsDSDILogger","SignalsDSDILoggerSteps","SignalsHomeLoggedDispatcher","SignalsHomeStateStore","signalsLoggingOfflineEventsUploadedListener"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=3,i=24;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{status:"ready"}};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action;switch(d.type){case e.id+"-reset":if(a.status!=="uploading"&&a.status!=="preparing")return{status:"ready"};break;case e.id+"-prepare-start":if(a.status==="ready")return{status:"preparing"};break;case e.id+"-prepare-done-and-upload-start":if(a.status==="preparing"){c=Math.floor(Date.now()/1e3);return{status:"uploading",progress:{numRowsAlreadyUploaded:0,numRowsFailedToNormalize:0,numRowsFailedToUpload:0,numRowsUploaded:0,estimatedProgress:0},offline:!1,task:d.task,startTime:c,recentProgressUpdates:[{time:c,progress:0}],estimatedSecsLeft:null}}break;case e.id+"-prepare-error":if(a.status==="preparing")return{status:"error",error:d.error};break;case e.id+"-upload-progress-update":if(a.status==="uploading"){c=Math.floor(Date.now()/1e3);var f=a.recentProgressUpdates,g=f.length>0?f[f.length-1]:null,j=d.progress.estimatedProgress;g!=null?g.progress<j?f=[].concat(f,[{time:c,progress:j}]).slice(-i):f=[].concat(f.slice(0,f.length-1),[{time:c,progress:j}]):f=[{time:c,progress:j}];g=f.length>h?(1-j)*(c-f[0].time)/(j-f[0].progress):null;return{status:"uploading",offline:a.offline,task:a.task,startTime:a.startTime,progress:d.progress,recentProgressUpdates:f,estimatedSecsLeft:g}}break;case e.id+"-upload-network-update":if(a.status==="uploading")return{status:"uploading",offline:d.offline,task:a.task,startTime:a.startTime,progress:a.progress,recentProgressUpdates:a.recentProgressUpdates,estimatedSecsLeft:a.estimatedSecsLeft};break;case e.id+"-upload-finish":if(a.status==="uploading"){b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_FINISH);c=b("SignalsHomeStateStore").getState();var k=c.dataSetID,l=c.businessID;k!=null&&l!=null&&b("SignalsDSDILogger").secondary(b("signalsLoggingOfflineEventsUploadedListener"),function(){return babelHelpers["extends"]({dataSetID:k,businessID:l},d.progress)}).logAction("UPLOAD_STATS");return{status:"finished",progress:d.progress,errorReport:d.errorReport,timeDuration:Math.floor(Date.now()/1e3)-a.startTime}}break;case e.id+"-upload-error":if(a.status==="uploading"){b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_FINISH);return{status:"error",error:d.Error}}break;case e.id+"-upload-stop":if(a.status==="uploading"){a.task.stop();return{status:"stopped"}}break;default:return a}return a};a.prototype.reset=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-reset"})};a.prototype.prepareStart=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-prepare-start"})};a.prototype.prepareDoneAndUploaderStart=function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-prepare-done-and-upload-start",task:a})};a.prototype.prepareError=function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-prepare-error",error:a})};a.prototype.uploaderProgressUpdate=function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-upload-progress-update",progress:a})};a.prototype.uploaderNetworkStatusUpdate=function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-upload-network-update",offline:a})};a.prototype.uploaderFinish=function(a,c){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-upload-finish",progress:a,errorReport:c})};a.prototype.uploaderError=function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-upload-error",error:a})};a.prototype.uploaderStop=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:e.id+"-upload-stop"})};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("normalizeSignalsAnyType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{normalizedValue:a}}e.exports=a}),null);
__d("normalizeSignalsBoolType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed;function a(a){__p&&__p();if(a==null)return{normalizedValue:null};if(typeof a==="boolean")return{normalizedValue:a};if(typeof a==="string"){var b=a.toLowerCase();if(b==="true"||b==="yes"||b==="1")return{normalizedValue:!0};if(b==="false"||b==="no"||b==="0")return{normalizedValue:!1};return g(a)?{normalizedValue:a}:{normalizedValue:null}}if(typeof a==="number"){if(a===1)return{normalizedValue:!0};return a===0?{normalizedValue:!1}:{normalizedValue:null}}return{normalizedValue:null}}e.exports=a}),null);
__d("SignalsCurrencyCodes",[],(function(a,b,c,d,e,f){"use strict";a=["AED","ARS","AUD","BOB","BRL","CAD","CHF","CLP","CNY","COP","CRC","CZK","DKK","EUR","GBP","GTQ","HKD","HNL","HUF","IDR","ILS","INR","ISK","JPY","KRW","MOP","MXN","MYR","NIO","NOK","NZD","PEN","PHP","PKR","PLN","PYG","QAR","RON","RUB","SAR","SEK","SGD","THB","TRY","TWD","USD","UYU","VEF","VND","ZAR"];e.exports={VALID_CURRENCY_CODES:a}}),null);
__d("normalizeSignalsEnumType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=b("SignalsValidationUtils").trim;function a(a,b){__p&&__p();b===void 0&&(b={});var c=null,d=b,e=d.caseInsensitive,f=d.lowercase,i=d.options,j=d.truncate;d=d.uppercase;if(a!=null&&i!=null&&Array.isArray(i)&&i.length)if(typeof a==="string"&&g(a))b.rejectHashed!==!0&&(c=a);else{b=h(String(a));f===!0&&(b=b.toLowerCase());d===!0&&(b=b.toUpperCase());j!=null&&j!==0&&(b=b.substring(0,j));if(e===!0){a=b.toLowerCase();for(var f=0;f<i.length;++f)if(a===i[f].toLowerCase()){b=i[f];break}}c=i.indexOf(b)>-1?b:null}return{normalizedValue:c}}e.exports=a}),null);
__d("normalizeSignalsCurrencyCodeType",["SignalsCurrencyCodes","normalizeSignalsEnumType"],(function(a,b,c,d,e,f){"use strict";var g=b("SignalsCurrencyCodes").VALID_CURRENCY_CODES;function a(a){return b("normalizeSignalsEnumType")(a,{uppercase:!0,options:g,rejectHashed:!0})}e.exports=a}),null);
__d("SignalDateFormats",[],(function(a,b,c,d,e,f){"use strict";e.exports=["MM-DD-YYYY","MM/DD/YYYY","MMDDYYYY","DD-MM-YYYY","DD/MM/YYYY","DDMMYYYY","YYYY-MM-DD","YYYY/MM/DD","YYYYMMDD","MM-DD-YY","MM/DD/YY","MMDDYY","DD-MM-YY","DD/MM/YY","DDMMYY","YY-MM-DD","YY/MM/DD","YYMMDD"]}),null);
__d("SignalDateMonthFormats",["SignalDateFormats"],(function(a,b,c,d,e,f){e.exports=b("SignalDateFormats").concat(["YYMM","MMYY","YYYYMM","MMYYYY","YYYY-MM","MM-YYYY","YY-MM","MM-YY","YYYY/MM","MM/YYYY","YY/MM","MM/YY"])}),null);
__d("normalizeSignalsDateType",["SignalDateFormats","SignalDateMonthFormats","SignalsValidationUtils","normalizeSignalsEnumType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=b("SignalsValidationUtils").trim,i=/^[0-9]*$/,j=/[^0-9]/g,k=/[^a-zA-Z]/g,l=/^[0-9]{4,4}$/;function m(a){var b=parseInt(a.slice(0,4),10),c=parseInt(a.slice(4,6),10)-1;a=parseInt(a.slice(6,8),10);var d=new Date(b,c,a);return d.getFullYear()===b&&d.getMonth()===c&&d.getDate()===a}function n(a,c){__p&&__p();c===void 0&&(c=b("SignalDateFormats")[0]);switch(c){case"DD/MM/YYYY":case"MM/DD/YYYY":return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a);case"DD-MM-YYYY":case"MM-DD-YYYY":return/^\d{1,2}-\d{1,2}-\d{4}$/.test(a);case"YYYY/MM/DD":return/^\d{4}\/\d{1,2}\/\d{1,2}$/.test(a);case"YYYY-MM-DD":return/^\d{4}-\d{1,2}-\d{1,2}$/.test(a);case"DD/MM/YY":case"MM/DD/YY":return/^\d{1,2}\/\d{1,2}\/\d{2}$/.test(a);case"DD-MM-YY":case"MM-DD-YY":return/^\d{1,2}-\d{1,2}-\d{2}$/.test(a);case"YY/MM/DD":return/^\d{2}\/\d{1,2}\/\d{1,2}$/.test(a);case"YY-MM-DD":return/^\d{2}-\d{1,2}-\d{1,2}$/.test(a);case"YY-MM":case"MM-YY":return/^\d{2}-\d{2}$/.test(a);case"YYYY-MM":return/^\d{4}-\d{2}$/.test(a);case"MM-YYYY":return/^\d{2}-\d{4}$/.test(a);case"YY/MM":case"MM/YY":return/^\d{2}\/\d{2}$/.test(a);case"MM/YYYY":return/^\d{2}\/\d{4}$/.test(a);case"YYYY/MM":return/^\d{4}\/\d{2}$/.test(a);case"MMYY":case"YYMM":return a.length===4&&i.test(a);case"YYYYMM":case"MMYYYY":return a.length===6&&i.test(a);case"DDMMYYYY":case"MMDDYYYY":case"YYYYMMDD":return a.length===8&&i.test(a);case"DDMMYY":case"MMDDYY":case"YYMMDD":default:return a.length===6&&i.test(a)}}function o(a,b){var c=new Date().getFullYear()%100;switch(b){case"DD-MM-YY":case"MM-DD-YY":case"DD/MM/YY":case"MM/DD/YY":case"DDMMYY":case"MMDDYY":case"MM-YY":case"MM/YY":case"MMYY":return a.slice(0,-2)+(parseInt(a.slice(-2),10)<=c?"20":"19")+a.slice(-2);case"YY-MM-DD":case"YY/MM/DD":case"YYMMDD":case"YY-MM":case"YY/MM":case"YYMM":return(parseInt(a.substr(0,2),10)<=c?"20":"19")+a;default:return a}}function p(a,b){__p&&__p();var c=null;switch(b){case"DD-MM-YYYY":case"MM-DD-YYYY":case"YYYY-MM-DD":case"DD-MM-YY":case"MM-DD-YY":case"YY-MM-DD":c="-";break;case"DD/MM/YYYY":case"MM/DD/YYYY":case"YYYY/MM/DD":case"DD/MM/YY":case"MM/DD/YY":case"YY/MM/DD":c="/";break;default:break}if(c!=null){c=a.split(c);var d="";c.forEach(function(a){d+=a.length===1?"0"+a:a});a=d}return o(a,b)}function a(a,c,d){__p&&__p();c===void 0&&(c={});var e=null;d=d;if(a!=null&&typeof a==="string")if(g(a))c&&c.rejectHashed||(e=a);else{a=h(a)||"";if(l.test(a)&&!c.allowMonthOnly)e=a+"0101";else{d=b("normalizeSignalsEnumType")(d,{uppercase:!0,options:c.allowMonthOnly?b("SignalDateMonthFormats"):b("SignalDateFormats")}).normalizedValue;e=a;if(d==null||!n(e,d))e=null;else{e=p(e,d);d=d.replace(k,"");e=e.replace(j,"");switch(d){case"DDMMYYYY":case"DDMMYY":e=e.slice(4,8)+e.slice(2,4)+e.slice(0,2);break;case"MMDDYYYY":case"MMDDYY":e=e.slice(4,8)+e.slice(0,2)+e.slice(2,4);break;case"YYYYMM":case"YYMM":e+="01";break;case"MMYY":case"MMYYYY":e=e.slice(2,6)+e.slice(0,2)+"01";break;case"YYYYMMDD":case"YYMMDD":default:break}e!==null&&!m(e)&&(e=null)}}}return{normalizedValue:e}}e.exports=a}),null);
__d("normalizeSignalsDateMonthType",["normalizeSignalsDateType"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c===void 0&&(c={});c.allowMonthOnly=!0;return b("normalizeSignalsDateType")(a,c,d)}e.exports=a}),null);
__d("normalizeSignalsEmailType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=b("SignalsValidationUtils").trim,i=/^[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i;function j(a){return i.test(a)}function a(a){var b=null;if(a!=null)if(g(a))b=a;else if(typeof a==="string"){a=h(a.toLowerCase());b=j(a)?a:null}return{normalizedValue:b}}e.exports=a}),null);
__d("normalizeSignalsFBIDType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h="l:",i=/^[0-9]+$/,j="18446744073709551615";function k(a){__p&&__p();if(a.length<j.length)return!0;if(a.length>j.length)return!1;for(var b=0;b<a.length;b++){if(a[b]<j[b])return!0;if(a[b]>j[b])return!1}return!0}function l(a,b,c){__p&&__p();b===void 0&&(b={});a=typeof a==="number"?String(a):a;if(typeof a!=="string")return{normalizedValue:null};if(g(a)&&b.rejectHashed!==!0)return{normalizedValue:a};a=a;b.stripPrefix&&typeof a==="string"&&a.slice(0,h.length)===h&&(a=a.substring(h.length));if(!i.test(a)||!k(a))return{normalizedValue:null};if(b.scoped){b=c;if(b!=null&&Array.isArray(b)&&b.some(function(a){return l(a,{rejectHashed:!0}).normalizedValue!=null}))return{normalizedValue:a};else return{normalizedValue:null}}return{normalizedValue:a}}e.exports=l}),null);
__d("normalizeSignalsListType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed;function a(a,b){__p&&__p();b===void 0&&(b={});var c=null;b=b;var d=b.rejectEmptyList,e=b.maxItemsAllowed,f=b.options,h=b.rejectHashed,i=b.caseInsensitiveElements;Array.isArray(a)?c=a:typeof a==="string"&&(g(a)?c=h?null:a:(a=a.trim(),a.length===0?c=[]:(a.length>=2&&a[0]==="["&&a[a.length-1]==="]"&&(a=a.slice(1,a.length-1)),c=a.split(",").map(function(a){return a.trim().replace(/^\'(.*)\'$|^\"(.*)\"$/,"$1$2")}).filter(function(a){return a.length!==0}))));if(f&&c!==null){var j;i?j=new Set(f.map(function(a){return a.toLowerCase()})):j=new Set(f);c=!Array.isArray(c)||c.some(function(a){return!j.has(i?String(a).toLowerCase():String(a))})?null:c}c&&((d&&c.length===0||e&&c.length>e)&&(c=null));return{normalizedValue:c}}e.exports=a}),null);
__d("normalizeSignalsPhoneNumberType",["SignalsValidationUtils","isInternationalPhoneNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=/^0*/,i=/[\-@#<>\'\",; ]|\(|\)|\+|[a-z]/gi;function a(a){var c=null;if(a!=null)if(g(a))c=a;else{a=String(a);b("isInternationalPhoneNumber")(a)&&(c=a.replace(i,"").replace(h,""))}return{normalizedValue:c}}e.exports=a}),null);
__d("normalizeSignalsPostalCodeType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=b("SignalsValidationUtils").trim;function a(a){var b=null;if(a!=null&&typeof a==="string")if(g(a))b=a;else{a=h(String(a).toLowerCase().split("-",1)[0]);a.length>=2&&(b=a)}return{normalizedValue:b}}e.exports=a}),null);
__d("normalizeSignalsSha256Type",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("SignalsValidationUtils").looksLikeHashed;function a(a,b){if(typeof a!=="string"||!g(a))return{normalizedValue:null};return b&&b.options&&b.options.indexOf(a)<0?{normalizedValue:null}:{normalizedValue:a}}e.exports=a}),null);
__d("normalizeSignalsStringType",["SignalsValidationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed,h=b("SignalsValidationUtils").strip;function a(a,b){__p&&__p();b===void 0&&(b={});var c=null;if(a!=null)if(g(a)&&typeof a==="string")b.rejectHashed!==!0&&(c=a);else{a=String(a);b.strip!=null&&(a=h(a,b.strip));b.lowercase===!0?a=a.toLowerCase():b.uppercase===!0&&(a=a.toUpperCase());b.truncate!=null&&b.truncate!==0&&(a=a.substring(0,b.truncate));b.test!=null&&b.test!==""?c=new RegExp(b.test).test(a)?a:null:c=a}return{normalizedValue:c}}e.exports=a}),null);
__d("SignalsTimestampNormalizationErrorTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({REJECT_TOO_EARLY:null,REJECT_FUTURE:null});e.exports=a}),null);
__d("normalizeSignalsTimestampType",["SignalsTimestampNormalizationErrorTypes","normalizeSignalsDateType","normalizeSignalsNumberType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1*60*60*1e3,h=/[+-]\d{2}:\d{2}|Z$/;function a(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={});var e=null,f=!1,i;c=c;c=c.rejectTimeBefore;d=d;var j=d.timeFormat,k=d.timeZone;d=d.allowFutureTimes;if(a!=null&&(typeof a==="string"||typeof a==="number"))if(j==null||j==="unix_time"){var l=b("normalizeSignalsNumberType")(a,{rejectHashed:!0}).normalizedValue;l!=null&&typeof l!=="string"&&(j==="unix_time"&&(l*=1e3),e=new Date(l).getTime())}else if(j==="ISO8601"&&typeof a==="string")e=new Date(a).getTime(),f=h.test(a);else{l=b("normalizeSignalsDateType")(a,{rejectHashed:!0},j).normalizedValue;if(l!=null){a=l.slice(0,4);var m=l.slice(4,6);l=l.slice(6,8);e=new Date(a+"-"+m+"-"+l).getTime()}}a=Date.now();if(e!=null&&(isNaN(e)||d!==!0&&e>a||c!=null&&e<a-c||e%1!==0))d!==!0&&e>a&&(i=b("SignalsTimestampNormalizationErrorTypes").REJECT_FUTURE),c!=null&&e<a-c&&(i=b("SignalsTimestampNormalizationErrorTypes").REJECT_TOO_EARLY),e=null;else if(e!=null&&k!=null&&j!=="unix_time"&&!f){m=b("normalizeSignalsNumberType")(k,{rejectHashed:!0}).normalizedValue;m!=null&&typeof m==="number"&&(e-=m*g)}return{normalizedValue:e,additionalInfo:i!=null?{errorType:i}:null}}e.exports=a}),null);
__d("normalizeSignalsUnixTimeType",["normalizeSignalsTimestampType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={});if(a==null)return{normalizedValue:null};d=d?babelHelpers["extends"]({},d):{};d.timeFormat=d.timeFormat||"unix_time";a=b("normalizeSignalsTimestampType")(a,c,d);if(a.normalizedValue!=null){c=Math.round(a.normalizedValue/1e3);return{normalizedValue:c,additionalInfo:a.additionalInfo}}else return{normalizedValue:null,additionalInfo:a.additionalInfo}}e.exports=a}),null);
__d("normalizeSignalsValueType",["SignalsNumberNormalizationErrorTypes","SignalsValidationUtils","normalizeSignalsNumberType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").trim,h=["ALL","AFN","ARS","AWG","AUD","AZN","BSD","BBD","BYR","BZD","BMD","BOB","BAM","BWP","BGN","BRL","BND","KHR","CAD","KYD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","XCD","EGP","SVC","EEK","EUR","FKP","FJD","GHC","GIP","GTQ","GGP","GYD","HNL","HKD","HUF","ISK","INR","IDR","IRR","IMP","ILS","JMD","JPY","JEP","KES","KZT","KPW","KRW","KGS","LAK","LVL","LBP","LRD","LTL","MKD","MYR","MUR","MXN","MNT","MZN","NAD","NPR","ANG","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PYG","PEN","PHP","PLN","QAR","RON","RUB","RMB","SHP","SAR","RSD","SCR","SGD","SBD","SOS","ZAR","LKR","SEK","CHF","SRD","SYP","TZS","TWD","THB","TTD","TRY","TRL","TVD","UGX","UAH","GBP","USD","UYU","UZS","VEF","VND","YER","ZWD","L","\u060b","$","\u0192","\u20bc","p.","BZ$","Bs.","KM","P","\u043b\u0432","R$","\u17db","\xa5","\u20a1","kn","\u20b1","K\u010d","kr","RD$","\xa3","\u20ac","\u20b5","Q","Ft","\u20b9","Rp","\ufdfc","\u20aa","J$","KSh","\u20a9","\u20ad","Ls","Lt","\u0434\u0435\u043d","RM","\u20a8","\u20ae","MT","C$","\u20a6","B/.","Gs","S/.","z\u0142","lei","\u20bd","\uffe5","\u0414\u0438\u043d.","S","R","TSh","NT$","\u0e3f","TT$","\u20ba","\u20a4","USh","\u20b4","$U","Bs","\u20ab","Z$"],i=".";function j(a,b,c){return b<0||b>=a.length?a:a.substr(0,b)+c+a.substr(b+1)}function k(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={});var e=d.decimalPointChar!=null?d.decimalPointChar:i,f=a;if(e===","){if(a.indexOf(".")!==-1)return{normalizedValue:null,additionalInfo:{errorType:b("SignalsNumberNormalizationErrorTypes").INVALID_SEPARATOR}};e=a.lastIndexOf(",");f=j(a,e,".")}else if(a.indexOf(",")!==-1)return{normalizedValue:null,additionalInfo:{errorType:b("SignalsNumberNormalizationErrorTypes").INVALID_SEPARATOR}};return b("normalizeSignalsNumberType")(f,c,d)}function l(a,b,c){__p&&__p();b===void 0&&(b={});c===void 0&&(c={});var d=h.map(function(d){if(a.startsWith(d)||a.toUpperCase().startsWith(d)){d=a.substring(d.length);return k(d,b,c)}return{normalizedValue:null}}),e=h.map(function(d){if(a.endsWith(d)||a.toUpperCase().endsWith(d)){d=a.substring(0,a.length-d.length);return k(d,b,c)}return{normalizedValue:null}});return d.concat(e)}function a(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={decimalPointChar:i});var e=null;if(a==null||a===""){e={normalizedValue:null,additionalInfo:{errorType:b("SignalsNumberNormalizationErrorTypes").EMPTY}};return e}if(typeof a==="string"){var f=k(a,c,d);if(f.normalizedValue!=null||f.additionalInfo&&f.additionalInfo.errorType!=null&&f.additionalInfo.errorType!==b("SignalsNumberNormalizationErrorTypes").NON_NUMERIC)e=f;else{f=g(a);if(typeof f==="string"){a=l(f,c,d);e=a.find(function(a){return a.normalizedValue!=null});e==null&&(e=a.find(function(a){return a.additionalInfo&&a.additionalInfo.errorType&&a.additionalInfo.errorType!=null}))}}}return e!=null?e:{normalizedValue:null,additionalInfo:{errorType:b("SignalsNumberNormalizationErrorTypes").NON_NUMERIC}}}e.exports=a}),null);
__d("SignalsBaseTypeJSONListNestableNormalizers",["SignalBaseTypes","normalizeSignalsAnyType","normalizeSignalsBoolType","normalizeSignalsCurrencyCodeType","normalizeSignalsDateType","normalizeSignalsDateMonthType","normalizeSignalsEmailType","normalizeSignalsEnumType","normalizeSignalsFBIDType","normalizeSignalsListType","normalizeSignalsNumberType","normalizeSignalsPhoneNumberType","normalizeSignalsPostalCodeType","normalizeSignalsSha256Type","normalizeSignalsStringType","normalizeSignalsTimestampType","normalizeSignalsUnixTimeType","normalizeSignalsValueType"],(function(a,b,c,d,e,f){"use strict";e.exports=(a={},a[b("SignalBaseTypes").ANY]=b("normalizeSignalsAnyType"),a[b("SignalBaseTypes").BOOL]=b("normalizeSignalsBoolType"),a[b("SignalBaseTypes").CURRENCY_CODE]=b("normalizeSignalsCurrencyCodeType"),a[b("SignalBaseTypes").DATE]=b("normalizeSignalsDateType"),a[b("SignalBaseTypes").DATE_MONTH]=b("normalizeSignalsDateMonthType"),a[b("SignalBaseTypes").EMAIL]=b("normalizeSignalsEmailType"),a[b("SignalBaseTypes").ENUM]=b("normalizeSignalsEnumType"),a[b("SignalBaseTypes").FBID]=b("normalizeSignalsFBIDType"),a[b("SignalBaseTypes").LIST]=b("normalizeSignalsListType"),a[b("SignalBaseTypes").NUMBER]=b("normalizeSignalsNumberType"),a[b("SignalBaseTypes").PHONE_NUMBER]=b("normalizeSignalsPhoneNumberType"),a[b("SignalBaseTypes").POSTAL_CODE]=b("normalizeSignalsPostalCodeType"),a[b("SignalBaseTypes").SHA256]=b("normalizeSignalsSha256Type"),a[b("SignalBaseTypes").STRING]=b("normalizeSignalsStringType"),a[b("SignalBaseTypes").TIMESTAMP]=b("normalizeSignalsTimestampType"),a[b("SignalBaseTypes").UNIX_TIME]=b("normalizeSignalsUnixTimeType"),a[b("SignalBaseTypes").VALUE]=b("normalizeSignalsValueType"),a)}),null);
__d("signalsSchemaRuleChecker",["SignalsNormalizationErrorLevel","SignalsNormalizationErrorScope","SignalsValidationUtils","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").throwFatalError;function h(a){return a.length>0}function i(a,c){return{level:a.warnOnFail===!0?b("SignalsNormalizationErrorLevel").WARNING:b("SignalsNormalizationErrorLevel").REJECT,where:b("SignalsNormalizationErrorScope").RULE,ruleError:{ruleSpecs:a,details:c}}}function j(a,c){c=c.split(".");return b("getByPath")(a,c)!=null}function k(a,c,d){return j(a,c)&&b("getByPath")(a,c.split("."))===d}function a(a,c,d){c=d.args;(c==null||typeof c!=="string")&&g("invalid ruleSpecs",{ruleSpecs:d});return j(a,b("nullthrows")(c))?[]:[i(d)]}function c(a,c,d){c=d.args;(c==null||!Array.isArray(c)||c.length!==2||typeof c[0]!=="string")&&g("invalid ruleSpecs",{ruleSpecs:d});c=b("nullthrows")(c);var e=c[0];c=c[1];return k(a,e,c)?[]:[i(d)]}function d(a,c,d){__p&&__p();var e=d.args;(e==null||e.length!==2||typeof e[0]!=="object"||!Array.isArray(e[1]))&&g("invalid ruleSpecs",{ruleSpecs:d});e=b("nullthrows")(e);var f=e[0];e=e[1];(e.length===0||e.find(function(a){return typeof a!=="string"}))&&g("invalid ruleSpecs",{ruleSpecs:d});c=p(a,c,f);if(h(c))return[];var k=[];e.forEach(function(b){j(a,b)||k.push(b)});return k.length>0?[i(d,{invalidProps:k})]:[]}function f(a,b,c){b=parseInt(c.args,10);isNaN(b)&&g("invalid ruleSpecs",{ruleSpecs:c});return Object.keys(a).length>=b?[]:[i(c)]}function l(a,c,d){var e=d.args;(e==null||!Array.isArray(e))&&g("invalid ruleSpecs",{ruleSpecs:d});e=b("nullthrows")(e).reduce(function(b,d){d=p(a,c,d);return b.concat(d)},[]);h(e)&&e.push(i(d));return e}function m(a,c,d){var e=d.args;(e==null||!Array.isArray(e))&&g("invalid ruleSpecs",{ruleSpecs:d});e=b("nullthrows")(e).reduce(function(b,d){d=p(a,c,d);return{errors:b.errors.concat(d),passed:b.passed||!h(d)}},{errors:[],passed:!1});return e.passed?[]:[i(d)]}function n(a,b,c){a=Object.keys(a).filter(function(a){return(b.props||[]).find(function(b){return b.key===a})==null});return a.length>0?[i(c,{unidentifiedProps:a})]:[]}var o={dependentProps:d,meetAll:l,meetAny:m,minValidProps:f,propValid:a,propValueIs:c,rejectExtraProps:n};function p(a,c,d){if(typeof a!=="object")return[i(d)];var e=typeof d==="object"&&o[d.rule]||null;e==null&&g("cannot find rule function",{ruleSpecs:d});return b("nullthrows")(e)(a,c,d)}e.exports=p}),null);
__d("normalizeSignal",["SignalsNormalizationErrorLevel","SignalsNormalizationErrorScope","SignalsNormalizationPropError","SignalsValidationUtils","signalsSchemaRuleChecker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").addValueAtPath,h=b("SignalsValidationUtils").hasProp,i=b("SignalsValidationUtils").throwFatalError;function j(a,b,c){b={};var d={};for(var e in c)h(c,e)&&(Array.isArray(a)?g(b,c[e],a[Number(e)]):g(b,c[e],a[e]),g(d,c[e],e));return{newSignal:b,reverseMapping:d}}function k(a,b,c,d,e){__p&&__p();typeof b!=="object"&&i("propSchema is not an object",{propSchema:b});var f=b.type;if(typeof f==="object"){var g={};if(typeof a==="object"){var h=function(b){var h=f.props;h=(h!=null&&Array.isArray(h)?h:[]).find(function(a){return a.key===b});if(h==null){var i=e&&e[b]||{};h={type:i.baseType,typeParams:i.typeParams,maxOccurrence:i.maxOccurrence,key:b,customType:!0}}g[b]=k(a[b],h,c,d!=null&&typeof d==="object"?d[b]:undefined,e)};for(var j in a)h(j)}return{type:"compound",nodes:g,propSchema:b,errors:[],rawValue:a,infoForNormalization:c||undefined,reverseMapping:d||undefined}}return{type:"prop",propSchema:b,errors:[],rawValue:a,infoForNormalization:c||undefined,reverseMapping:d||undefined}}function l(a,c){return{level:b("SignalsNormalizationErrorLevel").WARNING,where:b("SignalsNormalizationErrorScope").PROP,propError:{error:a,badValues:c}}}function m(a,c,d){__p&&__p();var e=a.nodes,f=a.errors,g=a.propSchema,h=a.rawValue,j=a.reverseMapping;if(typeof e!=="object"){i("compound node node.nodes is not Object",{node:a});return}var k={};for(var m in e){var n=e[m];o(n,c,d);n.normalizedValue!=null&&(k[m]=n.normalizedValue)}var p=g.type;if(typeof p!=="object"){i("propSchema.type is not Object",{propSchema:g});return}p.validIf!=null&&f.push.apply(f,b("signalsSchemaRuleChecker")(k,p,p.validIf));f.push.apply(f,b("signalsSchemaRuleChecker")(k,p,{rule:"rejectExtraProps",warnOnFail:p.canHaveExtraProps===!0}));n=typeof h==="object"&&f.find(function(a){return a.level!==b("SignalsNormalizationErrorLevel").WARNING})==null;n?(d&&Array.isArray(p.transform)&&p.transform.forEach(function(a){a=d&&d[a];a!=null&&(k=a(k,p))}),a.normalizedValue=k):a.errors.push(l(b("SignalsNormalizationPropError").INVALID,[{value:h,rawPosition:j||undefined}]))}function n(a,c){__p&&__p();var d=a.propSchema,e=a.rawValue,f=a.reverseMapping,g=c[d.type];if(g==null){a.normalizedValue=e;return}var h=a.infoForNormalization&&a.infoForNormalization[d.key]||undefined;if(d.maxOccurrence==null){c=g(e,d.typeParams,h);var i=c.normalizedValue;c=c.additionalInfo;i!=null?a.normalizedValue=i:a.errors.push(l(b("SignalsNormalizationPropError").INVALID,[{value:e,rawPosition:f||undefined,details:c}]));return}i=e!=null&&Array.isArray(e);c=i?e||[]:[e];var j=i?f||[]:[f];if(c.length>d.maxOccurrence){a.errors.push(l(b("SignalsNormalizationPropError").TOO_MANY,c.map(function(a,b){return{value:a,rawPosition:j!=null?j[b]:undefined}})));return}var k=[],m=[];c.forEach(function(b,c){var e=g(b,d.typeParams,h&&h[c]||undefined),a=e.normalizedValue;e=e.additionalInfo;a!=null?m.push(a):k.push({value:b,rawPosition:j!=null?j[c]:undefined,details:e})});k.length>0&&a.errors.push(l(m.length===0?b("SignalsNormalizationPropError").INVALID:b("SignalsNormalizationPropError").SOME_INVALID,k));m.length>0&&(a.normalizedValue=m.length===1?m[0]:m)}function o(a,b,c){switch(a.type){case"compound":m(a,b,c);return;case"prop":n(a,b);return}}function p(a,b,c,d,e,f,g){a=k(a,{type:b},e,g,f);o(a,c,d||{});return a}function q(a,b){a.indexOf(b)===-1&&a.push(b)}function r(a,b){return a.length>0?a+"."+b:b}function s(a,c,d,e,f,g,h){__p&&__p();var i=a.errors,j=a.nodes,k=a.type,l=a.normalizedValue;a=a.propSchema;if(k==="compound"){for(var m in j)s(j[m],r(c,m),d,e,f,g,h);(a.type.props||[]).forEach(function(a){if(j==null||j[a.key]==null){a=r(c,a.key);q(f,a)}})}i.forEach(function(a){__p&&__p();if(a.where===b("SignalsNormalizationErrorScope").RULE){var f=a.ruleError,i=f&&f.ruleSpecs,j=i&&i.rule;if(j==="propValid"){i=i&&i.args;i=r(c,String(i));q(d,i);q(e,i)}else if(j==="dependentProps"){i=f&&f.details&&f.details.invalidProps||[];i.forEach(function(a){q(e,r(c,a))})}else if(j==="rejectExtraProps"){i=(f&&f.details&&f.details.unidentifiedProps||[]).map(function(a){return r(c,a)});i.forEach(function(c){q(g,c),a.level===b("SignalsNormalizationErrorLevel").REJECT&&q(h,c)})}}});l==null&&q(d,c)}function a(a,b,c,d,e,f,g){__p&&__p();var h=null,k=[],l=[],m=[],n=[],o=[];try{if(a!=null&&b!=null&&c!=null&&typeof b==="object"&&typeof c==="object"&&!(e==null&&Array.isArray(a))){var q=null;if(e!=null&&typeof e==="object"){var r=j(a,b,e);a=r.newSignal;q=r.reverseMapping}h=p(a,b,c,d||{},f||undefined,g||undefined,q||undefined);s(h,"",k,l,m,n,o)}else i("invalid input",{signal:a,mapping:e,schema:b,normalizers:c})}catch(a){return{tree:null,normalizedValue:null,valid:!1,fatalError:a,invalidProps:[],missingRequiredProps:[],notFoundProps:[],unidentifiedProps:[],notAllowedProps:[]}}return{tree:h,normalizedValue:h&&h.normalizedValue||null,valid:h&&h.normalizedValue!=null||!1,fatalError:null,invalidProps:k,missingRequiredProps:l,notFoundProps:m,unidentifiedProps:n,notAllowedProps:o}}e.exports=a}),null);
__d("normalizeSignalsJSONListType",["SignalsBaseTypeJSONListNestableNormalizers","SignalsValidationUtils","normalizeSignal"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").looksLikeHashed;function a(a,c){__p&&__p();c===void 0&&(c={nestedPropSchema:null});var d=null;c=c;var e=c.rejectEmptyList,f=c.maxItemsAllowed,h=c.nestedPropSchema;if(Array.isArray(a)){c=new Set(a.map(function(a){return typeof a}));if(c.size!==1)d=null;else switch(c.values().next().value){case"string":try{d=a.map(function(a){return JSON.parse(a)})}catch(a){d=null}break;default:d=null}}else if(typeof a==="string")if(g(a))d=null;else{a=a.trim();if(a.length===0)d=null;else{a[0]!=="["&&a[a.length-1]!=="]"&&(a="["+a+"]");try{d=JSON.parse(a),d=Array.isArray(d)?d:null}catch(a){d=null}}}c=null;d!=null&&(e&&d.length===0||f&&d.length>f||h==null?d=null:(d=d.map(function(a){return b("normalizeSignal")(a,h,b("SignalsBaseTypeJSONListNestableNormalizers"),{},null,null,null)}),c=d.map(function(a){return{missingRequiredProps:a.missingRequiredProps,notFoundProps:a.notFoundProps}}),d=d.map(function(a){return a.normalizedValue}),d=d.every(function(a){return a!=null})?d:null));return{additionalInfo:c,normalizedValue:d}}e.exports=a}),null);
__d("SignalsBaseTypeNormalizers",["SignalBaseTypes","normalizeSignalsAnyType","normalizeSignalsBoolType","normalizeSignalsCurrencyCodeType","normalizeSignalsDateType","normalizeSignalsDateMonthType","normalizeSignalsEmailType","normalizeSignalsEnumType","normalizeSignalsFBIDType","normalizeSignalsJSONListType","normalizeSignalsListType","normalizeSignalsNumberType","normalizeSignalsPhoneNumberType","normalizeSignalsPostalCodeType","normalizeSignalsSha256Type","normalizeSignalsStringType","normalizeSignalsTimestampType","normalizeSignalsUnixTimeType","normalizeSignalsValueType"],(function(a,b,c,d,e,f){"use strict";e.exports=(a={},a[b("SignalBaseTypes").ANY]=b("normalizeSignalsAnyType"),a[b("SignalBaseTypes").BOOL]=b("normalizeSignalsBoolType"),a[b("SignalBaseTypes").CURRENCY_CODE]=b("normalizeSignalsCurrencyCodeType"),a[b("SignalBaseTypes").DATE]=b("normalizeSignalsDateType"),a[b("SignalBaseTypes").DATE_MONTH]=b("normalizeSignalsDateMonthType"),a[b("SignalBaseTypes").EMAIL]=b("normalizeSignalsEmailType"),a[b("SignalBaseTypes").ENUM]=b("normalizeSignalsEnumType"),a[b("SignalBaseTypes").FBID]=b("normalizeSignalsFBIDType"),a[b("SignalBaseTypes").JSON_LIST]=b("normalizeSignalsJSONListType"),a[b("SignalBaseTypes").LIST]=b("normalizeSignalsListType"),a[b("SignalBaseTypes").NUMBER]=b("normalizeSignalsNumberType"),a[b("SignalBaseTypes").PHONE_NUMBER]=b("normalizeSignalsPhoneNumberType"),a[b("SignalBaseTypes").POSTAL_CODE]=b("normalizeSignalsPostalCodeType"),a[b("SignalBaseTypes").SHA256]=b("normalizeSignalsSha256Type"),a[b("SignalBaseTypes").STRING]=b("normalizeSignalsStringType"),a[b("SignalBaseTypes").TIMESTAMP]=b("normalizeSignalsTimestampType"),a[b("SignalBaseTypes").UNIX_TIME]=b("normalizeSignalsUnixTimeType"),a[b("SignalBaseTypes").VALUE]=b("normalizeSignalsValueType"),a)}),null);
__d("SignalsUploaderReader",["abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.__currentChunk=0,this.__currentPosition=0,this.__chunkSize=a}a.prototype.getSize=function(){return b("abstractMethod")("SignalsUploaderReader","getSize")};a.prototype.hasNextChunk=function(){return b("abstractMethod")("SignalsUploaderReader","hasNextChunk")};a.prototype.nextChunk=function(){return b("abstractMethod")("SignalsUploaderReader","nextChunk")};a.prototype.currentPosition=function(){return this.__currentPosition};a.prototype.currentChunk=function(){return this.__currentChunk};e.exports=a}),null);
__d("SignalsUploaderFileReader",["invariant","Promise","SignalsUploaderReader"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;d=babelHelpers.inherits(c,b("SignalsUploaderReader"));h=d&&d.prototype;function c(a,b){h.constructor.call(this,b),this.$SignalsUploaderFileReader1=a,this.$SignalsUploaderFileReader2=!1}c.prototype.getSize=function(){return this.$SignalsUploaderFileReader1.size};c.prototype.hasNextChunk=function(){return this.__currentPosition<this.$SignalsUploaderFileReader1.size};c.prototype.nextChunk=function(){__p&&__p();this.hasNextChunk()||g(0,707);var c=this.__currentPosition,d=Math.min(this.__currentPosition+this.__chunkSize,this.$SignalsUploaderFileReader1.size);this.__currentPosition=d;this.__currentChunk++;return new(b("Promise"))(function(b,e){a.FileReader!=null||g(0,5376);var f=new a.FileReader(),h=this.$SignalsUploaderFileReader3(c,d);f.onloadend=function(){if(f.error!=null)e(f.error);else{var a=f.result;b({start:c,end:d,data:a})}};f.readAsText(h)}.bind(this))};c.prototype.$SignalsUploaderFileReader3=function(b,c){a.Blob!=null||g(0,5377);var d=a.Blob.prototype.slice||a.Blob.prototype.webkitSlice||a.Blob.prototype.mozSlice;d!=null||g(0,5378);return d.call(this.$SignalsUploaderFileReader1,b,c)};e.exports=c}),null);
__d("SignalsUploaderTextReader",["invariant","Promise","SignalsUploaderReader"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("SignalsUploaderReader"));h=c&&c.prototype;function a(a,b){h.constructor.call(this,b),this.$SignalsUploaderTextReader1=a}a.prototype.getSize=function(){return this.$SignalsUploaderTextReader1.length};a.prototype.hasNextChunk=function(){return this.__currentPosition<this.$SignalsUploaderTextReader1.length};a.prototype.nextChunk=function(){this.hasNextChunk()||g(0,707);var a=this.__currentPosition,c=Math.min(this.__currentPosition+this.__chunkSize,this.$SignalsUploaderTextReader1.length);this.__currentPosition=c;this.__currentChunk++;return new(b("Promise"))(function(b,d){setTimeout(function(){var d=this.$SignalsUploaderTextReader1.substring(a,c);b({start:a,end:c,data:d})}.bind(this),0)}.bind(this))};e.exports=a}),null);
__d("createSignalsUploaderReader",["SignalsUploaderFileReader","SignalsUploaderTextReader"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a instanceof File?new(b("SignalsUploaderFileReader"))(a,c):new(b("SignalsUploaderTextReader"))(a,c)}e.exports=a}),null);
__d("SignalsUploaderTask",["Promise","abstractMethod","createSignalsUploaderReader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){this.$2=b("createSignalsUploaderReader")(a,c),this.$3=!1,this.$4=d}a.prototype.run=function(){return new(b("Promise"))(function(a,b){this.__logStart(),this.$1={resolve:a,reject:b},this.__initialize(),this.__tryToRead()}.bind(this))};a.prototype.stop=function(){this.__stopAndReject(new Error("Task stopped."))};a.prototype.getSourceSize=function(){return this.$2.getSize()};a.prototype.getChunksRequestedFromStream=function(){return this.$2.currentChunk()};a.prototype.__stopAndReject=function(a){this.__stop(),this.__running()&&(this.__logReject(a),this.$1&&this.$1.reject(a)),this.$1=null};a.prototype.__stopAndResolve=function(a){this.__stop(),this.__running()&&(this.__logResolve(a),this.$1&&this.$1.resolve(a)),this.$1=null};a.prototype.__tryToRead=function(){__p&&__p();if(this.$1==null)return;while(this.$2.hasNextChunk()&&this.__shouldReadNextChunk())this.$2.nextChunk().then(function(a){this.__running()&&this.__onChunk(a)}.bind(this))["catch"](function(a){return this.__stopAndReject(a)}.bind(this));if(!this.$2.hasNextChunk()){this.$3||(this.$3=!0,this.__running()&&this.__onEndOfStream({position:this.$2.currentPosition()}));return}};a.prototype.__running=function(){return this.$1!=null};a.prototype.__logEvent=function(a,b){b===void 0&&(b={}),this.$4&&this.$4.logEvent(a,b)};a.prototype.__logError=function(a,b,c){c===void 0&&(c={}),this.$4&&this.$4.logError(a,b,c)};a.prototype.__logStart=function(){};a.prototype.__logResolve=function(a){};a.prototype.__logReject=function(a){};a.prototype.__initialize=function(){b("abstractMethod")("SignalsUploaderTask","__initialize")};a.prototype.__stop=function(){b("abstractMethod")("SignalsUploaderTask","__stop")};a.prototype.__shouldReadNextChunk=function(){return b("abstractMethod")("SignalsUploaderTask","__shouldReadNextChunk")};a.prototype.__onChunk=function(a){b("abstractMethod")("SignalsUploaderTask","__onChunk")};a.prototype.__onEndOfStream=function(a){b("abstractMethod")("SignalsUploaderTask","__onEndOfStream")};e.exports=a}),null);
__d("SignalsUploaderCSVParser",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=[],this.$4="",this.$8="field-start",this.$5=1,this.$6=0,this.$7=0}a.prototype.readRows=function(){if(this.$8==="end-of-stream")return this.$2.splice(0,this.$2.length);else return this.$2.splice(0,this.$2.length-1)};a.prototype.onNewCharacter=function(a){this.$6++,this.$9(a)};a.prototype.$9=function(a){__p&&__p();a.length===1||g(0,5877);this.$8!=="end-of-stream"||g(0,5878);if(a==="\0")return;switch(this.$8){case"field-start":switch(a){case'"':this.$8="quoted-field";break;case"\r":this.$10();this.$11();this.$8="line-ends-with-CR";break;case"\n":this.$10();this.$11();break;case this.$1:this.$10();break;default:this.$8="unquoted-field";this.$9(a);break}break;case"unquoted-field":switch(a){case"\r":this.$10();this.$11();this.$8="line-ends-with-CR";break;case"\n":this.$10();this.$11();this.$8="field-start";break;case this.$1:this.$10();this.$8="field-start";break;default:this.$12(a);break}break;case"quoted-field":switch(a){case'"':this.$8="quote-in-quoted-field";break;default:this.$12(a);break}break;case"quote-in-quoted-field":switch(a){case'"':this.$12(a);this.$8="quoted-field";break;case"\r":this.$10();this.$11();this.$8="line-ends-with-CR";break;case"\n":this.$10();this.$11();this.$8="field-start";break;case this.$1:this.$10();this.$8="field-start";break;default:this.$4='"'+this.$4;this.$12(a);this.$8="unquoted-field";break}break;case"line-ends-with-CR":switch(a){case"\n":this.$8="field-start";this.$2[this.$2.length-1].end=this.$6;this.$7=this.$6;break;default:this.$8="field-start";this.$9(a);break}break}};a.prototype.onEndOfStream=function(){(this.$4.length>0||this.$3.length>0)&&(this.$10(),this.$11()),this.$8="end-of-stream"};a.prototype.$12=function(a){this.$4+=a};a.prototype.$10=function(){this.$3.push(this.$4),this.$4=""};a.prototype.$11=function(){this.$2.push({fields:this.$3,lineNumber:this.$5,start:this.$7,end:this.$6}),this.$3=[],this.$5++,this.$7=this.$6};e.exports=a}),null);
__d("SignalsUploaderJob",["abstractMethod"],(function(a,b,c,d,e,f){"use strict";function a(a){this.$1=a}a.prototype.__postMessageToMainThread=function(a){this.$1(a)};a.prototype.onReceiveMessageFromMainThread=function(a){b("abstractMethod")("SignalsUploaderJob","onMessage")};e.exports=a}),null);
__d("SignalsUploaderChunkDigestJob",["invariant","SignalsUploaderJob","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("SignalsUploaderJob"));h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$SignalsUploaderChunkDigestJob1=0,this.$SignalsUploaderChunkDigestJob2=[]}a.prototype.$SignalsUploaderChunkDigestJob4=function(a){this.$SignalsUploaderChunkDigestJob2.push(a),this.$SignalsUploaderChunkDigestJob2.sort(function(a,b){return a.start-b.start}),this.$SignalsUploaderChunkDigestJob5()};a.prototype.$SignalsUploaderChunkDigestJob6=function(a){this.$SignalsUploaderChunkDigestJob3==null||this.$SignalsUploaderChunkDigestJob3===a.position||g(0,467),this.$SignalsUploaderChunkDigestJob3=a.position,this.$SignalsUploaderChunkDigestJob5()};a.prototype.$SignalsUploaderChunkDigestJob5=function(){__p&&__p();for(var a=1;a<this.$SignalsUploaderChunkDigestJob2.length;a++)this.$SignalsUploaderChunkDigestJob2[a].start>=this.$SignalsUploaderChunkDigestJob2[a-1].end||g(0,468);this.$SignalsUploaderChunkDigestJob2.length>0&&this.$SignalsUploaderChunkDigestJob3!=null&&(this.$SignalsUploaderChunkDigestJob2[this.$SignalsUploaderChunkDigestJob2.length-1].end<=this.$SignalsUploaderChunkDigestJob3||g(0,469));this.$SignalsUploaderChunkDigestJob2.length>0&&(this.$SignalsUploaderChunkDigestJob2[0].start>=this.$SignalsUploaderChunkDigestJob1||g(0,470));while(this.$SignalsUploaderChunkDigestJob2.length>0&&this.$SignalsUploaderChunkDigestJob2[0].start===this.$SignalsUploaderChunkDigestJob1){a=this.$SignalsUploaderChunkDigestJob2[0];this.$SignalsUploaderChunkDigestJob2=this.$SignalsUploaderChunkDigestJob2.slice(1);this.$SignalsUploaderChunkDigestJob1=a.end;this.__processChunk(a)}this.$SignalsUploaderChunkDigestJob1===this.$SignalsUploaderChunkDigestJob3&&this.__processEndOfStream({position:this.$SignalsUploaderChunkDigestJob1})};a.prototype.onReceiveMessageFromMainThread=function(a){switch(a.type){case"chunk-ready":this.$SignalsUploaderChunkDigestJob4(a.chunk);break;case"end-of-stream":this.$SignalsUploaderChunkDigestJob6(a.endOfStream);break}};a.prototype.__processChunk=function(a){b("abstractMethod")("SignalsUploaderJob","_processChunk")};a.prototype.__processEndOfStream=function(a){b("abstractMethod")("SignalsUploaderJob","_processEndOfStream")};e.exports=a}),null);
__d("SignalsUploaderConstructBatchJob",["SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,c,d,e,f){g.constructor.call(this,f),this.$SignalsUploaderConstructBatchJob1=new(b("SignalsUploaderCSVParser"))(a),this.$SignalsUploaderConstructBatchJob2=c,this.$SignalsUploaderConstructBatchJob3=d,this.$SignalsUploaderConstructBatchJob4=e,this.$SignalsUploaderConstructBatchJob5=!0,this.$SignalsUploaderConstructBatchJob6=0,this.$SignalsUploaderConstructBatchJob7=0,this.$SignalsUploaderConstructBatchJob8=0,this.$SignalsUploaderConstructBatchJob9=[]}a.prototype.__processChunk=function(a){this.$SignalsUploaderConstructBatchJob8++;for(var b=0;b<a.data.length;b++){this.$SignalsUploaderConstructBatchJob1.onNewCharacter(a.data[b]);var c=this.$SignalsUploaderConstructBatchJob1.readRows();c.forEach(function(a){return this.$SignalsUploaderConstructBatchJob10(a)}.bind(this))}this.$SignalsUploaderConstructBatchJob11()};a.prototype.__processEndOfStream=function(a){this.$SignalsUploaderConstructBatchJob1.onEndOfStream();a=this.$SignalsUploaderConstructBatchJob1.readRows();a.forEach(function(a){return this.$SignalsUploaderConstructBatchJob10(a)}.bind(this));this.$SignalsUploaderConstructBatchJob12();this.$SignalsUploaderConstructBatchJob11();this.__postMessageToMainThread({type:"construct-batch-done"})};a.prototype.$SignalsUploaderConstructBatchJob10=function(a){this.$SignalsUploaderConstructBatchJob7++;if(this.$SignalsUploaderConstructBatchJob4&&this.$SignalsUploaderConstructBatchJob5){this.$SignalsUploaderConstructBatchJob5=!1;return}this.$SignalsUploaderConstructBatchJob13(a)?(this.$SignalsUploaderConstructBatchJob6++,this.$SignalsUploaderConstructBatchJob12()):(this.$SignalsUploaderConstructBatchJob9.push(a),this.$SignalsUploaderConstructBatchJob9.length>=this.$SignalsUploaderConstructBatchJob3&&this.$SignalsUploaderConstructBatchJob12())};a.prototype.$SignalsUploaderConstructBatchJob12=function(){if(this.$SignalsUploaderConstructBatchJob9.length===0)return;this.__postMessageToMainThread({type:"construct-batch-batch-ready",rows:this.$SignalsUploaderConstructBatchJob9,start:this.$SignalsUploaderConstructBatchJob9[0].start,end:this.$SignalsUploaderConstructBatchJob9[this.$SignalsUploaderConstructBatchJob9.length-1].end,chunkIndex:this.$SignalsUploaderConstructBatchJob8-1});this.$SignalsUploaderConstructBatchJob9=[]};a.prototype.$SignalsUploaderConstructBatchJob11=function(){this.__postMessageToMainThread({type:"construct-batch-chunk-processed",numChunksProcessed:this.$SignalsUploaderConstructBatchJob8,numRowsAlreadyUploaded:this.$SignalsUploaderConstructBatchJob6,numRowsParsed:this.$SignalsUploaderConstructBatchJob7})};a.prototype.$SignalsUploaderConstructBatchJob13=function(a){return this.$SignalsUploaderConstructBatchJob2.some(function(b){return!(b.start>=a.end||b.end<=a.start)})};e.exports=a}),null);
__d("SignalsUploaderDelimiterDetectJob",["SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[",","\t"," ","|",";"];c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,b){g.constructor.call(this,b),this.$SignalsUploaderDelimiterDetectJob1=a}a.prototype.__processChunk=function(a){__p&&__p();var c=h.map(function(a){return{parser:new(b("SignalsUploaderCSVParser"))(a),delimiter:a}});c.forEach(function(b){for(var c=0;c<a.data.length;c++)b.parser.onNewCharacter(a.data[c])});c=c.map(function(a){var b=a.delimiter;a=a.parser;a=a.readRows();if(a.length===0)return{delimiter:b,numColumnsInFirstRow:0,numRowsHavingSameColumnsAsFirstRow:0,numRows:0};var c=a[0].fields.length,d=a.reduce(function(a,b){return a+(b.fields.length===c?1:0)},0);return{delimiter:b,numColumnsInFirstRow:c,numRowsHavingSameColumnsAsFirstRow:d,numRows:a.length}});c=c.filter(function(a){return a.numColumnsInFirstRow>1&&a.numRows>0&&a.numRowsHavingSameColumnsAsFirstRow/a.numRows>=this.$SignalsUploaderDelimiterDetectJob1}.bind(this)).sort(function(a,b){return a.numColumnsInFirstRow-b.numColumnsInFirstRow}).reverse();this.__postMessageToMainThread({type:"delimiter-detect",delimiter:c.length>0?c[0].delimiter:null})};a.prototype.__processEndOfStream=function(a){this.__postMessageToMainThread({type:"delimiter-detect",delimiter:null})};e.exports=a}),null);
__d("SignalsUploaderFileRowNumberEstimationJob",["SignalsUploaderChunkDigestJob"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=["\r","\n"];c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,b){g.constructor.call(this,b),this.$SignalsUploaderFileRowNumberEstimationJob1=0,this.$SignalsUploaderFileRowNumberEstimationJob2=0,this.$SignalsUploaderFileRowNumberEstimationJob3=a}a.prototype.__processChunk=function(a){a=a.data;var b=0;while(b<this.$SignalsUploaderFileRowNumberEstimationJob3&&b<a.length){var c=a.charAt(b);h.includes(c)&&(this.$SignalsUploaderFileRowNumberEstimationJob1=b>0&&h.includes(a.charAt(b-1))?this.$SignalsUploaderFileRowNumberEstimationJob1:this.$SignalsUploaderFileRowNumberEstimationJob1+1);b++;this.$SignalsUploaderFileRowNumberEstimationJob2++}this.$SignalsUploaderFileRowNumberEstimationJob4()};a.prototype.__processEndOfStream=function(a){this.$SignalsUploaderFileRowNumberEstimationJob4()};a.prototype.$SignalsUploaderFileRowNumberEstimationJob4=function(){this.__postMessageToMainThread({type:"file-row-number-estimation-done",numberRows:this.$SignalsUploaderFileRowNumberEstimationJob1,bytesProcessed:this.$SignalsUploaderFileRowNumberEstimationJob2})};e.exports=a}),null);
__d("SignalsUploaderMappingDetectJob",["SignalBaseTypes","SignalDateFormats","SignalsBaseTypeNormalizers","SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=b("SignalBaseTypes").UNIX_TIME;d=b("SignalBaseTypes").DATE;f=b("SignalBaseTypes").VALUE;var i=["ISO8601","unix_time"].map(function(a){return{timeFormat:a}}),j=[".",",",""].map(function(a){return{decimalPointChar:a}}),k=(h={},h[d]=b("SignalDateFormats"),h[c]=i,h[f]=j,h);d=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=d&&d.prototype;function a(a,c,d,e,f){g.constructor.call(this,f),this.$SignalsUploaderMappingDetectJob1=new(b("SignalsUploaderCSVParser"))(a),this.$SignalsUploaderMappingDetectJob2=c,this.$SignalsUploaderMappingDetectJob3=d,this.$SignalsUploaderMappingDetectJob4=e,this.$SignalsUploaderMappingDetectJob5=0,this.$SignalsUploaderMappingDetectJob6=!1,this.$SignalsUploaderMappingDetectJob7=Math.ceil(this.$SignalsUploaderMappingDetectJob3*(1-e)),this.$SignalsUploaderMappingDetectJob8=[],this.$SignalsUploaderMappingDetectJob9=[]}a.prototype.__processChunk=function(a){for(var b=0;b<a.data.length;b++)this.$SignalsUploaderMappingDetectJob1.onNewCharacter(a.data[b]);this.$SignalsUploaderMappingDetectJob10(this.$SignalsUploaderMappingDetectJob1.readRows());this.$SignalsUploaderMappingDetectJob5>=this.$SignalsUploaderMappingDetectJob3?this.$SignalsUploaderMappingDetectJob11():this.$SignalsUploaderMappingDetectJob12()};a.prototype.__processEndOfStream=function(a){this.$SignalsUploaderMappingDetectJob1.onEndOfStream(),this.$SignalsUploaderMappingDetectJob10(this.$SignalsUploaderMappingDetectJob1.readRows()),this.$SignalsUploaderMappingDetectJob11()};a.prototype.$SignalsUploaderMappingDetectJob10=function(a){a.forEach(function(a){if(this.$SignalsUploaderMappingDetectJob5>=this.$SignalsUploaderMappingDetectJob3)return;this.$SignalsUploaderMappingDetectJob5===0?this.$SignalsUploaderMappingDetectJob13(a):this.$SignalsUploaderMappingDetectJob14(a);this.$SignalsUploaderMappingDetectJob5++}.bind(this))};a.prototype.$SignalsUploaderMappingDetectJob13=function(a){__p&&__p();var b=this.$SignalsUploaderMappingDetectJob2.schemasForSimplePropsInSchema;a.fields.forEach(function(a){var c={};for(var d in b){var e=d===a.toLowerCase();this.$SignalsUploaderMappingDetectJob6=this.$SignalsUploaderMappingDetectJob6||e;c[d]=this.$SignalsUploaderMappingDetectJob15(d,e)}this.$SignalsUploaderMappingDetectJob8.push(c);this.$SignalsUploaderMappingDetectJob9.push(0)}.bind(this));this.$SignalsUploaderMappingDetectJob6||this.$SignalsUploaderMappingDetectJob14(a)};a.prototype.$SignalsUploaderMappingDetectJob15=function(a,b){var c=this.$SignalsUploaderMappingDetectJob2.schemasForSimplePropsInSchema[a]||{},d=this.$SignalsUploaderMappingDetectJob2.pathForSimplePropKeys[a];c=k[c.type];return{propKey:a,propPath:d,isPreset:b,additionalInfos:(c||[null]).map(function(a){return{info:a,numInvalidSamples:0}})}};a.prototype.$SignalsUploaderMappingDetectJob14=function(a){__p&&__p();a.fields.forEach(function(a,c){__p&&__p();var d=this;if(c>=this.$SignalsUploaderMappingDetectJob8.length)return;var e=this.$SignalsUploaderMappingDetectJob8[c];if(a.length===0)return;this.$SignalsUploaderMappingDetectJob9[c]++;var f={},g=function(c){__p&&__p();c=e[c];var g=d.$SignalsUploaderMappingDetectJob16(c.propKey),h=g!=null?b("SignalsBaseTypeNormalizers")[g.type]:null;c.additionalInfos.forEach(function(b){if(h!=null&&g!=null){var c=h(a,g.typeParams||{},b.info);c.normalizedValue==null&&b.numInvalidSamples++}else b.numInvalidSamples++});c.additionalInfos=c.additionalInfos.filter(function(a){return a.numInvalidSamples<=this.$SignalsUploaderMappingDetectJob7}.bind(d));(c.additionalInfos.length>0||c.isPreset)&&(f[c.propKey]=c)};for(var h in e)g(h);this.$SignalsUploaderMappingDetectJob8[c]=f}.bind(this))};a.prototype.$SignalsUploaderMappingDetectJob11=function(){__p&&__p();var a=this.$SignalsUploaderMappingDetectJob8.map(function(a,b){__p&&__p();var c=this,d={},e=function(e){var f=a[e],g=c.$SignalsUploaderMappingDetectJob9[b];if(g===0)return"continue";f.additionalInfos=f.additionalInfos.filter(function(a){a=g-a.numInvalidSamples;return a/g>=this.$SignalsUploaderMappingDetectJob4}.bind(c));if(f.additionalInfos.length===0&&!f.isPreset)return"continue";d[e]=f};for(var f in a){var g=e(f);if(g==="continue")continue}return d}.bind(this));this.__postMessageToMainThread({type:"mapping-detect-done",possibleMappings:a,sampleCounts:this.$SignalsUploaderMappingDetectJob9,hasHeader:this.$SignalsUploaderMappingDetectJob6})};a.prototype.$SignalsUploaderMappingDetectJob16=function(a){return this.$SignalsUploaderMappingDetectJob2.schemasForSimplePropsInSchema[a]};a.prototype.$SignalsUploaderMappingDetectJob12=function(){this.__postMessageToMainThread({type:"mapping-detect-chunk-processed"})};e.exports=a}),null);
__d("SignalsUploaderErrorReportGenerator",["abstractMethod"],(function(a,b,c,d,e,f){"use strict";a.prototype.initialize=function(){return b("abstractMethod")("SignalsUploaderErrorReportGenerator","initialize")};a.prototype.update=function(a,c,d,e){b("abstractMethod")("SignalsUploaderErrorReportGenerator","update")};a.prototype.merge=function(a,c){return b("abstractMethod")("SignalsUploaderErrorReportGenerator","merge")};function a(){}e.exports=a}),null);
__d("SignalsUploaderAdvancedErrorReportGenerator",["invariant","SignalsNormalizationErrorScope","SignalsNormalizationPropError","SignalsUploaderErrorReportGenerator"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a,b){return a.length>0?a+"."+b:b}a=babelHelpers.inherits(j,b("SignalsUploaderErrorReportGenerator"));h=a&&a.prototype;function j(a){h.constructor.call(this),this.__maxNumInvalidSamples=a}j.prototype.initialize=function(){return{type:"advanced",invalidSamples:[],aggregatedColumnStats:{},aggregatedMissingPropPaths:{},numUnknownRejectErrors:0}};j.$SignalsUploaderAdvancedErrorReportGenerator1=function(a,b,c){var d=c.missingPropPaths.find(function(b){return b.propPath===a});d==null&&(d={propPath:a,rawErrors:[]},c.missingPropPaths.push(d));d.rawErrors.push(b)};j.$SignalsUploaderAdvancedErrorReportGenerator2=function(a,c,d){__p&&__p();var e=c.type,f=c.nodes,g=c.errors;if(e==="compound"&&f!=null)for(var h in f)j.$SignalsUploaderAdvancedErrorReportGenerator2(i(a,h),f[h],d);g.forEach(function(e){__p&&__p();if(e.where===b("SignalsNormalizationErrorScope").RULE){var f=e.ruleError,g=f&&f.ruleSpecs,h=g&&g.rule;if(h==="propValid"){g=g&&g.args;g!=null?j.$SignalsUploaderAdvancedErrorReportGenerator1(i(a,g),e,d):d.uncollectedErrors.push(e)}else if(h==="dependentProps"){g=f&&f.details&&f.details.invalidProps;Array.isArray(g)?g.forEach(function(b){j.$SignalsUploaderAdvancedErrorReportGenerator1(i(a,b),e,d)}):d.uncollectedErrors.push(e)}else h==="minValidProps"||h==="meetAll"||h==="rejectExtraProps"?d.ignoredErrors.push(e):d.uncollectedErrors.push(e)}else if(e.where===b("SignalsNormalizationErrorScope").PROP){f=e.propError;if(f!=null){g=f.error;g===b("SignalsNormalizationPropError").INVALID||g===b("SignalsNormalizationPropError").SOME_INVALID?f.badValues.forEach(function(b){b.rawPosition==null||c.type==="compound"||!b.value?d.ignoredErrors.push(e):d.invalidFields.push({value:b.value,reverseMapping:String(b.rawPosition),propPath:a,infoForNormalization:c.infoForNormalization&&c.infoForNormalization[c.propSchema.key],baseType:c.propSchema.type,details:b.details,rawError:e})}):d.uncollectedErrors.push(e)}else d.uncollectedErrors.push(e)}else d.uncollectedErrors.push(e)})};j.deriveErrorSample=function(a,b,c){__p&&__p();a={rowData:a,rowNumber:b,rejected:!c.valid,invalidFields:[],missingPropPaths:[],uncollectedErrors:[],ignoredErrors:[]};if(c.fatalError!=null){a.uncollectedErrors.push(c.fatalError);return a}b=c.tree;if(b==null){a.uncollectedErrors.push(new Error("Normalization tree not exist."));return a}j.$SignalsUploaderAdvancedErrorReportGenerator2("",b,a);return a.invalidFields.length===0&&a.missingPropPaths.length===0&&a.uncollectedErrors.length===0&&!a.rejected?null:a};j.prototype.update=function(a,b,c,d){__p&&__p();a.type==="advanced"||g(0,2100);var e=j.deriveErrorSample(b.fields,b.lineNumber,c),f=a.aggregatedColumnStats,h=a.aggregatedMissingPropPaths;b.fields.forEach(function(a,b){b=String(b);f[b]==null&&(f[b]={numEmpty:0,numInvalidAndRejected:0,numInvalidAndNotRejected:0});a.length===0&&f[b].numEmpty++});if(e==null)return;a.invalidSamples.length<this.__maxNumInvalidSamples&&a.invalidSamples.push(e);e.rejected&&e.uncollectedErrors.length>0&&a.numUnknownRejectErrors++;e.invalidFields.forEach(function(a){var b=a.reverseMapping;a=a.value;f[b]==null&&(f[b]={numEmpty:0,numInvalidAndRejected:0,numInvalidAndNotRejected:0});a.length>0&&(e.rejected?f[b].numInvalidAndRejected++:f[b].numInvalidAndNotRejected++)});e.missingPropPaths.forEach(function(a){h[a.propPath]=(h[a.propPath]||0)+1})};j.prototype.merge=function(a,b){__p&&__p();a.type==="advanced"||g(0,2100);b.type==="advanced"||g(0,2100);var c=babelHelpers["extends"]({},a.aggregatedColumnStats);for(var d in b.aggregatedColumnStats)c[d]==null?c[d]=b.aggregatedColumnStats[d]:(c[d].numEmpty+=b.aggregatedColumnStats[d].numEmpty,c[d].numInvalidAndRejected+=b.aggregatedColumnStats[d].numInvalidAndRejected,c[d].numInvalidAndNotRejected+=b.aggregatedColumnStats[d].numInvalidAndNotRejected);var e=babelHelpers["extends"]({},a.aggregatedMissingPropPaths);for(var f in b.aggregatedMissingPropPaths)e[f]=(e[f]||0)+b.aggregatedMissingPropPaths[f];return{type:"advanced",invalidSamples:[].concat(a.invalidSamples,b.invalidSamples).sort(function(a,b){return a.rowNumber-b.rowNumber}).slice(0,this.__maxNumInvalidSamples),aggregatedColumnStats:c,aggregatedMissingPropPaths:e,numUnknownRejectErrors:a.numUnknownRejectErrors+b.numUnknownRejectErrors}};e.exports=j}),null);
__d("SignalsUploaderDefaultErrorReportGenerator",["invariant","SignalsUploaderErrorReportGenerator"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("SignalsUploaderErrorReportGenerator"));h=c&&c.prototype;function a(a){h.constructor.call(this),this.__maxNumInvalidSamples=a}a.prototype.initialize=function(){return{type:"default",invalidSamples:[]}};a.prototype.update=function(a,b,c,d){a.type==="default"||g(0,2100);if(c.valid||a.invalidSamples.length>=this.__maxNumInvalidSamples||c.tree==null)return;a.invalidSamples.push(this.$SignalsUploaderDefaultErrorReportGenerator1(b,c,d))};a.prototype.__getInvalidPropKeys=function(a,b){var c=a.nodes,d=a.type,e=a.normalizedValue;a=a.propSchema;if(d==="compound")for(var f in c)this.__getInvalidPropKeys(c[f],b);else e==null&&a.key!=null&&(b[a.key]=!0)};a.prototype.__getInvalidAndEmptyColumns=function(a,b,c){__p&&__p();var d={},e=[];b=b.tree;b!=null&&this.__getInvalidPropKeys(b,d);for(var f in c){b=a.fields[parseInt(f,10)];var g=c[f];if((b===""||b==null)&&g!=null&&g!==""){b=g.split(".");g=b[b.length-1];e.push(g);delete d[g]}}return{invalidColumns:Object.keys(d),emptyColumns:e}};a.prototype.$SignalsUploaderDefaultErrorReportGenerator1=function(a,b,c){return babelHelpers["extends"]({row:a.lineNumber},this.__getInvalidAndEmptyColumns(a,b,c))};a.prototype.merge=function(a,b){a.type==="default"||g(0,2100);b.type==="default"||g(0,2100);return{type:"default",invalidSamples:a.invalidSamples.concat(b.invalidSamples).sort(function(a,b){return a.row-b.row}).slice(0,this.__maxNumInvalidSamples)}};e.exports=a}),null);
__d("SignalsUploaderWLALErrorReportGenerator",["invariant","SignalsNumberNormalizationErrorTypes","SignalsUploaderDefaultErrorReportGenerator","getByPath","normalizeSignalsValueType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=(c={},c[b("SignalsNumberNormalizationErrorTypes").EMPTY]="empty cell",c[b("SignalsNumberNormalizationErrorTypes").INVALID_SEPARATOR]="invalid separators",c[b("SignalsNumberNormalizationErrorTypes").NON_NUMERIC]="non-numeric value",c[b("SignalsNumberNormalizationErrorTypes").TOO_SMALL]="negative",c);h=babelHelpers.inherits(a,b("SignalsUploaderDefaultErrorReportGenerator"));h&&h.prototype;a.prototype.initialize=function(){return{type:"wlal",invalidSamples:[],valueErrorCounts:{empty:0,negative:0,nonNumeric:0,invalidSeparator:0}}};a.prototype.update=function(a,c,d,e){__p&&__p();a.type==="wlal"||g(0,2100);if(d.valid||d.tree==null)return;c=this.$SignalsUploaderWLALErrorReportGenerator1(c,d,e);switch(c.valueError){case b("SignalsNumberNormalizationErrorTypes").EMPTY:a.valueErrorCounts.empty++;break;case b("SignalsNumberNormalizationErrorTypes").TOO_SMALL:a.valueErrorCounts.negative++;break;case b("SignalsNumberNormalizationErrorTypes").NON_NUMERIC:a.valueErrorCounts.nonNumeric++;break;case b("SignalsNumberNormalizationErrorTypes").INVALID_SEPARATOR:a.valueErrorCounts.invalidSeparator++;break;default:break}a.invalidSamples.length<this.__maxNumInvalidSamples&&(c.valueError=c.valueError!=null&&c.valueError!==""&&i[c.valueError]||c.valueError,a.invalidSamples.push(c))};a.prototype.$SignalsUploaderWLALErrorReportGenerator1=function(a,c,d){__p&&__p();d=this.__getInvalidAndEmptyColumns(a,c,d);var e=d.invalidColumns;d=d.emptyColumns;e=e.filter(function(a){return a!=="lookalike_value"});d=d.filter(function(a){return a!=="lookalike_value"});var f;c=b("getByPath")(c,["tree","nodes","lookalike_value"],null);if(c!=null){var g=c.propSchema,h=c.rawValue;c=c.infoForNormalization;h=b("normalizeSignalsValueType")(h,g.typeParams,c);h.normalizedValue==null&&(f=b("getByPath")(h,["additionalInfo","errorType"],null))}return{row:a.lineNumber,invalidColumns:e,emptyColumns:d,valueError:f}};a.prototype.merge=function(a,b){a.type==="wlal"||g(0,2100);b.type==="wlal"||g(0,2100);return{type:"wlal",invalidSamples:a.invalidSamples.concat(b.invalidSamples).sort(function(a,b){return a.row-b.row}).slice(0,this.__maxNumInvalidSamples),valueErrorCounts:{empty:a.valueErrorCounts.empty+b.valueErrorCounts.empty,negative:a.valueErrorCounts.negative+b.valueErrorCounts.negative,nonNumeric:a.valueErrorCounts.nonNumeric+b.valueErrorCounts.nonNumeric,invalidSeparator:a.valueErrorCounts.invalidSeparator+b.valueErrorCounts.invalidSeparator}}};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("createSignalsUploaderErrorReportGenerator",["SignalsUploaderAdvancedErrorReportGenerator","SignalsUploaderDefaultErrorReportGenerator","SignalsUploaderWLALErrorReportGenerator"],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.type){case"wlal":return new(b("SignalsUploaderWLALErrorReportGenerator"))(a.maxNumInvalidSamples);case"advanced":return new(b("SignalsUploaderAdvancedErrorReportGenerator"))(a.maxNumInvalidSamples);case"default":default:return new(b("SignalsUploaderDefaultErrorReportGenerator"))(a.maxNumInvalidSamples)}}e.exports=a}),null);
__d("processPIISignalBeforeUpload",["SignalsValidationUtils","sha256"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsValidationUtils").hasProp,h=b("SignalsValidationUtils").looksLikeHashed;function i(a){return h(a)?a:b("sha256")(a)}function a(a,c){__p&&__p();c=c!=null&&Array.isArray(c.props)?c.props.filter(function(a){return a.typeParams&&typeof a.typeParams==="object"&&(a.typeParams.rejectHashed===!0||a.typeParams.doNotHash===!0)}).map(function(a){return a.key}):[];for(var d in a)if(g(a,d)){var e=a[d],f=!1;switch(d){case"fn":typeof e==="string"&&e.length&&!h(e)&&(a.fi=b("sha256")(e.charAt(0)),a.f5first=b("sha256")(e.substring(0,5)));break;case"ln":typeof e==="string"&&e.length&&!h(e)&&(a.f5last=b("sha256")(e.substring(0,5)));break;case"dob":typeof e==="string"&&!h(e)&&(e.length>=4&&(a.doby=b("sha256")(e.substring(0,4))),e.length>=6&&(a.dobm=b("sha256")(e.substring(4,6))),e.length>=8&&(a.dobd=b("sha256")(e.substring(6,8))));f=!0;break;case"age":a.dob==null&&a.doby==null&&(a.doby=b("sha256")(String(new Date().getFullYear()-e))),f=!0}c.indexOf(d)===-1&&!f&&(a[d]=Array.isArray(e)?e.map(function(a){return i(a)}):i(e));f&&delete a[d]}return a}e.exports=a}),null);
__d("SignalsUploaderNormalizeBatchJob",["SignalsBaseTypeNormalizers","SignalsUploaderJob","SignalsUploaderUtils","createSignalsUploaderErrorReportGenerator","normalizeSignal","processPIISignalBeforeUpload"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsUploaderUtils").arrayToObject,i=b("SignalsUploaderUtils").getMappingWithPreset,j=b("SignalsUploaderUtils").getPresetValueConfigFromObject,k={processPIISignalBeforeUpload:b("processPIISignalBeforeUpload")};c=babelHelpers.inherits(a,b("SignalsUploaderJob"));g=c&&c.prototype;function a(a,b,c,d){g.constructor.call(this,d),this.$SignalsUploaderNormalizeBatchJob1=a,this.$SignalsUploaderNormalizeBatchJob2=j(b),this.$SignalsUploaderNormalizeBatchJob3=c}a.prototype.onReceiveMessageFromMainThread=function(a){__p&&__p();if(a.type!=="normalize-batch")return;var c=[],d=b("createSignalsUploaderErrorReportGenerator")(this.$SignalsUploaderNormalizeBatchJob3),e=d.initialize();a.rows.forEach(function(a){var f=a.fields.length,g=h(a.fields.concat(this.$SignalsUploaderNormalizeBatchJob2.values));f=i(this.$SignalsUploaderNormalizeBatchJob1.mapping,f,this.$SignalsUploaderNormalizeBatchJob2.mappings);g=b("normalizeSignal")(g,this.$SignalsUploaderNormalizeBatchJob1.schema,b("SignalsBaseTypeNormalizers"),k,f,this.$SignalsUploaderNormalizeBatchJob1.infoForNormalization,this.$SignalsUploaderNormalizeBatchJob1.customTypeInfo);f=g.normalizedValue;f!=null&&c.push(f);d.update(e,a,g,this.$SignalsUploaderNormalizeBatchJob1.mapping)}.bind(this));this.__postMessageToMainThread({type:"normalize-batch-processed",batch:{start:a.start,end:a.end,rows:c,chunkIndex:a.chunkIndex},errorReport:e,numRowsFailedToNormalize:a.rows.length-c.length})};e.exports=a}),null);
__d("SignalsUploaderPreviewJob",["SignalsBaseTypeNormalizers","SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser","SignalsUploaderUtils","normalizeSignal"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsUploaderUtils").arrayToObject;c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,c,d,e,f){g.constructor.call(this,f),this.$SignalsUploaderPreviewJob1=new(b("SignalsUploaderCSVParser"))(a),this.$SignalsUploaderPreviewJob2=c,this.$SignalsUploaderPreviewJob3=d,this.$SignalsUploaderPreviewJob4=[],this.$SignalsUploaderPreviewJob5=e,this.$SignalsUploaderPreviewJob6=!0}a.prototype.__processChunk=function(a){for(var b=0;b<a.data.length;b++)this.$SignalsUploaderPreviewJob1.onNewCharacter(a.data[b]);this.$SignalsUploaderPreviewJob7(this.$SignalsUploaderPreviewJob1.readRows());this.$SignalsUploaderPreviewJob4.length>=this.$SignalsUploaderPreviewJob3?this.$SignalsUploaderPreviewJob8():this.$SignalsUploaderPreviewJob9()};a.prototype.__processEndOfStream=function(a){this.$SignalsUploaderPreviewJob1.onEndOfStream(),this.$SignalsUploaderPreviewJob7(this.$SignalsUploaderPreviewJob1.readRows()),this.$SignalsUploaderPreviewJob8()};a.prototype.$SignalsUploaderPreviewJob7=function(a){__p&&__p();var c=this.$SignalsUploaderPreviewJob2;a.forEach(function(a){if(this.$SignalsUploaderPreviewJob5&&this.$SignalsUploaderPreviewJob6){this.$SignalsUploaderPreviewJob6=!1;return}if(this.$SignalsUploaderPreviewJob4.length>=this.$SignalsUploaderPreviewJob3)return;a=h(a.fields);a=b("normalizeSignal")(a,c.schema,b("SignalsBaseTypeNormalizers"),{},c.mapping,c.infoForNormalization,c.customTypeInfo);this.$SignalsUploaderPreviewJob4.push(a)}.bind(this))};a.prototype.$SignalsUploaderPreviewJob8=function(){this.__postMessageToMainThread({type:"preview-done",previews:this.$SignalsUploaderPreviewJob4})};a.prototype.$SignalsUploaderPreviewJob9=function(){this.__postMessageToMainThread({type:"preview-chunk-processed"})};e.exports=a}),null);
__d("SignalsUploaderPreviewV2Job",["SignalsBaseTypeNormalizers","SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser","SignalsUploaderUtils","createSignalsUploaderErrorReportGenerator","normalizeSignal","processPIISignalBeforeUpload"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsUploaderUtils").arrayToObject,i=b("SignalsUploaderUtils").getMappingWithPreset,j=b("SignalsUploaderUtils").getPresetValueConfigFromObject,k={processPIISignalBeforeUpload:b("processPIISignalBeforeUpload")};c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,c,d,e,f,h,i){g.constructor.call(this,i),this.$SignalsUploaderPreviewV2Job1=new(b("SignalsUploaderCSVParser"))(a),this.$SignalsUploaderPreviewV2Job2=c,this.$SignalsUploaderPreviewV2Job3=j(d),this.$SignalsUploaderPreviewV2Job4=b("createSignalsUploaderErrorReportGenerator")(e),this.$SignalsUploaderPreviewV2Job5=this.$SignalsUploaderPreviewV2Job4.initialize(),this.$SignalsUploaderPreviewV2Job6=f,this.$SignalsUploaderPreviewV2Job7=h,this.$SignalsUploaderPreviewV2Job8=!0,this.$SignalsUploaderPreviewV2Job9=0,this.$SignalsUploaderPreviewV2Job10=[]}a.prototype.__processChunk=function(a){for(var b=0;b<a.data.length;b++)this.$SignalsUploaderPreviewV2Job1.onNewCharacter(a.data[b]);this.$SignalsUploaderPreviewV2Job11(this.$SignalsUploaderPreviewV2Job1.readRows());this.$SignalsUploaderPreviewV2Job9>=this.$SignalsUploaderPreviewV2Job6?this.$SignalsUploaderPreviewV2Job12():this.$SignalsUploaderPreviewV2Job13()};a.prototype.$SignalsUploaderPreviewV2Job11=function(a){__p&&__p();a.forEach(function(a){__p&&__p();if(this.$SignalsUploaderPreviewV2Job7&&this.$SignalsUploaderPreviewV2Job8){this.$SignalsUploaderPreviewV2Job8=!1;return}if(this.$SignalsUploaderPreviewV2Job9>=this.$SignalsUploaderPreviewV2Job6)return;this.$SignalsUploaderPreviewV2Job9++;var c=a.fields.length,d=h(a.fields.concat(this.$SignalsUploaderPreviewV2Job3.values));c=i(this.$SignalsUploaderPreviewV2Job2.mapping,c,this.$SignalsUploaderPreviewV2Job3.mappings);d=b("normalizeSignal")(d,this.$SignalsUploaderPreviewV2Job2.schema,b("SignalsBaseTypeNormalizers"),k,c,this.$SignalsUploaderPreviewV2Job2.infoForNormalization,this.$SignalsUploaderPreviewV2Job2.customTypeInfo);this.$SignalsUploaderPreviewV2Job4.update(this.$SignalsUploaderPreviewV2Job5,a,d,this.$SignalsUploaderPreviewV2Job2.mapping);c=d.normalizedValue;c!=null&&this.$SignalsUploaderPreviewV2Job10.push(c)}.bind(this))};a.prototype.__processEndOfStream=function(a){this.$SignalsUploaderPreviewV2Job1.onEndOfStream(),this.$SignalsUploaderPreviewV2Job11(this.$SignalsUploaderPreviewV2Job1.readRows()),this.$SignalsUploaderPreviewV2Job12()};a.prototype.$SignalsUploaderPreviewV2Job12=function(){this.__postMessageToMainThread({type:"preview-v2-done",errorReport:this.$SignalsUploaderPreviewV2Job5,numRowsProcessed:this.$SignalsUploaderPreviewV2Job9,normalizedRows:this.$SignalsUploaderPreviewV2Job10})};a.prototype.$SignalsUploaderPreviewV2Job13=function(){this.__postMessageToMainThread({type:"preview-v2-chunk-processed"})};e.exports=a}),null);
__d("SignalsUploaderSampleFetchJob",["SignalsUploaderChunkDigestJob","SignalsUploaderCSVParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderChunkDigestJob"));g=c&&c.prototype;function a(a,c,d){g.constructor.call(this,d),this.$SignalsUploaderSampleFetchJob1=new(b("SignalsUploaderCSVParser"))(a),this.$SignalsUploaderSampleFetchJob2=c,this.$SignalsUploaderSampleFetchJob3=[],this.$SignalsUploaderSampleFetchJob4=null}a.prototype.__processChunk=function(a){for(var b=0;b<a.data.length;b++)this.$SignalsUploaderSampleFetchJob1.onNewCharacter(a.data[b]);a=this.$SignalsUploaderSampleFetchJob1.readRows();this.$SignalsUploaderSampleFetchJob5(a);(b=this.$SignalsUploaderSampleFetchJob3).push.apply(b,a.map(function(a){return a.fields}));this.$SignalsUploaderSampleFetchJob3.length>=this.$SignalsUploaderSampleFetchJob2?this.$SignalsUploaderSampleFetchJob6():this.$SignalsUploaderSampleFetchJob7()};a.prototype.__processEndOfStream=function(a){var b;this.$SignalsUploaderSampleFetchJob1.onEndOfStream();a=this.$SignalsUploaderSampleFetchJob1.readRows();this.$SignalsUploaderSampleFetchJob5(a);(b=this.$SignalsUploaderSampleFetchJob3).push.apply(b,a.map(function(a){return a.fields}));this.$SignalsUploaderSampleFetchJob6()};a.prototype.$SignalsUploaderSampleFetchJob5=function(a){a.length>0&&this.$SignalsUploaderSampleFetchJob4==null&&(this.$SignalsUploaderSampleFetchJob4=a[0].end)};a.prototype.$SignalsUploaderSampleFetchJob6=function(){var a=this.$SignalsUploaderSampleFetchJob3.slice(0,this.$SignalsUploaderSampleFetchJob2),b=[];a.length>0&&(a[0].forEach(function(){return b.push([])}),a.forEach(function(a){return b.forEach(function(b,c){return b.push(a[c]!=null?a[c]:null)})}));this.__postMessageToMainThread({type:"sample-fetch-done",samples:b,firstRowEnd:this.$SignalsUploaderSampleFetchJob4})};a.prototype.$SignalsUploaderSampleFetchJob7=function(){this.__postMessageToMainThread({type:"sample-fetch-chunk-processed"})};e.exports=a}),null);
__d("SignalsUploaderJobManager",["invariant","SignalsUploaderConstructBatchJob","SignalsUploaderDelimiterDetectJob","SignalsUploaderFileRowNumberEstimationJob","SignalsUploaderMappingDetectJob","SignalsUploaderNormalizeBatchJob","SignalsUploaderPreviewJob","SignalsUploaderPreviewV2Job","SignalsUploaderSampleFetchJob"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$2=a}a.prototype.sendMessageToWorker=function(a){__p&&__p();switch(a.type){case"initialize-delimiter-detect-job":this.$1=new(b("SignalsUploaderDelimiterDetectJob"))(a.threshold,this.$2);break;case"initialize-sample-fetch-job":this.$1=new(b("SignalsUploaderSampleFetchJob"))(a.delimiter,a.numSampleRows,this.$2);break;case"initialize-file-row-number-estimation-job":this.$1=new(b("SignalsUploaderFileRowNumberEstimationJob"))(a.maxBytesToProcess,this.$2);break;case"initialize-preview-job":this.$1=new(b("SignalsUploaderPreviewJob"))(a.delimiter,a.normalizerSettings,a.numSampleRows,a.hasHeader,this.$2);break;case"initialize-preview-v2-job":this.$1=new(b("SignalsUploaderPreviewV2Job"))(a.delimiter,a.normalizerSettings,a.presetValues,a.errorReportConfig,a.numSampleRows,a.hasHeader,this.$2);break;case"initialize-mapping-detect-job":this.$1=new(b("SignalsUploaderMappingDetectJob"))(a.delimiter,a.schemaSummary,a.numSampleRows,a.threshold,this.$2);break;case"initialize-construct-batch-job":this.$1=new(b("SignalsUploaderConstructBatchJob"))(a.delimiter,a.progressRanges,a.maxNumRowsPerBatch,a.hasHeader,this.$2);break;case"initialize-normalize-batch-job":this.$1=new(b("SignalsUploaderNormalizeBatchJob"))(a.normalizerSettings,a.presetValues,a.errorReportConfig,this.$2);break;default:var c=this.$1;c!=null||g(0,1102);c.onReceiveMessageFromMainThread(a);break}};e.exports=a}),null);
__d("SignalsUploaderWorker",["abstractMethod"],(function(a,b,c,d,e,f){"use strict";a.prototype.postMessage=function(a){b("abstractMethod")("SignalsUploaderWorker","postMessage")};a.prototype.stop=function(){b("abstractMethod")("SignalsUploaderWorker","stop")};function a(){}e.exports=a}),null);
__d("SignalsUploaderUIWorker",["SignalsUploaderJobManager","SignalsUploaderWorker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderWorker"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$SignalsUploaderUIWorker1=a,this.$SignalsUploaderUIWorker2=new(b("SignalsUploaderJobManager"))(a)}a.prototype.postMessage=function(a){this.$SignalsUploaderUIWorker2.sendMessageToWorker(a)};a.prototype.stop=function(){};e.exports=a}),null);
__d("SignalsUploaderWebWorker",["SignalsUploaderWebWorkerEntryResource","SignalsUploaderWorker","WebWorker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderWorker"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$SignalsUploaderWebWorker1=new(b("WebWorker"))(b("SignalsUploaderWebWorkerEntryResource")).setMessageHandler(a).execute()}a.prototype.postMessage=function(a){this.$SignalsUploaderWebWorker1.postMessage(a)};a.prototype.stop=function(){this.$SignalsUploaderWebWorker1.terminate()};e.exports=a}),null);
__d("createSignalsUploaderWorker",["SignalsUploaderUIWorker","SignalsUploaderWebWorker","WebWorker"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("WebWorker").isSupported())return new(b("SignalsUploaderWebWorker"))(a);else return new(b("SignalsUploaderUIWorker"))(a)}e.exports=a}),null);
__d("SignalsUploaderSingleWorkerTask",["SignalsUploaderTask","abstractMethod","createSignalsUploaderWorker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderTask"));g=c&&c.prototype;function a(a,b,c){g.constructor.call(this,a,b,c)}a.prototype.__initialize=function(){this.$SignalsUploaderSingleWorkerTask1=b("createSignalsUploaderWorker")(this.__onReceiveMessageFromWorker.bind(this)),this.__initializeWorker()};a.prototype.__stop=function(){this.__running()&&(this.$SignalsUploaderSingleWorkerTask1&&this.$SignalsUploaderSingleWorkerTask1.stop()),this.$SignalsUploaderSingleWorkerTask1=null};a.prototype.__onChunk=function(a){this.__running()&&(this.$SignalsUploaderSingleWorkerTask1&&this.$SignalsUploaderSingleWorkerTask1.postMessage({type:"chunk-ready",chunk:a}))};a.prototype.__onEndOfStream=function(a){this.__running()&&(this.$SignalsUploaderSingleWorkerTask1&&this.$SignalsUploaderSingleWorkerTask1.postMessage({type:"end-of-stream",endOfStream:a}))};a.prototype.__postMessageToWorker=function(a){this.__running()&&(this.$SignalsUploaderSingleWorkerTask1&&this.$SignalsUploaderSingleWorkerTask1.postMessage(a))};a.prototype.__initializeWorker=function(){b("abstractMethod")("SignalsUploaderSingleWorkerTask","__initializeWorker")};a.prototype.__onReceiveMessageFromWorker=function(a){b("abstractMethod")("SignalsUploaderSingleWorkerTask","__handleJobMessage")};e.exports=a}),null);
__d("SignalsUploaderDelimiterDetectTask",["SignalsUploaderSingleWorkerTask"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderSingleWorkerTask"));g=c&&c.prototype;function a(a,b,c,d){g.constructor.call(this,a,c,d),this.$SignalsUploaderDelimiterDetectTask1=b}a.prototype.__shouldReadNextChunk=function(){return this.getChunksRequestedFromStream()===0};a.prototype.__initializeWorker=function(){this.__postMessageToWorker({type:"initialize-delimiter-detect-job",threshold:this.$SignalsUploaderDelimiterDetectTask1})};a.prototype.__onReceiveMessageFromWorker=function(a){switch(a.type){case"delimiter-detect":this.__stopAndResolve({task:"delimiter-detect",delimiter:a.delimiter});break}};a.prototype.__logStart=function(){this.__logEvent("signals-uploader-v2-delimiter-detect-start")};a.prototype.__logResolve=function(a){this.__logEvent("signals-uploader-v2-delimiter-detect-resolve",a)};a.prototype.__logReject=function(a){this.__logError("signals-uploader-v2-delimiter-detect-reject",a)};e.exports=a}),null);
__d("SignalsUploaderSampleFetchTask",["SignalsUploaderSingleWorkerTask"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderSingleWorkerTask"));g=c&&c.prototype;function a(a,b,c,d,e,f){g.constructor.call(this,a,d,f),this.$SignalsUploaderSampleFetchTask1=b,this.$SignalsUploaderSampleFetchTask2=c,this.$SignalsUploaderSampleFetchTask3=e,this.$SignalsUploaderSampleFetchTask4=0}a.prototype.__shouldReadNextChunk=function(){return this.getChunksRequestedFromStream()-this.$SignalsUploaderSampleFetchTask4<this.$SignalsUploaderSampleFetchTask3};a.prototype.__initializeWorker=function(){this.__postMessageToWorker({type:"initialize-sample-fetch-job",delimiter:this.$SignalsUploaderSampleFetchTask1,numSampleRows:this.$SignalsUploaderSampleFetchTask2})};a.prototype.__onReceiveMessageFromWorker=function(a){switch(a.type){case"sample-fetch-done":this.__stopAndResolve({task:"sample-fetch",samples:a.samples,firstRowEnd:a.firstRowEnd});break;case"sample-fetch-chunk-processed":this.$SignalsUploaderSampleFetchTask4++;this.__tryToRead();break}};a.prototype.__logStart=function(){this.__logEvent("signals-uploader-v2-sample-fetch-start")};a.prototype.__logResolve=function(a){this.__logEvent("signals-uploader-v2-sample-fetch-resolve")};a.prototype.__logReject=function(a){this.__logError("signals-uploader-v2-sample-fetch-reject",a)};e.exports=a}),null);
__d("SignalsDIUploaderLibraryUtils",["invariant","regeneratorRuntime","SignalsBaseTypeNormalizers","SignalsUploaderDelimiterDetectTask","SignalsUploaderSampleFetchTask"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={delimiterDetect:{threshold:.5,bytesToRead:64*1024},sampleFetch:{numSampleRows:101,chunkSize:1024,maxNumChunksInBuffer:2,delimiters:[",","\t"," ","|",";"]},mappingDetect:{numSampleRows:100,threshold:.8,chunkSize:16*1024,maxNumChunksInBuffer:2,delimiters:[",","\t"," ","|",";"]}};function a(a,c,d){__p&&__p();var e,f,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:e=d||h;o.next=3;return b("regeneratorRuntime").awrap(new(b("SignalsUploaderDelimiterDetectTask"))(a,e.delimiterDetect.threshold,e.delimiterDetect.bytesToRead,c).run());case 3:f=o.sent,f.task==="delimiter-detect"||g(0,169),i=f.delimiter,j={},l=0;case 8:if(!(l<e.sampleFetch.delimiters.length)){o.next=19;break}m=e.sampleFetch.delimiters[l];o.next=12;return b("regeneratorRuntime").awrap(new(b("SignalsUploaderSampleFetchTask"))(a,m,e.sampleFetch.numSampleRows,e.sampleFetch.chunkSize,e.sampleFetch.maxNumChunksInBuffer,c).run());case 12:n=o.sent,n.task==="sample-fetch"||g(0,169),j[m]=n.samples,k==null&&(k=n.firstRowEnd);case 16:l++;o.next=8;break;case 19:return o.abrupt("return",{detectedDelimiter:i,samples:j,firstRowEnd:k});case 20:case"end":return o.stop()}},null,this)}function c(a,c,d,e,f){__p&&__p();var g=a.keysForSimplePropPaths[d];if(g!=null)a=a.schemasForSimplePropsInSchema[g];else{if(f==null)return{valid:!1};if(d.endsWith("."))return{valid:!1};a={type:f}}g=b("SignalsBaseTypeNormalizers")[a.type];if(g==null)return{valid:!1};d=g(c,a.typeParams||{},e);return{valid:d.normalizedValue!=null,additionalInfo:d.additionalInfo}}e.exports={sampleFile:a,isValueAndMappingValid:c}}),null);
__d("SignalsDSDIConfigStore",["LoadObject","OfflineStandardEventsEnum","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{configLO:b("LoadObject").loading()}};a.prototype.__getName=function(){return e.id};a.prototype.updateConfigLater=function(a){this.updateStateLater({configLO:b("LoadObject").withValue(babelHelpers["extends"]({},this.getState().configLO.getValueEnforcing(),a))})};a.prototype.updateColumnMapping=function(a,c,d,e){__p&&__p();var f=this.getState().configLO.getValueEnforcing();a=f.columnConfig.set(a,{mapping:c,infoForNormalization:d,customType:e});c=babelHelpers["extends"]({},f.presetValues);a.some(function(a){return a&&a.mapping==="event_name"})&&delete c.event_name;(a.some(function(a){return a&&a.mapping==="currency"})||!a.some(function(a){return a&&a.mapping==="value"}))&&delete c.currency;!a.some(function(a){return a&&a.mapping==="value"})&&c.event_name===b("OfflineStandardEventsEnum").PURCHASE&&delete c.event_name;this.updateConfigLater({columnConfig:a,presetValues:c})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("signalsLoggingOfflineEventsUploaderActionContextListener",["immutable","SignalsSecondaryLoggingOptionsEnum"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set;var g=c([b("SignalsSecondaryLoggingOptionsEnum").ONE_LINE_PER_CALL]);function a(a){return{type:"OFFLINE_EVENTS_UPLOADER_ACTION_CONTEXT",cb:a,options:g}}e.exports=a}),null);
__d("SignalsDSDILoggerHelper",["SignalsDSDILogger","keyMirror","signalsLoggingOfflineEventsUploaderActionContextListener"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({FILE_SELECT:"",FILE_UNSELECT:"",VIEW_EXAMPLE:"",DOWNLOAD_EXAMPLE_CSV:"",RESUME_DETECTED:"",USE_PREVIOUS_CONFIG:"",USE_HEURISTIC_CONFIG:"",TOGGLE_HEADER:"",CHANGE_SEPARATOR:"",SET_DEFAULT_EVENT_NAME:"",SET_DEFAULT_CURRENCY:"",OPEN_MAPPING_SELECTOR:"",MAPPING_SELECTOR_BACK:"",MAP_STANDARD_FIELD:"",MAP_CUSTOM_FIELD:"",SET_CUSTOM_FIELD_TYPE:"",IGNORE_FIELD:"",SET_DOB_FORMAT:"",SET_EVENT_TIME_FORMAT:"",SET_EVENT_TIME_TIMEZONE:"",TEST_UPLOAD_DONE:"",ATTEMPT_TO_QUIT_FLOW_WITH_WARNING:"",CONFIRM_TO_QUIT_FLOW_WITH_WARNING:"",UPLOAD_SUCCESS_SURVEY:""});function h(a,c){c!=null?b("SignalsDSDILogger").secondary(b("signalsLoggingOfflineEventsUploaderActionContextListener"),function(){return{context:JSON.stringify(c)}}).logAction(a):b("SignalsDSDILogger").logAction(a)}function a(){h(g.FILE_SELECT)}function c(){h(g.FILE_UNSELECT)}function d(a){h(g.VIEW_EXAMPLE,{atStep:a})}function f(){h(g.DOWNLOAD_EXAMPLE_CSV)}function i(a){h(g.RESUME_DETECTED,{percentage:a})}function j(a){h(g.USE_PREVIOUS_CONFIG,a)}function k(a){h(g.USE_HEURISTIC_CONFIG,a)}function l(a){h(g.TOGGLE_HEADER,{hasHeader:a})}function m(a,b){h(g.CHANGE_SEPARATOR,{from:a,to:b})}function n(a){h(g.SET_DEFAULT_EVENT_NAME,{eventName:a})}function o(a){h(g.SET_DEFAULT_CURRENCY,{currency:a})}function p(a,b){h(g.OPEN_MAPPING_SELECTOR,{index:a,prevColumnConfig:b})}function q(){h(g.MAPPING_SELECTOR_BACK)}function r(a){h(g.MAP_STANDARD_FIELD,{mapping:a})}function s(){h(g.MAP_CUSTOM_FIELD)}function t(a){h(g.SET_CUSTOM_FIELD_TYPE,{type:a})}function u(){h(g.IGNORE_FIELD)}function v(a){h(g.SET_DOB_FORMAT,{format:a})}function w(a){h(g.SET_EVENT_TIME_FORMAT,{format:a})}function x(a){h(g.SET_EVENT_TIME_TIMEZONE,{timezoneOffset:a})}function y(a){h(g.TEST_UPLOAD_DONE,a)}function z(a,b){h(g.ATTEMPT_TO_QUIT_FLOW_WITH_WARNING,{fromHeader:a,atStep:b})}function A(a,b,c){h(g.CONFIRM_TO_QUIT_FLOW_WITH_WARNING,{atStep:a,feedback:c,isUploading:b})}function B(a,b){h(g.UPLOAD_SUCCESS_SURVEY,{rating:a,feedback:b})}e.exports={logFileSelect:a,logFileUnselect:c,logDownloadExampleCSV:f,logViewExample:d,logResumeDetected:i,logUsePreviousConfig:j,logUseHeuristicConfig:k,logToggleHeader:l,logChangeSeparator:m,logSetDefaultEventName:n,logSetDefaultCurrency:o,logOpenMappingSelector:p,logMappingSelectorBack:q,logMapStandardField:r,logMapCustomField:s,logSetCustomFieldType:t,logIgnoreField:u,logSetDOBFormat:v,logSetEventTimeFormat:w,logSetEventTimeTimezone:x,logTestUploadDone:y,logAttemptToQuitFlowWithWarning:z,logConfirmToQuitFlowWithWarning:A,logUploadSuccessSurvey:B}}),null);
__d("SignalsDSDIMUResumeStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{upload:null}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDIMUSuccessSurveyStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{rating:0,feedback:""}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDIMappingGuideDialogStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{isDialogOpen:!1}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDIMappingScoreStore",["LoadObject","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{scoresLO:b("LoadObject").loading()}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDIMappingSelectorStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{expandWho:!1,expandWhen:!1,expandWhat:!1,step:"select-mapping"}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDINamespaceIDStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{namespaceID:""}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDITestUploadStore",["LoadObject","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{resultLO:b("LoadObject").loading()}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSDITestUploadUtils",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b,c,d){__p&&__p();var e=c;e.type==="advanced"||g(0,1790);c={totalValidatedCount:d.total_validated_count,noMatchKeysCount:d.events_without_match_keys_count,matchCount:d.match_count,uniqueEventTimeOfDayCount:d.unique_event_time_of_day_count,eventsLagged2DaysCount:d.events_lagged_2_days_count,eventsLagged7DaysCount:d.events_lagged_7_days_count,eventsLagged90DaysCount:d.events_lagged_90_days_count,eventsWithValueCount:d.events_with_value_count,uniqueValueCount:d.unique_value_count,noOrderidCount:d.no_orderid_count,itemnumNoOrderidCount:d.events_with_itemnum_no_orderid_count,nonuniqueOrderidItemnumCount:d.nonunique_orderid_itemnum_count,orderidItemnumNonuniqueEventTimeCount:d.orderid_itemnum_nonunique_event_time_count,orderidNonuniqueMatchKeysCount:d.orderid_nonunique_match_keys_count,dataSetNotAssignedToAdAccount:d.dataset_not_assigned_to_adaccount,eventsBeforeAdAccountAssignment:d.events_before_adaccount_assignment.map(function(a){return{id:a.adaccount_id,name:a.adaccount_name,assignTime:a.assign_time,count:a.events_before_assignment}})};var f={total:0,missingPropPaths:e.aggregatedMissingPropPaths,numUnknownError:0},h={total:0,columnErrors:[]},i={};e.invalidSamples.forEach(function(a){a.rejected?(f.total++,f.numUnknownError+=a.uncollectedErrors.length>0?1:0):h.total++});Object.keys(e.aggregatedColumnStats).forEach(function(c){var d=parseInt(c,10),f=e.aggregatedColumnStats[c],g=b.mapping[c];g!=null&&(f.numInvalidAndNotRejected>0&&h.columnErrors.push({column:d,mapping:b.mapping[c],numErrors:f.numInvalidAndNotRejected}),i[d]={mapping:b.mapping[c],numValid:a-f.numEmpty-f.numInvalidAndRejected-f.numInvalidAndNotRejected,numInvalid:f.numInvalidAndRejected+f.numInvalidAndNotRejected,numEmpty:f.numEmpty})});return{numTotalEvents:a,rejectedEvents:f,incompleteEvents:h,columnStats:i,invalidSamples:e.invalidSamples,serverSideValidationResult:c}}e.exports={getTestUploadResult:a}}),null);
__d("SignalsPropDescriptors",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={email:{label:g._("Email")},phone:{label:g._("Phone Number"),description:g._("Phone numbers must include a country code. We accept formats with or without symbols.")},madid:{label:g._("Mobile Advertiser ID"),description:g._("We support 2 types of mobile advertiser IDs:"),formats:[g._("Android's Advertising ID (AAID)"),g._("Apple's Advertising Identifier (IDFA)")]},lead_id:{label:g._("Lead ID"),description:g._("Lead IDs should be numbers, and may be prefixed with \"l:\" (lowercase L and colon).")},extern_id:{label:g._("Extern ID"),description:g._("Thrid-party user id. It will not be hashed.")},fn:{label:g._("First Name"),description:g._("We accept first name and first name initials with or without accents.")},ln:{label:g._("Last Name"),description:g._("We accept full last names with or without accents.")},zip:{label:g._("ZIP\/Postal Code"),description:g._("We support US and international formats.")},ct:{label:g._("City"),examples:[g._("Menlo Park"),g._("Seattle"),g._("London")]},st:{label:g._("State\/Province"),description:g._("We accept US and international states and provinces, including US abbreviations.")},country:{label:g._("Country"),description:g._("Country must be an ISO two-letter country code.")},dob:{label:g._("Date of Birth"),description:g._("You can use 1 of 18 supported formats.")},doby:{label:g._("Year of Birth"),description:g._("We accept year of birth as YYYY.")},gen:{label:g._("Gender"),description:g._("We accept gender, abbreviated as M or F.")},age:{label:g._("Age"),description:g._("We accept age as a numerical value.")},appuid:{label:g._("Facebook App User ID"),description:g._("We support numerical user IDs associated with your Facebook application.")},fi:{label:g._("First name initial")},pageuid:{label:g._("Facebook Page User ID"),description:g._("We support numerical user IDs associated with your Facebook Page.")},event_name:{label:g._("Event Name"),description:g._("We support various event names:")},event_time:{label:g._("Event Time"),description:g._("The time the event occurred. We support events that occurred up to 2 years in the past. We encourage uploading within 48 hours of the event occurring to enable offline optimization. We recommend using timestamps that are accurate to the minute or second.")},value:{label:g._("Value"),description:g._("The Value field must contain a decimal number greater than or equal to zero. It can't include letters, special characters, currency symbols or commas.")},currency:{label:g._("Currency"),description:g._("We support standard 3-letter ISO currency codes.")},order_id:{label:g._("Order ID")},item_number:{label:g._("Item Number")},lookalike_value:{label:g._("Customer Value")},custom_data:{label:g._("Add Custom Type"),description:g._("You can send arbitrary data to Facebook, and use that to create Custom Audiences and Custom Conversions.")}};function a(a){var b=h[a.key];return b&&b.description||a.description}function b(a){var b=h[a.key];return b&&b.label||a.label||a.key}function c(a){var b=h[a.key],c=b&&b.formats||a.formats;b=b&&b.examples||a.examples;return c||b}e.exports={getPropDescription:a,getPropLabel:b,getPropFormatsOrExamples:c,PropDescriptors:h}}),null);
__d("SignalsDSDIUtils",["fbt","React","SignalsEventDataSchema","SignalsNumberNormalizationErrorTypes","SignalsPropDescriptors","SignalsTimestampNormalizationErrorTypes","getSignalsSchemaSummary","normalizeSignalsFBIDType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("getSignalsSchemaSummary")(b("SignalsEventDataSchema"));function i(a){return a!=null&&a.startsWith("custom_data.")}var j=["event_time","match_keys.appuid","match_keys.dob","match_keys.extern_id","match_keys.pageuid"];function a(a){return j.indexOf(a)>=0||i(a)}function c(a){__p&&__p();if(a==null)return g._("Ignored");if(i(a)){var c=a.split(".");return c[c.length-1]}c=h.keysForSimplePropPaths[a];if(c!=null){c=h.schemasForSimplePropsInSchema[c];if(c!=null)return b("SignalsPropDescriptors").getPropLabel(c)}return a==="match_keys"?g._("Matching Identifiers"):a}function k(a){return a<10?"0"+a:""+a}function d(a){__p&&__p();if(a<60)return"0:"+k(a);else if(a<3600){var b=Math.floor(a/60),c=a%60;return b+":"+k(c)}else{b=Math.floor(a/3600);c=a%3600;a=Math.floor(c/60);c=c%60;return b+":"+k(a)+":"+k(c)}}function f(a,c,d){__p&&__p();if(c==="value"&&d!=null&&d.errorType===b("SignalsNumberNormalizationErrorTypes").TOO_SMALL)return g._("We do not accept values that are less than or equal to zero. These events will be skipped during upload.");if(c==="event_time"&&d!=null){if(d.errorType===b("SignalsTimestampNormalizationErrorTypes").REJECT_FUTURE)return g._("We don't accept timestamps that are dated in the future. These events will be skipped during upload. If you are sending booking events, include the purchase or booking time instead of the activity date and time.");if(d.errorType===b("SignalsTimestampNormalizationErrorTypes").REJECT_TOO_EARLY)return g._("We don't accept timestamps that occur over 2 years ago. These events will be skipped during upload.")}if(c==="catalog_auto_population_info"&&d!=null){var e=["brand","gtin","manufacturer_part_number"],f=new Set(e);a=d.map(function(a,c){var d=a.missingRequiredProps;a=a.notFoundProps;d=d!=null?d:[];a=new Set(a.filter(function(a){return f.has(a)})).size===3;a&&(d=d.concat(e));return d.length>0?b("React").createElement("div",{key:"invalid_fields_"+c},c+" => "+d.sort().join(", ")):null}).filter(function(a){return a!==null});return g._("The data in this field is not formatted properly. Try fixing the following fields for the listed JSON objects: {invalid fields}",[g._param("invalid fields",a)])}if(c==="contents"&&d!=null){a=d.map(function(a,c){a=a.missingRequiredProps;return a!==null&&a.length>0?b("React").createElement("div",{key:"invalid_fields_"+c},c+" => "+a.sort().join(", ")):null}).filter(function(a){return a!==null});return g._("The data in this field is not formatted properly. Try fixing the following fields for the listed JSON objects: {invalid fields}",[g._param("invalid fields",a)])}return g._("The data in this field is not formatted properly. Please review the settings for this field. You may need to use a new version of this file with a valid format.")}function l(a,b){return{delimiter:a.delimiter,hasHeader:a.hasHeader,presetValues:a.presetValues,columnConfig:a.columnConfig.toArray(),namespaceID:b}}function m(a){return a===""?!0:b("normalizeSignalsFBIDType")(a).normalizedValue!=null}e.exports={isCustomDataMapping:i,getFbtForMapping:c,getFbtForValueError:f,needsSecondStep:a,formatTimeDuration:d,configToJSON:l,isNamespaceIDValid:m}}),null);
__d("SignalsHomeDSDIMUCancelUploadDialogStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{isDialogOpen:!1,shouldLeavePage:!1,feedback:""}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeDSDIMUStepStore",["SignalsDSDILogger","SignalsDSDILoggerSteps","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{step:"select-file"}};a.prototype.__getName=function(){return e.id};a.prototype.updateStepAndLog=function(a){__p&&__p();if(a!==this.getState().step)switch(a){case"select-file":b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_FILE_SELECTION);break;case"configure":b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_MAPPING);break;case"test-upload":b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_TEST_UPLOAD);break;case"upload":b("SignalsDSDILogger").logAction(b("SignalsDSDILoggerSteps").STEP_TO_UPLOAD);break}this.updateStateLater({step:a})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeDSLastUploadUIStateStore",["SignalsDSRefreshStoreDataActionPlugin","SignalsUIStateStore","immutable","signalsNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{lastUIUploadMap:b("immutable").Map()}};a.prototype.__getName=function(){return e.id};a.prototype.getLastUIUpload=function(a){var b=this.getState();b=b.lastUIUploadMap;return b.get(a)||null};a.prototype.uploaderFinish=function(a,c){c=c.numRowsUploaded;if(c===0)return;var d=this.getState();d=d.lastUIUploadMap;this.updateStateLater({lastUIUploadMap:d.set(a,{count:c,time:b("signalsNow").getNow()})})};a.prototype.resetUpload=function(a){var b=this.getState();b=b.lastUIUploadMap;this.updateStateLater({lastUIUploadMap:b["delete"](a)})};a.prototype.__customReduce=function(a,c){c=c.action;switch(c.type){case b("SignalsDSRefreshStoreDataActionPlugin").actionType:this.resetUpload(c.dataSetID);return a;default:return a}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsUploaderBatchSender",["errorCode","invariant","Promise","AdsGraphAPI","ApiClient","UrlMap","getErrorFromAPIResponse","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){var b=new Error(a.message);Object.assign(b,a);return b}function a(a,c,d,f,g){__p&&__p();return function(i,j){__p&&__p();return new(b("Promise"))(function(k,l){var m=function(a){a.code===1&&a.error_subcode===1357045&&(a.is_network_error=!0),l(a)},n=b("AdsGraphAPI").get(e.id).object(a,c).edge(d),o=g(i);j!=null&&(o.access_token=j);switch(f){case"POST":b("promiseDone")(n.post(o),k,m);break;case"DELETE":b("promiseDone")(n.remove(o),k,m);break;default:h(0,3115)}})}}function c(a,c,d,e,f){__p&&__p();return function(a,g){__p&&__p();return new(b("Promise"))(function(h,j){__p&&__p();var k=b("UrlMap").resolve("graph")+"/v"+b("AdsGraphAPI").getVersion()+"/"+c+"/"+d+"?access_token="+(g||b("ApiClient").getAccessToken()),l=f(a),m=new XMLHttpRequest();m.open(e,k,!0);m.setRequestHeader("Content-Type","application/json");m.onreadystatechange=function(){__p&&__p();if(m.readyState!==4)return;if(m.status===200){var a;try{a=JSON.parse(m.responseText)}catch(a){j(new Error("Invalid JSON: "+m.responseText));return}a=b("getErrorFromAPIResponse")(a);a?j(i(a)):h()}else j(i({code:1,error_subcode:1357045,is_network_error:!0}))};m.send(JSON.stringify(babelHelpers["extends"]({suppress_http_code:1},l)))})}}e.exports={getNativeAdsGraphAPISender:a,getXMLHTTPRequestGraphAPISender:c}}),null);
__d("SignalsUploaderMappingDetectTask",["SignalsUploaderSingleWorkerTask"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderSingleWorkerTask"));g=c&&c.prototype;function a(a,b,c,d,e,f,h,i){g.constructor.call(this,a,f,i),this.$SignalsUploaderMappingDetectTask1=b,this.$SignalsUploaderMappingDetectTask2=c,this.$SignalsUploaderMappingDetectTask3=d,this.$SignalsUploaderMappingDetectTask4=e,this.$SignalsUploaderMappingDetectTask5=h,this.$SignalsUploaderMappingDetectTask6=0}a.prototype.__shouldReadNextChunk=function(){return this.getChunksRequestedFromStream()-this.$SignalsUploaderMappingDetectTask6<this.$SignalsUploaderMappingDetectTask5};a.prototype.__initializeWorker=function(){this.__postMessageToWorker({type:"initialize-mapping-detect-job",delimiter:this.$SignalsUploaderMappingDetectTask1,schemaSummary:this.$SignalsUploaderMappingDetectTask2,numSampleRows:this.$SignalsUploaderMappingDetectTask3,threshold:this.$SignalsUploaderMappingDetectTask4})};a.prototype.__onReceiveMessageFromWorker=function(a){switch(a.type){case"mapping-detect-done":this.__stopAndResolve({task:"mapping-detect",possibleMappings:a.possibleMappings,sampleCounts:a.sampleCounts,hasHeader:a.hasHeader});break;case"mapping-detect-chunk-processed":this.$SignalsUploaderMappingDetectTask6++;this.__tryToRead();break}};a.prototype.__logStart=function(){this.__logEvent("signals-uploader-v2-mapping-detect-start")};a.prototype.__logResolve=function(a){this.__logEvent("signals-uploader-v2-mapping-detect-resolve",a)};a.prototype.__logReject=function(a){this.__logError("signals-uploader-v2-mapping-detect-reject",a)};e.exports=a}),null);
__d("SignalsUploaderPreviewV2Task",["SignalsUploaderSingleWorkerTask"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SignalsUploaderSingleWorkerTask"));g=c&&c.prototype;function a(a,b,c,d,e,f,h,i,j,k){g.constructor.call(this,a,i,k),this.$SignalsUploaderPreviewV2Task1=b,this.$SignalsUploaderPreviewV2Task2=c,this.$SignalsUploaderPreviewV2Task3=d,this.$SignalsUploaderPreviewV2Task4=e,this.$SignalsUploaderPreviewV2Task5=f,this.$SignalsUploaderPreviewV2Task6=h,this.$SignalsUploaderPreviewV2Task7=j,this.$SignalsUploaderPreviewV2Task8=0}a.prototype.__shouldReadNextChunk=function(){return this.getChunksRequestedFromStream()-this.$SignalsUploaderPreviewV2Task8<this.$SignalsUploaderPreviewV2Task7};a.prototype.__initializeWorker=function(){this.__postMessageToWorker({type:"initialize-preview-v2-job",delimiter:this.$SignalsUploaderPreviewV2Task1,normalizerSettings:this.$SignalsUploaderPreviewV2Task2,presetValues:this.$SignalsUploaderPreviewV2Task3,errorReportConfig:this.$SignalsUploaderPreviewV2Task4,numSampleRows:this.$SignalsUploaderPreviewV2Task5,hasHeader:this.$SignalsUploaderPreviewV2Task6})};a.prototype.__onReceiveMessageFromWorker=function(a){switch(a.type){case"preview-v2-done":this.__stopAndResolve({task:"preview-v2",errorReport:a.errorReport,numRowsProcessed:a.numRowsProcessed,normalizedRows:a.normalizedRows});break;case"preview-v2-chunk-processed":this.$SignalsUploaderPreviewV2Task8++;this.__tryToRead();break}};a.prototype.__logStart=function(){this.__logEvent("signals-uploader-v2-preview-v2-start")};a.prototype.__logResolve=function(a){this.__logEvent("signals-uploader-v2-preview-v2-resolve")};a.prototype.__logReject=function(a){this.__logError("signals-uploader-v2-preview-v2-reject",a)};e.exports=a}),null);
__d("SignalsUploaderUploadTask",["invariant","Promise","SignalsUploaderTask","createSignalsUploaderErrorReportGenerator","createSignalsUploaderWorker"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;d=babelHelpers.inherits(c,b("SignalsUploaderTask"));h=d&&d.prototype;function c(a,c,d,e,f,g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){h.constructor.call(this,a,k,x),this.$SignalsUploaderUploadTask2=o,this.$SignalsUploaderUploadTask3=[],this.$SignalsUploaderUploadTask4=0,this.$SignalsUploaderUploadTask5=c,this.$SignalsUploaderUploadTask6=i,this.$SignalsUploaderUploadTask7=j,this.$SignalsUploaderUploadTask8=f,this.$SignalsUploaderUploadTask9=d,this.$SignalsUploaderUploadTask10=e,this.$SignalsUploaderUploadTask12=g,this.$SignalsUploaderUploadTask13=b("createSignalsUploaderErrorReportGenerator")(g),this.$SignalsUploaderUploadTask11=this.$SignalsUploaderUploadTask13.initialize(),this.$SignalsUploaderUploadTask14=k,this.$SignalsUploaderUploadTask15=this.getSourceSize(),this.$SignalsUploaderUploadTask16=l,this.$SignalsUploaderUploadTask17=m,this.$SignalsUploaderUploadTask18=n,this.$SignalsUploaderUploadTask19=0,this.$SignalsUploaderUploadTask20=0,this.$SignalsUploaderUploadTask21=0,this.$SignalsUploaderUploadTask22=0,this.$SignalsUploaderUploadTask23=0,this.$SignalsUploaderUploadTask24=0,this.$SignalsUploaderUploadTask25=[],this.$SignalsUploaderUploadTask26=!1,this.$SignalsUploaderUploadTask27=0,this.$SignalsUploaderUploadTask28=0,this.$SignalsUploaderUploadTask29=0,this.$SignalsUploaderUploadTask30=[],this.$SignalsUploaderUploadTask31=p,this.$SignalsUploaderUploadTask32=q,this.$SignalsUploaderUploadTask33=r,this.$SignalsUploaderUploadTask34=s,this.$SignalsUploaderUploadTask35=t,this.$SignalsUploaderUploadTask36=u,this.$SignalsUploaderUploadTask37=v,this.$SignalsUploaderUploadTask38=w,this.$SignalsUploaderUploadTask39=!1,this.$SignalsUploaderUploadTask40=Date.now(),this.$SignalsUploaderUploadTask41=null}c.prototype.setAccessToken=function(a){this.$SignalsUploaderUploadTask41=a};c.prototype.__shouldReadNextChunk=function(){return this.getChunksRequestedFromStream()-this.$SignalsUploaderUploadTask19<this.$SignalsUploaderUploadTask16&&this.$SignalsUploaderUploadTask25.length+this.$SignalsUploaderUploadTask28<this.$SignalsUploaderUploadTask17};c.prototype.__initialize=function(){this.$SignalsUploaderUploadTask1=b("createSignalsUploaderWorker")(this.__onReceiveMessageFromParserWorker.bind(this));this.$SignalsUploaderUploadTask1.postMessage({type:"initialize-construct-batch-job",delimiter:this.$SignalsUploaderUploadTask5,maxNumRowsPerBatch:this.$SignalsUploaderUploadTask6,progressRanges:this.$SignalsUploaderUploadTask8,hasHeader:this.$SignalsUploaderUploadTask7});var c=Math.min(a.navigator&&a.navigator.hardwareConcurrency||1,this.$SignalsUploaderUploadTask2);for(var d=0;d<c;d++){var e=b("createSignalsUploaderWorker")(this.__onReceiveMessageFromNormalizerWorker.bind(this));e.postMessage({type:"initialize-normalize-batch-job",normalizerSettings:this.$SignalsUploaderUploadTask9,presetValues:this.$SignalsUploaderUploadTask10,errorReportConfig:this.$SignalsUploaderUploadTask12});this.$SignalsUploaderUploadTask3.push(e)}this.__logEvent("signals-uploader-v2-upload-start",{progressRanges:this.$SignalsUploaderUploadTask8,hasHeader:this.$SignalsUploaderUploadTask7,presetValues:this.$SignalsUploaderUploadTask10,mapping:this.$SignalsUploaderUploadTask9.mapping,infoForNormalization:this.$SignalsUploaderUploadTask9.infoForNormalization,customTypeInfo:this.$SignalsUploaderUploadTask9.customTypeInfo,schemaID:this.$SignalsUploaderUploadTask9.schema.id,numNormalizerWorkers:c})};c.prototype.__stop=function(){this.__running()&&(this.$SignalsUploaderUploadTask1&&this.$SignalsUploaderUploadTask1.stop(),this.$SignalsUploaderUploadTask3.forEach(function(a){return a.stop()})),this.$SignalsUploaderUploadTask1=null,this.$SignalsUploaderUploadTask3=[]};c.prototype.__onChunk=function(a){this.__running()&&(this.$SignalsUploaderUploadTask1&&this.$SignalsUploaderUploadTask1.postMessage({type:"chunk-ready",chunk:a}))};c.prototype.__onEndOfStream=function(a){this.__running()&&(this.$SignalsUploaderUploadTask1&&this.$SignalsUploaderUploadTask1.postMessage({type:"end-of-stream",endOfStream:a}))};c.prototype.__onReceiveMessageFromParserWorker=function(a){__p&&__p();if(!this.__running())return;switch(a.type){case"construct-batch-chunk-processed":this.$SignalsUploaderUploadTask19=a.numChunksProcessed;this.$SignalsUploaderUploadTask20=a.numRowsAlreadyUploaded;this.$SignalsUploaderUploadTask24=a.numRowsParsed;this.$SignalsUploaderUploadTask42();this.$SignalsUploaderUploadTask43();break;case"construct-batch-batch-ready":this.$SignalsUploaderUploadTask28++;this.$SignalsUploaderUploadTask3[this.$SignalsUploaderUploadTask4].postMessage({type:"normalize-batch",rows:a.rows,start:a.start,end:a.end,chunkIndex:a.chunkIndex});this.$SignalsUploaderUploadTask4++;this.$SignalsUploaderUploadTask4>=this.$SignalsUploaderUploadTask3.length&&(this.$SignalsUploaderUploadTask4=0);this.$SignalsUploaderUploadTask43();break;case"construct-batch-done":this.$SignalsUploaderUploadTask26=!0;this.$SignalsUploaderUploadTask43();break}};c.prototype.__onReceiveMessageFromNormalizerWorker=function(a){if(!this.__running()||a.type!=="normalize-batch-processed")return;this.$SignalsUploaderUploadTask11=this.$SignalsUploaderUploadTask13.merge(this.$SignalsUploaderUploadTask11,a.errorReport);this.$SignalsUploaderUploadTask28--;this.$SignalsUploaderUploadTask30.push({numRowsFailedToNormalize:a.numRowsFailedToNormalize,numRowsUploaded:0,numRowsFailedToUpload:0,chunkIndex:a.batch.chunkIndex});this.$SignalsUploaderUploadTask42();a.batch.rows.length>0&&this.$SignalsUploaderUploadTask25.push(a.batch);this.$SignalsUploaderUploadTask43()};c.prototype.$SignalsUploaderUploadTask43=function(){__p&&__p();var a=this;if(!this.__running())return;this.__tryToRead();var b=function(){var b=a.$SignalsUploaderUploadTask25.splice(0,1)[0];a.$SignalsUploaderUploadTask27++;a.$SignalsUploaderUploadTask44(b,a.$SignalsUploaderUploadTask33,a.$SignalsUploaderUploadTask35).then(function(){this.$SignalsUploaderUploadTask45(b,!0)}.bind(a))["catch"](function(a){this.$SignalsUploaderUploadTask45(b,!1)}.bind(a))};while(this.$SignalsUploaderUploadTask27<this.$SignalsUploaderUploadTask18&&this.$SignalsUploaderUploadTask25.length>0)b();this.$SignalsUploaderUploadTask26&&this.$SignalsUploaderUploadTask28===0&&this.$SignalsUploaderUploadTask27===0&&this.$SignalsUploaderUploadTask25.length===0&&this.$SignalsUploaderUploadTask46()};c.prototype.$SignalsUploaderUploadTask44=function(a,c,d){__p&&__p();return new(b("Promise"))(function(b,e){__p&&__p();this.$SignalsUploaderUploadTask31(a,this.$SignalsUploaderUploadTask41).then(function(){this.$SignalsUploaderUploadTask39&&(this.$SignalsUploaderUploadTask39=!1,this.$SignalsUploaderUploadTask38(!1),this.__logEvent("signals-uploader-v2-upload-network-online"));var a=this.$SignalsUploaderUploadTask33-c,e=this.$SignalsUploaderUploadTask35-d;(a>0||e>0)&&this.__logEvent("signals-uploader-v2-upload-retry-success",{numRetriesAPIError:a,numRetiresForNetworkError:e});b()}.bind(this))["catch"](function(f){__p&&__p();if(f.is_network_error)this.$SignalsUploaderUploadTask39||(this.$SignalsUploaderUploadTask39=!0,this.$SignalsUploaderUploadTask38(!0),this.__logEvent("signals-uploader-v2-upload-network-offline")),d!==0?setTimeout(function(){this.$SignalsUploaderUploadTask44(a,c,d-1).then(b)["catch"](e)}.bind(this),this.$SignalsUploaderUploadTask36):(this.__logError("signals-uploader-v2-upload-batch-fail-network",f,{retries:this.$SignalsUploaderUploadTask35,interval:this.$SignalsUploaderUploadTask36}),e(f));else{this.$SignalsUploaderUploadTask39&&(this.$SignalsUploaderUploadTask39=!1,this.$SignalsUploaderUploadTask38(!1),this.__logEvent("signals-uploader-v2-upload-network-online"));if(this.$SignalsUploaderUploadTask32(f)){b();return}c!==0?setTimeout(function(){this.$SignalsUploaderUploadTask44(a,c-1,d).then(b)["catch"](e)}.bind(this),this.$SignalsUploaderUploadTask34):(this.__logError("signals-uploader-v2-upload-batch-fail-api",f,{retries:this.$SignalsUploaderUploadTask33,interval:this.$SignalsUploaderUploadTask34}),e(f))}}.bind(this))}.bind(this))};c.prototype.$SignalsUploaderUploadTask45=function(a,b){this.$SignalsUploaderUploadTask30.push({numRowsFailedToNormalize:0,numRowsUploaded:b?a.rows.length:0,numRowsFailedToUpload:b?0:a.rows.length,chunkIndex:a.chunkIndex}),this.$SignalsUploaderUploadTask27--,this.$SignalsUploaderUploadTask42(),this.$SignalsUploaderUploadTask43()};c.prototype.$SignalsUploaderUploadTask42=function(){var a=[];this.$SignalsUploaderUploadTask30.forEach(function(b){b.chunkIndex<this.$SignalsUploaderUploadTask19?(this.$SignalsUploaderUploadTask21+=b.numRowsFailedToNormalize,this.$SignalsUploaderUploadTask23+=b.numRowsUploaded,this.$SignalsUploaderUploadTask22+=b.numRowsFailedToUpload):a.push(b)}.bind(this));this.$SignalsUploaderUploadTask30=a;var b=this.$SignalsUploaderUploadTask24==0||this.$SignalsUploaderUploadTask15==0?0:((this.$SignalsUploaderUploadTask7?1:0)+this.$SignalsUploaderUploadTask23+this.$SignalsUploaderUploadTask22+this.$SignalsUploaderUploadTask21+this.$SignalsUploaderUploadTask20)/this.$SignalsUploaderUploadTask24*Math.min(1,this.$SignalsUploaderUploadTask19*this.$SignalsUploaderUploadTask14/this.$SignalsUploaderUploadTask15);b>this.$SignalsUploaderUploadTask29&&(this.$SignalsUploaderUploadTask29=Math.min(b,1));b={numRowsAlreadyUploaded:this.$SignalsUploaderUploadTask20,numRowsFailedToNormalize:this.$SignalsUploaderUploadTask21,numRowsFailedToUpload:this.$SignalsUploaderUploadTask22,numRowsUploaded:this.$SignalsUploaderUploadTask23,estimatedProgress:this.$SignalsUploaderUploadTask29};this.$SignalsUploaderUploadTask37(b)};c.prototype.$SignalsUploaderUploadTask46=function(){(this.$SignalsUploaderUploadTask7?1:0)+this.$SignalsUploaderUploadTask20+this.$SignalsUploaderUploadTask21+this.$SignalsUploaderUploadTask22+this.$SignalsUploaderUploadTask23===this.$SignalsUploaderUploadTask24||g(0,519),this.__stopAndResolve({task:"upload",progress:{numRowsAlreadyUploaded:this.$SignalsUploaderUploadTask20,numRowsFailedToNormalize:this.$SignalsUploaderUploadTask21,numRowsFailedToUpload:this.$SignalsUploaderUploadTask22,numRowsUploaded:this.$SignalsUploaderUploadTask23,estimatedProgress:1},errorReport:this.$SignalsUploaderUploadTask11})};c.prototype.__logResolve=function(a){a.task==="upload"||g(0,520),this.__logEvent("signals-uploader-v2-upload-resolve",{progress:a.progress,duration:(Date.now()-this.$SignalsUploaderUploadTask40)/1e3})};c.prototype.__logReject=function(a){this.__logError("signals-uploader-v2-upload-reject",a)};e.exports=c}),null);
__d("SignalsDSDIStoreUtils",["errorCode","invariant","regeneratorRuntime","AdsGraphAPI","GraphEdgeName","LoadObject","SignalsDIConfigHistoryStore","SignalsDIFileStore","SignalsDIMappingDialogStore","SignalsDISampleStore","SignalsDISchemaStore","SignalsDIUploaderLibraryUtils","SignalsDIUploadStateStore","SignalsDSActions","SignalsDSDIConfigStore","SignalsDSDILogger","SignalsDSDILoggerHelper","SignalsDSDIMappingGuideDialogStore","SignalsDSDIMappingScoreStore","SignalsDSDIMappingSelectorStore","SignalsDSDIMUResumeStore","SignalsDSDIMUSuccessSurveyStore","SignalsDSDINamespaceIDStore","SignalsDSDITestUploadStore","SignalsDSDITestUploadUtils","SignalsDSDIUtils","SignalsEventDataSchema","SignalsHomeDSDIMUCancelUploadDialogStore","SignalsHomeDSDIMUStepStore","SignalsHomeDSLastUploadUIStateStore","SignalsHomeStateStore","SignalsUILogger","SignalsUploaderBatchSender","SignalsUploaderMappingDetectTask","SignalsUploaderPreviewV2Task","SignalsUploaderUploadTask","getSignalsSchemaSummary","immutable","normalizeSignalsEnumType","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List,j=b("SignalsDSDITestUploadUtils").getTestUploadResult;function a(){b("SignalsDSDIConfigStore").updateStateLater(b("SignalsDSDIConfigStore").getInitialState()),b("SignalsDIConfigHistoryStore").updateStateLater(b("SignalsDIConfigHistoryStore").getInitialState()),b("SignalsDIFileStore").updateStateLater(b("SignalsDIFileStore").getInitialState()),b("SignalsDIMappingDialogStore").updateStateLater(b("SignalsDIMappingDialogStore").getInitialState()),b("SignalsDISampleStore").updateStateLater(b("SignalsDISampleStore").getInitialState()),b("SignalsDIUploadStateStore").reset(),b("SignalsDSDIMappingGuideDialogStore").updateStateLater(b("SignalsDSDIMappingGuideDialogStore").getInitialState()),b("SignalsDSDIMappingScoreStore").updateStateLater(b("SignalsDSDIMappingScoreStore").getInitialState()),b("SignalsDSDIMappingSelectorStore").updateStateLater(b("SignalsDSDIMappingSelectorStore").getInitialState()),b("SignalsDSDINamespaceIDStore").updateStateLater(b("SignalsDSDINamespaceIDStore").getInitialState()),b("SignalsDSDITestUploadStore").updateStateLater(b("SignalsDSDITestUploadStore").getInitialState()),b("SignalsHomeDSDIMUCancelUploadDialogStore").updateStateLater(b("SignalsHomeDSDIMUCancelUploadDialogStore").getInitialState()),b("SignalsHomeDSDIMUStepStore").updateStateLater(b("SignalsHomeDSDIMUStepStore").getInitialState()),b("SignalsDSDIMUResumeStore").updateStateLater(b("SignalsDSDIMUResumeStore").getInitialState()),b("SignalsDSDIMUSuccessSurveyStore").updateStateLater(b("SignalsDSDIMUSuccessSurveyStore").getInitialState())}function k(a){a=a.split(".");return a[a.length-1]}function l(a){__p&&__p();var b={},c={},d={};a.forEach(function(a,e){if(a==null)return;var f=a.mapping;if(!f)return;b[String(e)]=f;a.infoForNormalization!=null&&(c[k(f)]=a.infoForNormalization);a.customType!=null&&(d[k(f)]={baseType:a.customType})});return{mapping:b,infoForNormalization:c,customTypeInfo:d}}function m(a,c,d){c=JSON.stringify(b("SignalsDSDIUtils").configToJSON(c,d));b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",a).post({config:c})}function n(a){__p&&__p();var c,d,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:c=null;d=null;h.prev=2;h.next=5;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",a).get({fields:["config"]}));case 5:f=h.sent;f.config!=null&&(g=JSON.parse(f.config),g.delimiter!=null&&g.hasHeader!=null&&g.presetValues!=null&&g.columnConfig!=null&&(c={delimiter:g.delimiter,hasHeader:g.hasHeader,presetValues:g.presetValues,columnConfig:i(g.columnConfig)}),d=g.namespaceID);h.next=12;break;case 9:h.prev=9,h.t0=h["catch"](2),b("SignalsDSDILogger").logError(h.t0,"LOAD_CONFIG");case 12:return h.abrupt("return",{config:c,namespaceID:d});case 13:case"end":return h.stop()}},null,this,[[2,9]])}function o(){var a=b("SignalsDSDIConfigStore").getState().configLO.getValueEnforcing();return a.columnConfig.some(function(a){return a&&a.mapping==="match_keys.extern_id"})?b("SignalsDSDINamespaceIDStore").getState().namespaceID||null:null}function p(a){return a.name+" ("+a.size+"bytes)"}var q={errorReportMaxInvalidSamples:1e3,maxNumRowsPerBatch:2e3,maxNumChunksInBuffer:8,maxNumBatchesInBuffer:12,maxNumBatchesSendingInParallel:6,maxNumConcurrentNormalizer:3,chunkSize:64*1024,numRetriesForAPIError:0,retryIntervalForAPIError:15*1e3,numRetriesForNetworkError:-1,retryIntervalForNetworkError:3*1e3};function c(a){__p&&__p();var c,d,f,g,i,j,k,n,r,s,t,u,v,w,x;return b("regeneratorRuntime").async(function(y){__p&&__p();while(1)switch(y.prev=y.next){case 0:c=b("SignalsDSDILogger").performanceTimer("TIME_TO_UPLOAD");c.start();d=babelHelpers["extends"]({},q,a);b("SignalsDIUploadStateStore").reset();f=b("nullthrows")(b("SignalsHomeStateStore").getState().dataSetID);g=b("nullthrows")(b("SignalsDIFileStore").getState().file);i=b("SignalsDSDIMUResumeStore").getState().upload;b("SignalsDIUploadStateStore").prepareStart();k=[];if(!(i==null)){y.next=28;break}n=p(g);y.prev=11;s=b("SignalsDSDILogger").performanceTimer("TIME_TO_UPLOAD.PREPARE");s.start();y.next=16;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",f).edge("uploads").post({upload_tag:n}));case 16:r=y.sent;s.end();y.next=25;break;case 20:y.prev=20;y.t0=y["catch"](11);b("SignalsDSDILogger").logError(y.t0,"PREPARE_UPLOAD");b("SignalsDIUploadStateStore").prepareError(y.t0);return y.abrupt("return");case 25:j=r.id;y.next=30;break;case 28:j=i.id,k=i.progress;case 30:t=b("SignalsDSDIConfigStore").getState().configLO.getValueEnforcing();u=o();m(f,t,u);v=new(b("SignalsUploaderUploadTask"))(g,t.delimiter,babelHelpers["extends"]({schema:b("SignalsDISchemaStore").getSchemaEnforcing()},l(t.columnConfig)),t.presetValues,k,{type:"default",maxNumInvalidSamples:d.errorReportMaxInvalidSamples},d.maxNumRowsPerBatch,t.hasHeader,d.chunkSize,d.maxNumChunksInBuffer,d.maxNumBatchesInBuffer,d.maxNumBatchesSendingInParallel,d.maxNumConcurrentNormalizer,b("SignalsUploaderBatchSender").getXMLHTTPRequestGraphAPISender("offline_conversion_data_set",f,"events","POST",function(a){return{data:a.rows,upload_id:j,progress:{start_inclusive:a.start,end_exclusive:a.end},namespace_id:u}}),function(a){return a.error_subcode===2044011},d.numRetriesForAPIError,d.retryIntervalForAPIError,d.numRetriesForNetworkError,d.retryIntervalForNetworkError,b("SignalsDIUploadStateStore").uploaderProgressUpdate,b("SignalsDIUploadStateStore").uploaderNetworkStatusUpdate,b("SignalsUILogger").getDefaultLogger());b("SignalsDIUploadStateStore").prepareDoneAndUploaderStart(v);y.prev=35;w=b("SignalsDSDILogger").performanceTimer("TIME_TO_UPLOAD.UPLOAD");w.start();y.next=40;return b("regeneratorRuntime").awrap(v.run());case 40:x=y.sent;w.end();x.task==="upload"||h(0,3196);b("SignalsDIUploadStateStore").uploaderFinish(x.progress,x.errorReport);b("SignalsHomeDSLastUploadUIStateStore").uploaderFinish(f,x.progress);y.next=51;break;case 47:y.prev=47,y.t1=y["catch"](35),b("SignalsDSDILogger").logError(y.t1,"UPLOAD"),b("SignalsDIUploadStateStore").uploaderError(y.t1);case 51:b("SignalsDSActions").handleUploadDialogUploadSuccess(f),c.end();case 53:case"end":return y.stop()}},null,this,[[11,20],[35,47]])}function d(a,c,d,e){__p&&__p();var f=!1,g=c.presetValues.event_name==null,h=!0,i=!0,j=[],k={};c.columnConfig.forEach(function(c,d){__p&&__p();if(c==null)return;var l=c.mapping;if(l==null)return;c=a.extraPropsCollectors.find(function(a){return l.startsWith(a)});if(c!=null&&l.length<=c.length+1){j.push(d);return}c=a.keysForSimplePropPaths[l];c==="extern_id"&&!b("SignalsDSDIUtils").isNamespaceIDValid(e)&&(f=!0);c==="event_name"&&(g=!1);c==="event_time"&&(h=!1);l.startsWith("match_keys")&&(i=!1);k[l]==null?k[l]=[d]:k[l].push(d)});var l=[],m=[];for(var n in k){var o=k[n],p=a.keysForSimplePropPaths[n];if(p!=null){p=a.schemasForSimplePropsInSchema[p];p=p&&p.maxOccurrence||1;o.length>p&&l.push({propPath:n,columns:o})}else o.length>1&&m.push({propPath:n,columns:o})}p=k.value!=null&&k.currency==null&&c.presetValues.currency==null;o=k.event_name!=null&&(d[k.event_name[0]]||[]).some(function(c){return b("normalizeSignalsEnumType")(c,a.schemasForSimplePropsInSchema.event_name.typeParams).normalizedValue==="Purchase"});c=k.value==null&&(k.currency!=null||o);return{emptyCustomColumnName:j,invalidNamespaceID:f,missingCurrency:p,missingEventName:g,missingEventTime:h,missingMatchKeys:i,missingValue:c,tooManyCustomColumns:m,tooManyStandardColumns:l}}var r={numSampleRows:1e3,chunkSize:64*1024,maxNumChunksInBuffer:4};function f(a){__p&&__p();var c,d,f,g,i,k,m,n,p,q,s,t,u,v,w,x;return b("regeneratorRuntime").async(function(y){__p&&__p();while(1)switch(y.prev=y.next){case 0:c=b("SignalsDSDILogger").performanceTimer("TIME_TO_TEST_UPLOAD");c.start();f=babelHelpers["extends"]({},r,a);b("SignalsDSDITestUploadStore").updateStateLater(b("SignalsDSDITestUploadStore").getInitialState());y.prev=4;g=b("nullthrows")(b("SignalsDIFileStore").getState().file);i=b("SignalsDSDIConfigStore").getState().configLO.getValueEnforcing();k=babelHelpers["extends"]({schema:b("SignalsDISchemaStore").getSchemaEnforcing()},l(i.columnConfig));m=new(b("SignalsUploaderPreviewV2Task"))(g,i.delimiter,k,i.presetValues,{type:"advanced",maxNumInvalidSamples:f.numSampleRows},f.numSampleRows,i.hasHeader,f.chunkSize,f.maxNumChunksInBuffer,b("SignalsUILogger").getDefaultLogger());d=b("SignalsDSDILogger").performanceTimer("TIME_TO_TEST_UPLOAD.PREVIEW");d.start();y.next=13;return b("regeneratorRuntime").awrap(m.run());case 13:n=y.sent;d.end();n.task==="preview-v2"||h(0,3196);p=n.numRowsProcessed,q=n.errorReport,s=n.normalizedRows;q.type==="advanced"||h(0,1790);t=b("nullthrows")(b("SignalsHomeStateStore").getState().dataSetID);u=o();d=b("SignalsDSDILogger").performanceTimer("TIME_TO_TEST_UPLOAD.VALIDATE");d.start();y.next=24;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",t).edge(b("GraphEdgeName").VALIDATE).post({data:s,namespace_id:u}));case 24:v=y.sent;d.end();w=j(p,k,q,v);b("SignalsDSDITestUploadStore").updateStateLater({resultLO:b("LoadObject").withValue(w)});x=babelHelpers["extends"]({},w);delete x.invalidSamples;b("SignalsDSDILoggerHelper").logTestUploadDone(x);y.next=37;break;case 33:y.prev=33,y.t0=y["catch"](4),b("SignalsDSDILogger").logError(y.t0,"TEST_UPLOAD"),b("SignalsDSDITestUploadStore").updateStateLater({resultLO:b("LoadObject").withError(y.t0)});case 37:c.end();case 38:case"end":return y.stop()}},null,this,[[4,33]])}var s={delimiters:[",","\t"," ","|",";"],numSampleRows:100,threshold:.5,chunkSize:64*1024,maxNumChunksInBuffer:1,mappingScoreForPropPath:{currency:5,event_name:5,event_time:4,"match_keys.age":2,"match_keys.dob":3,"match_keys.doby":2,"match_keys.email":5,"match_keys.gen":4,"match_keys.madid":5,"match_keys.phone":3,value:2},presetMappingScore:5,defaultMappingScore:1,autoSelectMappingScoreThreshold:3};function g(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:c=b("SignalsDSDILogger").performanceTimer("TIME_TO_INIT_CONFIG");c.start();f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(function(){__p&&__p();var c,f,g,j,k,l,m,o,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;return b("regeneratorRuntime").async(function(N){__p&&__p();while(1)switch(N.prev=N.next){case 0:c=babelHelpers["extends"]({},s,a);f=b("getSignalsSchemaSummary")(b("SignalsEventDataSchema"));g=b("nullthrows")(b("SignalsHomeStateStore").getState().dataSetID);b("SignalsDSDIConfigStore").updateStateLater({configLO:b("LoadObject").loading()});b("SignalsDISampleStore").updateStateLater({samplesLO:b("LoadObject").loading()});b("SignalsDSDINamespaceIDStore").updateStateLater({namespaceID:""});b("SignalsDSDIMappingScoreStore").updateStateLater({scoresLO:b("LoadObject").loading()});d=b("SignalsDSDILogger").performanceTimer("TIME_TO_INIT_CONFIG.SAMPLE_FILE");d.start();N.next=11;return b("regeneratorRuntime").awrap(b("SignalsDIUploaderLibraryUtils").sampleFile(b("nullthrows")(b("SignalsDIFileStore").getState().file),b("SignalsUILogger").getDefaultLogger()));case 11:j=N.sent;d.end();k=j.samples,l=j.detectedDelimiter,m=j.firstRowEnd;o=b("nullthrows")(b("SignalsDIFileStore").getState().file);q=p(o);d=b("SignalsDSDILogger").performanceTimer("TIME_TO_INIT_CONFIG.LOAD_PROGRESS");d.start();N.next=20;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",g).edge("uploads").get({upload_tag:q,fields:["id","upload_tag","progress"]}));case 20:r=N.sent,d.end(),r&&r.data&&r.data.length>0?(t=r.data[0],u=(t.progress&&t.progress.data||[]).map(function(a){return{start:a.start_inclusive,end:a.end_exclusive}}),v=0,u.forEach(function(a){return v+=a.end-a.start}),w=Math.min(v/o.size,1),b("SignalsDSDIMUResumeStore").updateStateLater({upload:{id:t.id,name:t.upload_tag,progress:u,firstRowEnd:m}}),b("SignalsDSDILoggerHelper").logResumeDetected(w)):b("SignalsDSDIMUResumeStore").updateStateLater(b("SignalsDSDIMUResumeStore").getInitialState()),x={},y={},d=b("SignalsDSDILogger").performanceTimer("TIME_TO_INIT_CONFIG.MAPPING_DETECT"),d.start(),z=0;case 28:if(!(z<c.delimiters.length)){N.next=42;break}A=c.delimiters[z];B=new(b("SignalsUploaderMappingDetectTask"))(o,A,f,c.numSampleRows,c.threshold,c.chunkSize,c.maxNumChunksInBuffer,b("SignalsUILogger").getDefaultLogger());N.next=33;return b("regeneratorRuntime").awrap(B.run());case 33:C=N.sent,C.task==="mapping-detect"||h(0,3196),(D=C.hasHeader,E=C.possibleMappings),F=E.map(function(a){__p&&__p();var b={};Object.keys(a).forEach(function(d){d=a[d];var e=d.isPreset,f=d.propPath;d=d.additionalInfos;var g=c.defaultMappingScore;c.mappingScoreForPropPath[f]!=null&&(g=c.mappingScoreForPropPath[f]+(e?c.presetMappingScore:0));b[f]={score:g,validAdditionalInfos:d.map(function(a){return a.info}),isPreset:e}});return b}),x[A]=F,y[A]=D;case 39:z++;N.next=28;break;case 42:d.end();d=b("SignalsDSDILogger").performanceTimer("TIME_TO_INIT_CONFIG.LOAD_CONFIG");d.start();N.next=47;return b("regeneratorRuntime").awrap(n(g));case 47:G=N.sent,d.end(),(H=G.config,I=G.namespaceID),H!=null&&H.columnConfig.size===k[H.delimiter].length?(b("SignalsDSDIConfigStore").updateStateLater({configLO:b("LoadObject").withValue(H)}),b("SignalsDSDINamespaceIDStore").updateStateLater({namespaceID:I||""}),b("SignalsDSDILoggerHelper").logUsePreviousConfig(b("SignalsDSDIUtils").configToJSON(H,I))):(J=l||",",K={},L=x[J].map(function(a){__p&&__p();var b=Object.keys(a).find(function(b){return a[b].isPreset}),d;if(b!=null)d=b;else{b=Object.keys(a).filter(function(b){return a[b].score>=c.autoSelectMappingScoreThreshold});b.length===1&&(d=b[0])}if(d==null)return null;b=f.keysForSimplePropPaths[d];b=f.schemasForSimplePropsInSchema[b];b=b&&b.maxOccurrence||1;var e=K[d]||0;if(e>=b)return null;b=a[d].validAdditionalInfos;var g=null;b.length>0&&(g=b[0]);K[d]=e+1;return{mapping:d,customType:null,infoForNormalization:g}}),M={delimiter:J,hasHeader:y[J],columnConfig:i(L),presetValues:{}},b("SignalsDSDIConfigStore").updateStateLater({configLO:b("LoadObject").withValue(M)}),b("SignalsDSDINamespaceIDStore").updateStateLater({namespaceID:""}),b("SignalsDSDILoggerHelper").logUseHeuristicConfig(b("SignalsDSDIUtils").configToJSON(M,""))),b("SignalsDISampleStore").updateStateLater({samplesLO:b("LoadObject").withValue(j.samples)}),b("SignalsDSDIMappingScoreStore").updateStateLater({scoresLO:b("LoadObject").withValue(x)});case 53:case"end":return N.stop()}},null,this)}());case 5:f.next=13;break;case 7:f.prev=7,f.t0=f["catch"](2),b("SignalsDSDILogger").logError(f.t0,"INITIALIZE_CONFIG"),b("SignalsDSDIConfigStore").updateStateLater({configLO:b("LoadObject").withError(f.t0)}),b("SignalsDISampleStore").updateStateLater({samplesLO:b("LoadObject").withError(f.t0)}),b("SignalsDSDIMappingScoreStore").updateStateLater({scoresLO:b("LoadObject").withError(f.t0)});case 13:c.end();case 14:case"end":return f.stop()}},null,this,[[2,7]])}e.exports={resetStores:a,initializeConfig:g,upload:c,testUpload:f,getMappingWarnings:d,saveConfig:m}}),null);
__d("SignalsDSSetupLogger",["SignalsEventsManagerLogger","SignalsLoggingScopesEnum"],(function(a,b,c,d,e,f){"use strict";a=b("SignalsEventsManagerLogger").scope(b("SignalsLoggingScopesEnum").OFFLINE_SETUP);e.exports=a}),null);
__d("signalsLoggingOfflineSetupFlowActionContextListener",["immutable","SignalsSecondaryLoggingOptionsEnum"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set;var g=c([b("SignalsSecondaryLoggingOptionsEnum").ONE_LINE_PER_CALL]);function a(a){return{type:"OFFLINE_SETUP_FLOW_ACTION_CONTEXT",cb:a,options:g}}e.exports=a}),null);
__d("SignalsDSSetupLoggerHelper",["SignalsDSSetupLogger","keyMirror","signalsLoggingOfflineSetupFlowActionContextListener"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({OPEN_DIALOG:"",CLOSE_DIALOG:"",CREATE_DEFAULT_DATA_SET_DONE:"",SELECT_UPLOAD_TYPE:"",LOAD_AD_ACCOUNT_ASSIGNMENT_DONE:"",SELECT_AD_ACCOUNT_ASSIGNMENT:"",QUERY_AD_ACCOUNTS:"",ADD_AD_ACCOUNT:"",CHANGE_ASSIGN_AND_TRACKING:"",LOAD_USER_PERMISSION_ASSIGNEMENT_DONE:"",SELECT_USER_PERMISSION_ASSIGNMENT:"",QUERY_USERS:"",ADD_USER:"",CHANGE_USER_PERMISSION:"",SUBMIT:"",POST_ASSIGNMENT_DONE:""});function h(a,c){c!=null?b("SignalsDSSetupLogger").secondary(b("signalsLoggingOfflineSetupFlowActionContextListener"),function(){return{context:JSON.stringify(c)}}).logAction(a):b("SignalsDSSetupLogger").logAction(a)}function a(a,b){h(g.OPEN_DIALOG,{dataSetID:b,step:a})}function c(a,b){h(g.CLOSE_DIALOG,{dataSetID:b,step:a})}function d(a,b,c){h(g.SELECT_UPLOAD_TYPE,{businessID:b.id,businessName:b.name,dataSetID:c,type:a})}function f(a,b,c,d){h(g.CREATE_DEFAULT_DATA_SET_DONE,{businessID:a.id,businessName:a.name,dataSetID:b,dataSetName:c,error:d})}function i(a,b,c,d){h(g.LOAD_AD_ACCOUNT_ASSIGNMENT_DONE,{businessID:a.id,businessName:a.name,dataSetID:b,result:c,error:d})}function j(a,b,c,d,e){h(g.SELECT_AD_ACCOUNT_ASSIGNMENT,{dataSetID:a,fromOption:b,fromConfig:c,toOption:d,toConfig:e})}function k(a,b,c,d){h(g.ADD_AD_ACCOUNT,{dataSetID:a,adAccount:b,fromConfig:c,toConfig:d})}function l(a,b,c,d,e){h(g.CHANGE_ASSIGN_AND_TRACKING,{dataSetID:a,adAccount:b,changeTo:c,fromConfig:d,toConfig:e})}function m(a,b,c,d){h(g.LOAD_USER_PERMISSION_ASSIGNEMENT_DONE,{businessID:a,dataSetID:b,result:c,error:d})}function n(a,b,c,d,e){h(g.SELECT_USER_PERMISSION_ASSIGNMENT,{dataSetID:a,fromOption:b,fromConfig:c,toOption:d,toConfig:e})}function o(a,b,c,d){h(g.ADD_USER,{dataSetID:a,userPermission:b,fromConfig:c,toConfig:d})}function p(a,b,c,d,e){h(g.CHANGE_USER_PERMISSION,{dataSetID:a,userPermission:b,changeTo:c,fromConfig:d,toConfig:e})}function q(a,b,c,d,e){h(g.SUBMIT,{dataSetID:a,adAccountAssignmentOption:b,adAccountAssignmentConfig:c,userPermissionAssignmentOption:d,userPermissionAssignmentConfig:e})}function r(a,b,c,d){h(g.POST_ASSIGNMENT_DONE,{businessID:a,dataSetID:b,adAccountResult:c,userPermissionResult:d})}e.exports={logOpenDialog:a,logCloseDialog:c,logSelectUploadType:d,logCreateDefaultDataSetDone:f,logLoadAdAccountAssignmentDone:i,logSelectAdAccountAssignment:j,logAddAdAccount:k,logChangeAssignAndTracking:l,logLoadUserPermissionDone:m,logSelectUserPermissionAssignment:n,logAddUser:o,logChangeUserPermission:p,logSubmit:q,logPostAssignmentDone:r}}),null);
__d("SignalsDSSetupAndCreateDialogUIStateStore",["LoadObject","SignalsContainer.react","SignalsDSSetupAndCreateDialogStoreUtils","SignalsDSSetupLoggerHelper","SignalsUIStateStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{business:null,dataSetIDLO:null,isDialogOpen:!1}};a.prototype.openDialog=function(a){this.updateStateLater({business:a,isDialogOpen:!0,dataSetIDLO:b("LoadObject").loading()}),b("SignalsDSSetupLoggerHelper").logOpenDialog(this.__getName(),null),b("SignalsDSSetupAndCreateDialogStoreUtils").createAndLoadDefaultDataSet(a)};a.prototype.closeDialog=function(){b("SignalsDSSetupLoggerHelper").logCloseDialog(this.__getName(),this.getDataSetID()),this.updateStateLater({isDialogOpen:!1})};a.prototype.getDataSetID=function(){var a=this.getState();a=a.dataSetIDLO;return a!=null?h(a):null};a.prototype.getDataSetIDEnforcing=function(){return b("nullthrows")(this.getDataSetID())};a.prototype.getBusinessEnforcing=function(){var a=this.getState();a=a.business;return b("nullthrows")(a)};a.prototype.isLoading=function(){var a=this.getState();a=a.dataSetIDLO;return a!=null&&a.isLoading()};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsSignalsDsOemDataSetCreateSuccessDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"signalsDsOemDataSetCreateSuccess",actionType:"OEM.DATA_SET_CREATE.SUCCESS"};e.exports=a}),null);
__d("SignalsBusinessDataSetIDListStore",["Promise","AdsGraphAPI","AdsSignalsDsOemDataSetCreateSuccessDataActionPlugin","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("business",a).edge("offline_conversion_data_sets").get({fields:["id"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){c(h(a.data.map(function(a){return a.id})))},d)})};a.prototype.__customReduce=function(a,c){c=c.action;switch(c.type){case b("AdsSignalsDsOemDataSetCreateSuccessDataActionPlugin").actionType:c=c.businessID;return a["delete"](c);default:return a}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSNewAssignAndTrackingConfig",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("immutable").Record;c={autoAssignNew:!1,autoAssignOld:!1,changeSet:b("immutable").Map()};g=babelHelpers.inherits(h,a(c));g&&g.prototype;h.updateChangeSet=function(a,b){return a.merge(b).filter(function(a){return a.adAccount.state.assigned!==a.changeTo.assigned||a.adAccount.state.tracking!==a.changeTo.tracking})};h.updateChange=function(a,b){var c=b.adAccount.id,d=a;if(a.has(c)){var e=a.get(c);(e.changeTo.assigned!==b.changeTo.assigned||e.changeTo.tracking!==b.changeTo.tracking)&&(d=a.set(c,b))}else d=a.set(c,b);return h.updateChangeSet(a,d)};h.prototype.hasChange=function(){return this.autoAssignNew!==this.autoAssignOld||!this.changeSet.isEmpty()};function h(){g.apply(this,arguments)}e.exports=h}),null);
__d("SignalsDSNewAssignAndTrackingContainerUIStateStore",["Promise","AsyncRequest","LoadObject","SignalsContainer.react","SignalsDSNewAssignAndTrackingConfig","SignalsDSSetupLoggerHelper","SignalsUIStateStore","XOfflineAdAccountAssignmentOptions","XOfflineAdAccountAssignmentOptionsAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe,i=b("immutable").List;function j(a){switch(a){case b("XOfflineAdAccountAssignmentOptions").ALL:case b("XOfflineAdAccountAssignmentOptions").MANUAL:return i([b("XOfflineAdAccountAssignmentOptions").ALL,b("XOfflineAdAccountAssignmentOptions").MANUAL]);case b("XOfflineAdAccountAssignmentOptions").ERROR:return i([b("XOfflineAdAccountAssignmentOptions").ERROR]);case b("XOfflineAdAccountAssignmentOptions").RESTRICTED:return i([b("XOfflineAdAccountAssignmentOptions").RESTRICTED]);case b("XOfflineAdAccountAssignmentOptions").NONE:return i([b("XOfflineAdAccountAssignmentOptions").NONE]);default:return i()}}g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{assignmentLO:null,configMap:b("immutable").Map(),option:b("XOfflineAdAccountAssignmentOptions").NONE,serverResponse:b("LoadObject").empty()}};a.prototype.__getRecommendedConfig=function(a,c){var d=new(b("SignalsDSNewAssignAndTrackingConfig"))().set("autoAssignNew",!0);a=a.reduce(function(a,b){return a.set(b.id,{adAccount:babelHelpers["extends"]({},b,{state:{assigned:!1,tracking:!1},shared:!1,owner_business:c}),changeTo:{assigned:!0,tracking:!0}})},b("immutable").Map());return d.set("changeSet",b("SignalsDSNewAssignAndTrackingConfig").updateChangeSet(d.changeSet,a))};a.prototype.loadAssignAndTrackingOptions=function(a,c){this.updateStateLater({serverResponse:b("LoadObject").loading()});return new(b("Promise"))(function(d,e){e=b("XOfflineAdAccountAssignmentOptionsAsyncController").getURIBuilder().setFBID("business_id",c.id).setFBID("dataset_id",a).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(e){b("SignalsDSSetupLoggerHelper").logLoadAdAccountAssignmentDone(c,a,e.payload,null),this.initializeUIState(e.payload,c),d()}.bind(this)).setErrorHandler(function(d){d=new Error(d.getErrorDescription());b("SignalsDSSetupLoggerHelper").logLoadAdAccountAssignmentDone(c,a,null,d);this.updateStateLater({serverResponse:b("LoadObject").withError(d)})}.bind(this)).send()}.bind(this))};a.prototype.initializeUIState=function(a,c){var d=a.adaccounts,e=j(a.options);e=e.reduce(function(a,e){var f=new(b("SignalsDSNewAssignAndTrackingConfig"))();if(e===b("XOfflineAdAccountAssignmentOptions").ALL){var g=d==null?i():i(d);f=this.__getRecommendedConfig(g,c.name)}return a.set(e,f)}.bind(this),b("immutable").Map());this.updateStateLater({configMap:e,option:a.options,serverResponse:b("LoadObject").withValue(a)})};a.prototype.updateConfigMap=function(a,b){var c=this.getState();c=c.configMap;this.updateStateLater({configMap:c.set(a,b)})};a.prototype.checkAssignment=function(){var a=this.getState();a=a.assignmentLO;a!=null&&h(a)};a.prototype.isLoading=function(){var a=this.getState(),b=a.assignmentLO;a=a.serverResponse;return b!=null&&b.isLoading()||a.isLoading()};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSUserPermissionAssignmentOptionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ALL:null,ADMIN:null,MANUAL:null});e.exports=a}),null);
__d("SignalsDSUserPermissionConfig",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("immutable").Record;c={changeSet:b("immutable").Map()};g=babelHelpers.inherits(h,a(c));g&&g.prototype;h.updateChangeSet=function(a,b){return a.merge(b).filter(function(a){return a.userPermission.dataset_role!==a.changeTo})};h.updateChange=function(a,b){var c=b.userPermission.user.id,d=a;if(a.has(c)){var e=a.get(c);e.changeTo!==b.changeTo&&(d=a.set(c,b))}else d=a.set(c,b);return h.updateChangeSet(a,d)};h.prototype.hasChange=function(){return!this.changeSet.isEmpty()};function h(){g.apply(this,arguments)}e.exports=h}),null);
__d("SignalsDSUserPermissionRoles",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADMIN:null});e.exports=a}),null);
__d("SignalsDSUserPermissionContainerUIStateStore",["Promise","AsyncRequest","LoadObject","SignalsContainer.react","SignalsDSSetupLoggerHelper","SignalsDSUserPermissionAssignmentOptionTypes","SignalsDSUserPermissionConfig","SignalsDSUserPermissionRoles","SignalsUIStateStore","XOfflineInitializeUserPermissionAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe,i=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){var a;return{assignmentLO:null,configMap:b("immutable").Map((a={},a[b("SignalsDSUserPermissionAssignmentOptionTypes").ADMIN]=new(b("SignalsDSUserPermissionConfig"))(),a[b("SignalsDSUserPermissionAssignmentOptionTypes").ALL]=new(b("SignalsDSUserPermissionConfig"))(),a[b("SignalsDSUserPermissionAssignmentOptionTypes").MANUAL]=new(b("SignalsDSUserPermissionConfig"))(),a)),option:b("SignalsDSUserPermissionAssignmentOptionTypes").ADMIN,serverResponse:b("LoadObject").empty()}};a.prototype.loadUserPermissions=function(a,c){this.updateStateLater({serverResponse:b("LoadObject").loading()});return new(b("Promise"))(function(d,e){var f=b("XOfflineInitializeUserPermissionAsyncController").getURIBuilder().setFBID("business_id",c).setString("value","").setBool("noadmin",!0).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(e){this.initializeUIState(e.payload),b("SignalsDSSetupLoggerHelper").logLoadUserPermissionDone(c,a,e.payload,null),d()}.bind(this)).setErrorHandler(function(d){d=new Error(d.getErrorDescription());b("SignalsDSSetupLoggerHelper").logLoadUserPermissionDone(c,a,null,d);this.updateStateLater({serverResponse:b("LoadObject").withError(d)});e()}.bind(this)).send()}.bind(this))};a.prototype.initializeUIState=function(a){var c=this.getState();c=c.configMap;var d=i(a.map(function(a){return a.aux_data}));d=d.reduce(function(a,c){c={userPermission:c,changeTo:b("SignalsDSUserPermissionRoles").ADMIN};return a.set("changeSet",b("SignalsDSUserPermissionConfig").updateChange(a.changeSet,c))},c.get(b("SignalsDSUserPermissionAssignmentOptionTypes").ALL));this.updateStateLater({configMap:c.set(b("SignalsDSUserPermissionAssignmentOptionTypes").ALL,d),option:b("SignalsDSUserPermissionAssignmentOptionTypes").ADMIN,serverResponse:b("LoadObject").withValue(a)})};a.prototype.updateConfigMap=function(a,b){var c=this.getState();c=c.configMap;this.updateStateLater({configMap:c.set(a,b)})};a.prototype.checkAssignment=function(){var a=this.getState();a=a.assignmentLO;a!=null&&h(a)};a.prototype.isLoading=function(){var a=this.getState(),b=a.assignmentLO;a=a.serverResponse;return b!=null&&b.isLoading()||a.isLoading()};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeInspectDataSetAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"INSPECT_DATA_SET");e.exports=a}),null);
__d("SignalsHomeNavigateToDataSetUploaderAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create(function(){return[]},"NAVIGATE_TO_DATA_SET_UPLOADER");e.exports=a}),null);
__d("SignalsHomeDatasetActions",["SignalsEventsManagerRouteName","SignalsHomeInspectDataSetAction","SignalsHomeNavigateToDataSetUploaderAction","SignalsHomeRoutingStoreUtils","SignalsHomeStateStore","SignalsHomeTabsEnum"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsHomeRoutingStoreUtils").navigateToPath;a={inspectDataSet:function(a){b("SignalsHomeInspectDataSetAction").dispatch({dataSetID:a},{line:"20",module:"SignalsHomeDatasetActions.js"});a=b("SignalsHomeStateStore").getState();a=a.selectedTab;a=a!=null&&a in b("SignalsHomeTabsEnum")?a:b("SignalsHomeTabsEnum").EVENTS;g(b("SignalsEventsManagerRouteName")["DATASET_"+a+"_TAB"])},navigateToDataSetUploader:function(a){b("SignalsHomeNavigateToDataSetUploaderAction").dispatch({dataSetID:a},{line:"32",module:"SignalsHomeDatasetActions.js"}),g(b("SignalsEventsManagerRouteName").DATASET_UPLOAD)}};e.exports=a}),null);
__d("SignalsDSSetupAndCreateDialogStoreUtils",["fbt","Promise","LoadObject","SignalsBusinessDataSetIDListStore","SignalsDSDataManager","SignalsDSNewAssignAndTrackingContainerUIStateStore","SignalsDSSetupAndCreateDialogUIStateStore","SignalsDSSetupLoggerHelper","SignalsDSUserPermissionContainerUIStateStore","SignalsHomeDatasetActions","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=g._("Default Offline Event Set for {businessName}",[g._param("businessName",a.name)]);b("promiseDone")(b("SignalsDSDataManager").createDefaultDataSet(a.id,c.toString()),function(d){b("SignalsBusinessDataSetIDListStore").clearKeyLater(a.id),b("SignalsHomeDatasetActions").inspectDataSet(d),b("promiseDone")(b("Promise").all([b("SignalsDSNewAssignAndTrackingContainerUIStateStore").loadAssignAndTrackingOptions(d,a),b("SignalsDSUserPermissionContainerUIStateStore").loadUserPermissions(d,a.id)]),function(){b("SignalsDSSetupLoggerHelper").logCreateDefaultDataSetDone(a,d,c.toString(),null),b("SignalsDSSetupAndCreateDialogUIStateStore").updateStateLater({dataSetIDLO:b("LoadObject").withValue(d)})})},function(d){b("SignalsDSSetupLoggerHelper").logCreateDefaultDataSetDone(a,null,c.toString(),d),b("SignalsDSSetupAndCreateDialogUIStateStore").updateStateLater({dataSetIDLO:b("LoadObject").withError(d)})})}e.exports={createAndLoadDefaultDataSet:a}}),null);
__d("SignalsDSTermsOfServiceDialogContainerUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.getInitialState=function(){return{businessID:null,canNotAccept:null,isLoading:!1,isOpen:!1,onAccepted:null,onRejected:null}};a.prototype.openDialog=function(a,b,c,d){this.updateStateLater({businessID:a,canNotAccept:b,isOpen:!0,onAccepted:c,onRejected:d})};a.prototype.closeDialog=function(){this.updateStateLater({isLoading:!1,isOpen:!1})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSTermsOfServiceStore",["Promise","AdsGraphAPI","GraphEdgeName","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("business",a).edge(b("GraphEdgeName").OFFLINE_TERMS_OF_SERVICE).get(),function(a){return c(h(a.data))},d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSTermsOfServiceUtils",["fbt","Promise","AsyncRequest","BrandsAppConfig","BusinessConf","DOMContainer.react","HTML","Link.react","React","XBusinessOfflineTermsOfServiceAcceptAsyncController","XBusinessOfflineTermsOfServiceContentAsyncController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BrandsAppConfig").businessCapabilities,i={shouldBypassOfflineTermsOfService:function(){return h.can_bypass_offline_tos_check},getTermsOfServiceLink:function(){return i.shouldBypassOfflineTermsOfService()?b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/legal/ocl",target:"_blank"},g._("Offline Conversion Lift Terms")):b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/legal/offlineconversions",target:"_blank"},g._("Offline Conversions Terms"))},getTermsOfService:function(a){return g._("By clicking {Text of button that proceeds the flow.}, you agree to {Link to the terms of service.}.",[g._param("Text of button that proceeds the flow.",a),g._param("Link to the terms of service.",i.getTermsOfServiceLink())])},getTermsOfServiceContent:function(){return new(b("Promise"))(function(a,c){var d=b("XBusinessOfflineTermsOfServiceContentAsyncController").getURIBuilder().getURI().setSubdomain(b("BusinessConf").DOMAIN);new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(d).setHandler(function(c){c=b("React").createElement(b("DOMContainer.react"),null,b("HTML").replaceJSONWrapper(c.payload.markup).getRootNode());a(c)}).setErrorHandler(function(a){c(new Error(a.getErrorDescription()))}).send()})},acceptTermsOfService:function(a){return new(b("Promise"))(function(c,d){var e=b("XBusinessOfflineTermsOfServiceAcceptAsyncController").getURIBuilder().setFBID("business_id",a).getURI().setSubdomain(b("BusinessConf").DOMAIN);new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(e).setMethod("POST").setHandler(function(a){var b=a.payload.success;b===!0?c():d(new Error(JSON.stringify(a.payload)))}).setErrorHandler(function(a){d(new Error(a.getErrorDescription()))}).send()})}};e.exports=i}),null);
__d("SignalsHomeDataSourceCreationActions",["AdsPixelDialogTypes","AdsPixelViewDialogTypeChangeDataAction","AdsSignalsDsOemDataSetCreateDialogCloseDataAction","AdsSignalsDsOemDataSetCreateDialogOpenDataAction","AdsSignalsDsOemDataSetCreateErrorDataAction","AdsSignalsDsOemDataSetCreateSuccessDataAction","AdsSignalsDsOemMarkGetStartedScreenSeenDataAction","SignalsHomeActionTypes","SignalsHomeDatasetActions","SignalsHomeLoggedDispatcher","SignalsHomePixelActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={handlePixelCreateDialogOpen:function(a){a===void 0&&(a=!1),b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({data:{dialogType:a?b("AdsPixelDialogTypes").CREATE_BUSINESS_PIXEL:b("AdsPixelDialogTypes").CREATE_PIXEL},type:b("AdsPixelViewDialogTypeChangeDataAction").actionType})},handlePixelCreateDialogClose:function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({data:{dialogType:b("AdsPixelDialogTypes").NO_DIALOG},type:b("AdsPixelViewDialogTypeChangeDataAction").actionType})},handlePixelCreateSuccess:function(a,c){b("SignalsHomeLoggedDispatcher").handleUpdateFromServerResponse({type:b("SignalsHomeActionTypes").PIXEL_CREATE.SUCCESS,pixelID:a}),c!==!0&&b("SignalsHomePixelActions").inspectPixel(a)},handlePixelCreateError:function(a){b("SignalsHomeLoggedDispatcher").handleUpdateFromServerResponse({type:b("SignalsHomeActionTypes").PIXEL_CREATE.ERROR,error:a})},handleDSCreateDialogOpen:function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:b("AdsSignalsDsOemDataSetCreateDialogOpenDataAction").actionType})},markGetStartedScreenSeen:function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:b("AdsSignalsDsOemMarkGetStartedScreenSeenDataAction").actionType})},handleDSCreateDialogClose:function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:b("AdsSignalsDsOemDataSetCreateDialogCloseDataAction").actionType})},handleDSCreateSuccess:function(a,c){b("SignalsHomeLoggedDispatcher").handleUpdateFromServerResponse({type:b("AdsSignalsDsOemDataSetCreateSuccessDataAction").actionType,businessID:a,dataSetID:c}),b("SignalsHomeDatasetActions").inspectDataSet(c)},handleDSCreateError:function(a,c){b("SignalsHomeLoggedDispatcher").handleUpdateFromServerResponse({type:b("AdsSignalsDsOemDataSetCreateErrorDataAction").actionType,businessID:a,error:c})}};e.exports=a}),null);
__d("SignalsHomeDSSetupSelectors",["SignalsBusinessStore","SignalsContainer.react","SignalsDataSourcesEnum","SignalsDSDIStoreUtils","SignalsDSSetupAndCreateDialogUIStateStore","SignalsDSTermsOfServiceDialogContainerUIStateStore","SignalsDSTermsOfServiceStore","SignalsDSTermsOfServiceUtils","SignalsExperimentEnum","SignalsHomeDatasetActions","SignalsHomeDataSourceCreationActions","SignalsHomeDSScreenActions","SignalsHomeStateStore","SignalsQEStore","adsCreateSelector","adsCreateStoreSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsContainer.react").getValueSafe;a=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().dataSetID},e.id+".dataSetIDSelector");var h=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().businessID},e.id+".businessIDSelector");c=b("adsCreateStoreSelector")([b("SignalsBusinessStore")].concat(h.getStores()),function(){var a=h();return a==null?null:g(b("SignalsBusinessStore").get(a))},e.id+".businessSelector");d=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().dataSourcesUserPermissions.get(b("SignalsDataSourcesEnum").DATA_SET).canAcceptTOS===!0},e.id+".canAcceptTOSSelector");f=b("adsCreateStoreSelector")([b("SignalsDSTermsOfServiceStore")].concat(h.getStores()),function(){var a=h();if(a==null)return!1;a=g(b("SignalsDSTermsOfServiceStore").get(a));return a.isEmpty()&&!b("SignalsDSTermsOfServiceUtils").shouldBypassOfflineTermsOfService()},e.id+".shouldPopTOSDialogSelector");var i=b("adsCreateStoreSelector")([b("SignalsQEStore")].concat(h.getStores()),function(){var a=h();return a==null?!1:g(b("SignalsQEStore").get(b("SignalsExperimentEnum").OFFLINE_NEW_UPLOADER_FLOW,null,a)).getParamBool()},e.id+".shouldUseNewUploadFlowSelector"),j=b("adsCreateStoreSelector")([b("SignalsQEStore")].concat(h.getStores()),function(){var a=h();return a==null?!1:g(b("SignalsQEStore").get(b("SignalsExperimentEnum").OFFLINE_SETUP_FLOW,null,a)).getParamBool()},e.id+".shouldUseNewSetupFlowSelector");i=b("adsCreateSelector")([i,a],function(a,c){var d=function(d){var e=b("nullthrows")(d||c);a?(b("SignalsDSDIStoreUtils").resetStores(),setTimeout(function(){return b("SignalsHomeDatasetActions").navigateToDataSetUploader(e)},0)):(b("SignalsHomeDatasetActions").inspectDataSet(e),b("SignalsHomeDSScreenActions").handleUploadDialogOpen(e))};return d},{name:e.id+".startNewOrOldUploadFlowFnSelector"});a=b("adsCreateSelector")([i,j,c],function(a,c,d){var e=function(e){c&&e==null?b("SignalsDSSetupAndCreateDialogUIStateStore").openDialog(b("nullthrows")(d)):a(e)};return e},{name:e.id+".startSetupOrUploadFlowFnSelector"});c=b("adsCreateSelector")([a,j],function(a,c){var d=function(d){c?a(d):b("SignalsHomeDataSourceCreationActions").handleDSCreateDialogOpen()};return d},{name:e.id+".startSetupOrCreationFlowFnSelector"});j=b("adsCreateSelector")([f,h,d],function(a,c,d){var e=function(){var e=b("SignalsHomeDataSourceCreationActions").handleDSCreateDialogOpen;a?b("SignalsDSTermsOfServiceDialogContainerUIStateStore").openDialog(c,!d,e):e()};return e},{name:e.id+".popTOSDialogOrCreationFlowFnSelector"});c=b("adsCreateSelector")([c,f,h,d],function(a,c,d,e){var f=function(f){if(c){var g=function(){a(f)};b("SignalsDSTermsOfServiceDialogContainerUIStateStore").openDialog(d,!e,g)}else a(f)};return f},{name:e.id+".popTOSDialogOrStartSetupOrCreationFlowFnSelector"});a=b("adsCreateSelector")([a,f,h,d],function(a,c,d,e){var f=function(f){if(c){var g=function(){a(f)};b("SignalsDSTermsOfServiceDialogContainerUIStateStore").openDialog(d,!e,g)}else a(f)};return f},{name:e.id+".popTOSDialogOrStartSetupOrUploadFlowFnSelector"});e.exports={popTOSDialogOrCreationFlowFnSelector:j,popTOSDialogOrStartSetupOrCreationFlowFnSelector:c,popTOSDialogOrStartSetupOrUploadFlowFnSelector:a,startNewOrOldUploadFlowFnSelector:i}}),null);
__d("SignalsHomeDSUploadEventsButtonContainer.react",["fbt","LoadObject","React","SignalsContainer.react","SignalsHomeDSSetupSelectors","SignalsHomeStateStore","SignalsNewDSStore","SUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsContainer.react").getValueSafe,j=b("SignalsHomeDSSetupSelectors").popTOSDialogOrStartSetupOrUploadFlowFnSelector,k=g._("Upload Offline Events"),l=g._("Only admin or uploader of the data set can upload.");h=babelHelpers.inherits(a,b("SignalsContainer.react"));h&&h.prototype;a.prototype.getStores=function(){return[b("SignalsNewDSStore")].concat(j.getStores())};a.prototype.calculateState=function(){var a=b("SignalsHomeStateStore").getState();a=a.dataSetID;if(a==null)throw b("LoadObject").withError(new Error("Data set ID not exist."));var c=i(b("SignalsNewDSStore").get(a));return{dataSetID:a,canUpload:c.permissions.can_upload,onUpload:j()}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.dataSetID,d=a.canUpload,e=function(){return a.onUpload(c)};return b("React").createElement(b("SUIButton.react"),{disabled:!d,label:k,tooltip:d?null:l,use:"confirm",onClick:e})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsSignalsNoUploadOfflineDiagnosticsPlugin",["cx","fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsHomeDSUploadEventsButtonContainer.react","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"no-upload",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_NO_UPLOAD},getIssueName:function(){return h._("Over 14 Days Have Passed Since Your Last Upload")},getIssueDescription:function(){return h._("A long period between uploads can limit your ability to see offline insights or maintain custom offline audiences.")},getIssueSolution:function(){return h._("Upload your events more frequently. We recommend automating the upload process using the {link to offline conversion API help article} or a {link to offline partner integration help article}. Set your uploads to occur daily, or in real-time.",[h._param("link to offline conversion API help article",b("React").createElement(b("Link.react"),{href:i("USE_OFFLINE_CONVERSION_API"),target:"_blank"},h._("offline conversions API"))),h._param("link to offline partner integration help article",b("React").createElement(b("Link.react"),{href:i("OFFLINE_PARTNER_INTEGRATION"),target:"_blank"},h._("partner integration")))])},getNextSteps:function(){return b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SignalsHomeDSUploadEventsButtonContainer.react"),null))},getResourceLinks:function(){return[{uri:i("OFFLINE_EVENTS_DATA_PREPARE"),text:h._("Learn more about offline data preparation")}]}});e.exports=a}),null);
__d("AdsSignalsOrderidDiffMatchedUserOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","React","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"orderid-diff-matched-user",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_ORDERID_DIFF_MATCHED_USERS},getIssueName:function(){return g._("The Same Order IDs are Being Used for Multiple Customers")},getIssueDescription:function(a){return g._("Some of your uploaded events have the same order ID as other events, but different customer identifiers. This may indicate you're using order IDs to stand in for another data type. As a result, you may not realize the value of tracking order IDs.")},getIssueSolution:function(){return g._("Order IDs are intended to be used as unique transaction identifiers. Offline Events restricts you to one customer per transaction. Review the setup of your event data to ensure that unique order IDs are being applied to each transaction.")}});e.exports=a}),null);
__d("AdsSignalsOrderidItemnumDiffEventTimeOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","React","SignalsDiagnosticEventEnum"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"orderid-itemnum-diff-event-time",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_ORDERID_ITEMNUM_DIFF_EVENT_TIMES},getIssueName:function(){return g._("The Same Order IDs are Being Used for Multiple Transactions")},getIssueDescription:function(a){return g._("Some of your uploaded events have the same order ID (and item number if present) as other events, but different event times. This may indicate you're using order IDs to stand in for another data type. As a result, you may not realize the value of tracking order IDs.")},getIssueSolution:function(){return g._("Order IDs are intended to be used as unique transaction identifiers. Review the setup of your event data to ensure that unique order IDs are being applied to each transaction.")}});e.exports=a}),null);
__d("AdsSignalsPreciseTimestampsOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"precise-timestamps",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_PRECISE_TIMESTAMPS},getIssueName:function(){return g._("Some of Your Timestamps Are Inaccurate")},getIssueDescription:function(){return g._("A significant number of your events are using the same timestamp. This may be due to your upload including dates instead of actual timestamps. Duplicate timestamps can reduce the accuracy of event attribution, and may result in events being removed as duplicates.")},getIssueSolution:function(){return g._("Add timestamps that are precise to the minute or second. If you can't add precise timestamps, send purchase dates with the time your business closes. If you have precise timestamps, double-check the setup of your API to make sure that the intended information is being uploaded correctly. {learn more link to offline deduplication}.",[g._param("learn more link to offline deduplication",b("React").createElement(b("Link.react"),{href:h("OFFLINE_DEDUPLICATION"),target:"_blank"},g._("Learn more about deduplication")))])},getResourceLinks:function(){return[{uri:h("OFFLINE_EVENTS_DATA_PREPARE"),text:g._("Learn more about offline data preparation")}]}});e.exports=a}),null);
__d("AdsSignalsUploadDelayOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","Number.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL,i=2;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"upload-delay",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_UPLOAD_DELAY},getIssueName:function(){return g._("You're Waiting Too Long to Upload Your Offline Events")},getIssueDescription:function(a){return a!=null?g._("Your events are being uploaded on average over 48 hours after they occurred. The average upload delay between event time and upload time in the last 14 days is {upload delay in days} days. Our recommended best practices suggest uploading within 48 hours of an offline event occurring.",[g._param("upload delay in days",b("React").createElement(b("Number.react"),{decimals:i,value:a.average_delay}))]):g._("Your events are being uploaded on average over 48 hours after they occurred. Our recommended best practices suggest uploading within 48 hours of an offline event occurring.")},getIssueSolution:function(){return g._("Upload your events more frequently. We recommend automating the upload process using the {link to offline conversion API help article} or a {link to offline partner integration help article}. Set your uploads to occur daily, or in real-time.",[g._param("link to offline conversion API help article",b("React").createElement(b("Link.react"),{href:h("USE_OFFLINE_CONVERSION_API"),target:"_blank"},g._("offline conversions API"))),g._param("link to offline partner integration help article",b("React").createElement(b("Link.react"),{href:h("OFFLINE_PARTNER_INTEGRATION"),target:"_blank"},g._("partner integration")))])}});e.exports=a}),null);
__d("AdsSignalsUploadFrequencyOfflineDiagnosticsPlugin",["fbt","AdsSignalsDefaultOfflineDiagnosticsPlugin","Link.react","React","SignalsDiagnosticEventEnum","SignalsHomeHelpContent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SignalsHomeHelpContent").getHelpContentURL;a=babelHelpers["extends"]({},b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),{type:"ads-signals/offline-diagnostics",key:"upload-frequency",pivots:{diagnosticsType:b("SignalsDiagnosticEventEnum").OFFLINE_UPLOAD_FREQUENCY},getIssueName:function(){return g._("Upload Events Daily or in Real-Time")},getIssueDescription:function(){return g._("Increase the frequency of your uploads to see offline insights and improve your custom audiences. We recommend automating the upload process using the {link to offline conversion API help article} or a {link to offline partner integration help article}. Set your uploads to occur daily, or in real-time.",[g._param("link to offline conversion API help article",b("React").createElement(b("Link.react"),{href:h("USE_OFFLINE_CONVERSION_API"),target:"_blank"},g._("offline conversions API"))),g._param("link to offline partner integration help article",b("React").createElement(b("Link.react"),{href:h("OFFLINE_PARTNER_INTEGRATION"),target:"_blank"},g._("partner integration")))])}});e.exports=a}),null);
__d("AdsSignalsOfflineDiagnosticsPlugins",["adsPluginsFactory","AdsSignalsAPIEmptyDataOfflineDiagnosticsPlugin","AdsSignalsAPIExceedMaxRowOfflineDiagnosticsPlugin","AdsSignalsAPIInvalidEventValueOfflineDiagnosticsPlugin","AdsSignalsAPINotAcceptTOSOfflineDiagnosticsPlugin","AdsSignalsDefaultOfflineDiagnosticsPlugin","AdsSignalsDupOrderidItemnumOfflineDiagnosticsPlugin","AdsSignalsDuplicateEventsOfflineDiagnosticsPlugin","AdsSignalsItemnumNoOrderidOfflineDiagnosticsPlugin","AdsSignalsNoAccountAssignmentOfflineDiagnosticsPlugin","AdsSignalsNoAutoTrackingOfflineDiagnosticsPlugin","AdsSignalsNoOrderidOfflineDiagnosticsPlugin","AdsSignalsNoUploadOfflineDiagnosticsPlugin","AdsSignalsOrderidDiffMatchedUserOfflineDiagnosticsPlugin","AdsSignalsOrderidItemnumDiffEventTimeOfflineDiagnosticsPlugin","AdsSignalsPreciseTimestampsOfflineDiagnosticsPlugin","AdsSignalsUploadDelayOfflineDiagnosticsPlugin","AdsSignalsUploadFrequencyOfflineDiagnosticsPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsSignalsAPIEmptyDataOfflineDiagnosticsPlugin"),b("AdsSignalsAPIExceedMaxRowOfflineDiagnosticsPlugin"),b("AdsSignalsAPIInvalidEventValueOfflineDiagnosticsPlugin"),b("AdsSignalsAPINotAcceptTOSOfflineDiagnosticsPlugin"),b("AdsSignalsDefaultOfflineDiagnosticsPlugin"),b("AdsSignalsDupOrderidItemnumOfflineDiagnosticsPlugin"),b("AdsSignalsDuplicateEventsOfflineDiagnosticsPlugin"),b("AdsSignalsItemnumNoOrderidOfflineDiagnosticsPlugin"),b("AdsSignalsNoAccountAssignmentOfflineDiagnosticsPlugin"),b("AdsSignalsNoAutoTrackingOfflineDiagnosticsPlugin"),b("AdsSignalsNoOrderidOfflineDiagnosticsPlugin"),b("AdsSignalsNoUploadOfflineDiagnosticsPlugin"),b("AdsSignalsOrderidDiffMatchedUserOfflineDiagnosticsPlugin"),b("AdsSignalsOrderidItemnumDiffEventTimeOfflineDiagnosticsPlugin"),b("AdsSignalsPreciseTimestampsOfflineDiagnosticsPlugin"),b("AdsSignalsUploadDelayOfflineDiagnosticsPlugin"),b("AdsSignalsUploadFrequencyOfflineDiagnosticsPlugin")]},function(){});e.exports=a}),null);
__d("AdsSignalsOfflineDiagnosticsPluginType",["React"],(function(a,b,c,d,e,f){"use strict";e.exports={order:["diagnosticsType"]}}),null);
__d("AdsSignalsOfflineDiagnosticsPluginResolver",["AdsSignalsOfflineDiagnosticsPluginType","adsPluginResolverFactory","AdsSignalsOfflineDiagnosticsPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("AdsSignalsOfflineDiagnosticsPluginType").order;c=b("adsPluginResolverFactory")(function(){return b("AdsSignalsOfflineDiagnosticsPlugins").getArray()},a);e.exports=c}),null);
__d("SignalsDSStatusEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ACTIVE:null,ERROR:null,INACTIVE:null,WARNING:null});e.exports=a}),null);
__d("SignalsDSEventsManagerLinkButton.react",["ix","fbt","FDSButton.react","Image.react","React","SignalsDataSourcesEnum","SignalsHomeRedirectUtils","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=b("SignalsHomeRedirectUtils").getEventsManagerURI,k=h._("Go to Event Set");i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.adAccountID,d=a.businessID;a=a.offlineEventSetID;d=j(d,c,null,a,null,b("SignalsDataSourcesEnum").DATA_SET,null,null);return b("React").createElement(b("FDSButton.react"),{href:d,icon:b("React").createElement(b("Image.react"),{src:g("509932")}),label:k,target:"_blank"})};function a(){i.apply(this,arguments)}a.defaultProps={adAccountID:null,businessID:null};e.exports=a}),null);
__d("SignalsDSHealthIssueList.react",["cx","fbt","React","SUIText.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;b("immutable").List;var j=h._("SOLUTION");i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.issues,d=a.borders;a=c.map(function(a,e){var f=a.name,g=a.description;a=a.solution;return b("React").createElement("div",{className:"_2pi1"+(d!=="none"?" _3px3":"")+(e===c.size-1?" _3px4":""),key:e},b("React").createElement(b("SUIText.react"),{display:"block",size:"body1",weight:"bold"},f),b("React").createElement(b("SUIText.react"),{color:"placeholder",display:"block",margin:"_3-8w",size:"body3"},g),a!=null?b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body2",weight:"bold"},j),b("React").createElement(b("SUIText.react"),{color:"placeholder",display:"block",margin:"_3-8w",size:"body3"},a)):null)});return b("React").createElement("div",{className:d==="all"?"_3px5":""},a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsTrackingCard.react",["cx","fbt","React","SignalsStatusEnum","SUILink.react","SUIStatusIndicator.react","SUIText.react","SUITooltip.react","URI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=h._("AUTO"),k=h._("OPTIMIZED"),l=h._("ID:");i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.$1=function(){var a=this.props.status;switch(a){case b("SignalsStatusEnum").ACTIVE:return"active";case b("SignalsStatusEnum").INACTIVE:return"inactive";case b("SignalsStatusEnum").NEVER_ACTIVE:return"error";case b("SignalsStatusEnum").ALMOST_ACTIVE:return"warning";default:return null}};a.prototype.render=function(){var a=this.props,c=a.autoTracked,d=a.autoTrackingHelpLink,e=a.idLabel,f=a.name,g=a.nameWeight,i=a.optimized,m=a.sourceFbt,n=a.value,o=a.withBorder;a=a.width;var p=this.$1();return b("React").createElement("div",{className:"_1ku_"+(o?" _25dw":"")},b("React").createElement("div",{className:"_5zgj"},p!=null?b("React").createElement("div",{className:"_5zgk"},b("React").createElement(b("SUIStatusIndicator.react"),{status:p})):null,b("React").createElement("div",{className:"_3ftv"},b("React").createElement(b("SUIText.react"),{display:"truncate",shade:"medium",size:"meta1",weight:g||"bold",width:a},f),b("React").createElement("div",{className:"_3ftw"},b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"xsmall_DEPRECATED",width:a},e===undefined?l:e,n),c===!0?b("React").createElement(b("SUITooltip.react"),{position:"below",tooltip:h._("Auto-tracking by this {event source name, such as offline event set} is enabled for all ads created by this ad account. {optional learn-more link}",[h._param("event source name, such as offline event set",m),h._param("optional learn-more link",d?b("React").createElement(b("SUILink.react"),{href:d.toString(),target:"_blank"},h._("Learn more about auto-tracking.")):null)])},b("React").createElement("div",{className:"_3ftx _3fty"},j)):null,i!=="none"?b("React").createElement(b("SUITooltip.react"),{position:"below",tooltip:i==="all"?h._("Ad delivery will be optimized for conversions tracked by this {event source name, such as pixel}.",[h._param("event source name, such as pixel",m)]):h._("Ad delivery for some of your ad sets will be optimized for conversions tracked by this {event source name, such as pixel}.",[h._param("event source name, such as pixel",m)])},b("React").createElement("div",{className:"_3ftx"+(i==="all"?" _3ftz":"")+(i==="some"?" _f0i":"")},k)):null))))};function a(){i.apply(this,arguments)}a.defaultProps={optimized:"none"};a.SOURCES={PIXEL:h._("pixel"),OFFLINE_EVENT_SET:h._("offline event set"),APP:h._("app")};a.AUTO_TRACKING_HELP_LINKS={OFFLINE_EVENT_SET:new(b("URI"))("https://www.facebook.com/business/help/1480558938621580")};e.exports=a}),null);
__d("OfflineTrackingCard.react",["React","SignalsDSStatusEnum","SignalsStatusEnum","SignalsTrackingCard.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;g=babelHelpers.inherits(a,c);g&&g.prototype;a.prototype.$1=function(){var a=this.props.status;switch(a){case b("SignalsDSStatusEnum").ACTIVE:return b("SignalsStatusEnum").ACTIVE;case b("SignalsDSStatusEnum").ERROR:return b("SignalsStatusEnum").NEVER_ACTIVE;case b("SignalsDSStatusEnum").INACTIVE:return b("SignalsStatusEnum").INACTIVE;case b("SignalsDSStatusEnum").WARNING:return b("SignalsStatusEnum").ALMOST_ACTIVE;default:return null}};a.prototype.render=function(){var a=this.props,c=a.autoTracked,d=a.autoTrackingHelpLink,e=a.idLabel,f=a.name,g=a.nameWeight,h=a.optimized,i=a.sourceFbt,j=a.value,k=a.width;a=a.withBorder;return b("React").createElement(b("SignalsTrackingCard.react"),{autoTracked:c,autoTrackingHelpLink:d,idLabel:e,name:f,nameWeight:g,optimized:h,sourceFbt:i,status:this.$1(),value:j,width:k,withBorder:a})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsDSStatusUtils",["fbt","invariant","OfflineConversionOptimizationStatusEnum","React","SignalsDSStatusEnum","immutable","signalsNow"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("immutable").List;var i=2,j=28,k=60,l=60*k,m=24*l,n=7*m;function a(a){__p&&__p();if(a==null)return{status:b("SignalsDSStatusEnum").INACTIVE,description:g._("No Events Received")};var c=b("signalsNow").getNow();c=r(c,a,0);a=c.interval;c=c.description;c=g._("Last Received {last occurrence timestamp}",[g._param("last occurrence timestamp",c)]);if(a<i*m)return{status:b("SignalsDSStatusEnum").ACTIVE,description:c};else if(a<j*m)return{status:b("SignalsDSStatusEnum").WARNING,description:c};else return{status:b("SignalsDSStatusEnum").ERROR,description:c}}function o(a){switch(a){case b("OfflineConversionOptimizationStatusEnum").ACTIVE:return 0;case b("OfflineConversionOptimizationStatusEnum").IN_PROGRESS:return 1;default:return 2}}function c(a){a=a.sort(function(a,b){return o(a.status)-o(b.status)});return a.first()}function d(a){a>0||h(0,11024);if(a<=n)return{status:b("SignalsDSStatusEnum").ACTIVE,title:g._("Successfully Automated Offline Uploads"),description:g._("Successful"),tooltip:g._("Automated uploads have been set up to run at least once every {upload_frequency}.",[g._param("upload_frequency",p(a))])};else return{status:b("SignalsDSStatusEnum").WARNING,title:g._("Low Frequency Automated Offline Uploads"),description:g._("Warning"),tooltip:g._("We are seeing automated uploads from you less than once a week. You should increase the frequency of your uploads for better results.")}}function p(a){if(a<=m)return"24 hours";else if(a<=2*m)return"2 days";else if(a<=3*m)return"3 days";else if(a<=n)return"week";else return"low"}function f(a){if(a===b("OfflineConversionOptimizationStatusEnum").ACTIVE)return{status:b("SignalsDSStatusEnum").ACTIVE,title:g._("Optimization Complete"),description:g._("Complete"),tooltip:g._("Store sales optimization is ready. You can now use your offline event set to create ads that are optimized for conversions.")};else if(a===b("OfflineConversionOptimizationStatusEnum").IN_PROGRESS)return{status:b("SignalsDSStatusEnum").WARNING,title:g._("Optimization In Progress"),description:g._("In Progress"),tooltip:g._("It may take up to 2-3 days to either complete the store sales optimization of your offline event set or learn if more events need to be uploaded.")};else return{status:b("SignalsDSStatusEnum").ERROR,title:g._("Insufficient Data"),description:g._("Insufficient Data"),tooltip:g._("Not enough data received. Please upload more data to start store sales optimization.")}}function q(a){switch(a){case b("SignalsDSStatusEnum").ACTIVE:return"active";case b("SignalsDSStatusEnum").ERROR:return"error";case b("SignalsDSStatusEnum").INACTIVE:return"inactive";case b("SignalsDSStatusEnum").WARNING:return"warning";default:h(0,1468,a)}}function r(a,b,c){__p&&__p();a=Math.max(a-b,c);var d;b=Math.floor(a/m);if(b<1){c=Math.floor(a/l);if(c<1){var e=Math.floor(a/k);e<1?d=g._("in the Last Minute"):d=g._({"*":"{number} Minutes Ago","_1":"1 Minute Ago"},[g._plural(e,"number")])}else d=g._({"*":"{number} Hours Ago","_1":"1 Hour Ago"},[g._plural(c,"number")])}else d=g._({"*":"{number} Days Ago","_1":"1 Day Ago"},[g._plural(b,"number")]);return{interval:a,description:d}}e.exports={findBestOptimizationStatus:c,getAutomaticUploadsSetupStatus:d,getOptimizationStatus:f,getSUIStatusIndicatorStatus:q,getUploadStatus:a}}),null);
__d("SignalsDSHealthIssuesTable.react",["cssVar","OfflineTrackingCard.react","React","SignalsDSEventsManagerLinkButton.react","SignalsDSHealthIssueList.react","SignalsDSStatusUtils","SignalsTrackingCard.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;b("immutable").List;var i=b("SignalsDSStatusUtils").getUploadStatus,j=220,k=148,l=120;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.adAccountID,d=a.offlineEventSet;a=a.issues;var e=d.id,f=d.name;d=d.lastUploadTime;d=i(d);d=d.status;return b("React").createElement("div",{style:{display:"inline"}},b("React").createElement("div",{style:{display:"table-cell"}},b("React").createElement(b("SignalsDSHealthIssueList.react"),{borders:"all",issues:a})),b("React").createElement("div",{style:{borderBottom:"1px solid #DADDE1",borderRight:"1px solid #DADDE1",borderTop:"1px solid #DADDE1",display:"table-cell",verticalAlign:"middle",width:j}},b("React").createElement("div",{style:{margin:"0 auto",width:k}},b("React").createElement(b("OfflineTrackingCard.react"),{name:f,nameWeight:"bold",optimized:"none",sourceFbt:b("SignalsTrackingCard.react").SOURCES.OFFLINE_EVENT_SET,status:d,value:e,width:l,withBorder:!1}),b("React").createElement(b("SignalsDSEventsManagerLinkButton.react"),{adAccountID:c,offlineEventSetID:e}))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("getMentionableRect",["Rect"],(function(a,b,c,d,e,f){__p&&__p();function g(a){var b=document.selection.createRange().duplicate();b.moveStart("character",-a);return b.getBoundingClientRect()}function h(b){var c=a.getSelection();if(!c.rangeCount)return null;c=c.getRangeAt(0);c=c.cloneRange();var d=c.endContainer,e=c.endOffset,f=null;e>=b&&(c.setStart(d,e-b),f=c.getBoundingClientRect());return f}function c(a,c){a=document.selection?g(a):h(a);if(!a)return null;c=new(b("Rect"))(a.top,c?a.right:a.left,a.bottom,c?a.right:a.left,"viewport");return c.convertTo("document")}e.exports=c}),null);
__d("CapyTimer.react",["cx","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=1e3;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.endTimestampInMS||(this.interval=setInterval(this.forceUpdate.bind(this),i))};a.prototype.componentWillUnmount=function(){this.interval&&clearInterval(this.interval)};a.prototype.render=function(){__p&&__p();var a=this.props.endTimestampInMS?this.props.endTimestampInMS:Date.now();a=(a-this.props.startTimestampInMS)/b("DateConsts").MS_PER_SEC;var c=a/b("DateConsts").SEC_PER_MIN,d=Math.floor(a/b("DateConsts").SEC_PER_DAY);c=c>59?"G:i:s":"i:s";c=b("formatDate")(a,c,{skipPatternLocalization:!0,utc:!0});var e=this.props.preWarningThresholdInS?this.props.preWarningThresholdInS<a:!1;a=this.props.warningThresholdInS?this.props.warningThresholdInS<a:!1;a&&(e=!1);e=(e?"_6rv9":"")+(a?" _5nkp":"");return b("React").createElement("span",{className:e},d?d+(d>1?" days":" day"):c)};function a(){h.apply(this,arguments)}a.propTypes={startTimestampInMS:c.number,endTimestampInMS:c.number,warningThresholdInS:c.number,preWarningThresholdInS:c.number};a.defaultProps={startTimestampInMS:Date.now(),endTimestampInMS:null,warningThresholdInS:null,preWarningThresholdInS:null};e.exports=a}),null);
__d("XUITypeaheadFlowStrictLocalSafe.react",["React","XUITypeahead.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("XUITypeahead.react"));g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("XUITypeahead.react"),this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("CosmosSearchActionsSelectedItem",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){this.selectedId=a,this.applyTime(),this.resultType=b,this.resultIndex=c}a.prototype.applyTime=function(){this.time=Math.floor(Date.now()/1e3)};e.exports=a}),null);
__d("CosmosSearchActionsHistoryUtil",["AsyncRequest","CosmosSearchActionsSelectedItem","XCosmosSearchActionsHistoryCreationController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logAction:function(a,c,d,e){__p&&__p();if(!a)return;a=b("XCosmosSearchActionsHistoryCreationController").getURIBuilder().setString("query",a).setEnum("search_consumer",c);d&&a.setString("search_session_id",d);if(e){a.setString("result_type",e.resultType).setString("result_index",e.resultIndex);c=e.selectedId;c&&a.setFBID("selected_fbid",c.toString())}new(b("AsyncRequest"))(a.getURI()).send()}};e.exports=a}),null);
__d("CRMNoContent.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_2ci5"},"No content provided.")};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("DigitalLiteracyJSFbtHelper",["fbt","DigitalLiteracyJSFbtTags"],(function(a,b,c,d,e,f,g){"use strict";a={getFbtResults:function(){return new Map([[b("DigitalLiteracyJSFbtTags").AGE,g._("Age")],[b("DigitalLiteracyJSFbtTags").ALMOST,g._("Almost!")],[b("DigitalLiteracyJSFbtTags").BACK,g._("BACK")],[b("DigitalLiteracyJSFbtTags").CONTENT_TYPE,g._("Content Type")],[b("DigitalLiteracyJSFbtTags").CONTRIBUTOR,g._("Contributor")],[b("DigitalLiteracyJSFbtTags").CORRECT,g._("Correct!")],[b("DigitalLiteracyJSFbtTags").DOWNLOADABLE,g._("Downloadable")],[b("DigitalLiteracyJSFbtTags").FINISH,g._("FINISH")],[b("DigitalLiteracyJSFbtTags").FILTER_AND_CLOSE,g._("Filter & Close")],[b("DigitalLiteracyJSFbtTags").FILTER_LESSONS,g._("Filter lessons")],[b("DigitalLiteracyJSFbtTags").FILTER_LESSONS_CAPS,g._("FILTER LESSONS")],[b("DigitalLiteracyJSFbtTags").GET_RESULTS,g._("GET RESULTS")],[b("DigitalLiteracyJSFbtTags").GREAT,g._("Great!")],[b("DigitalLiteracyJSFbtTags").INTERACTIVE,g._("Interactive")],[b("DigitalLiteracyJSFbtTags").LICENSE_INFO_YOUTH_AND_MEDIA,g._("Learning experiences produced by the Youth and Media team are all licensed under a Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0) license.")],[b("DigitalLiteracyJSFbtTags").LOADING,g._("Loading ...")],[b("DigitalLiteracyJSFbtTags").LOW_BANDWIDTH,g._("Low Bandwidth")],[b("DigitalLiteracyJSFbtTags").MODULES,g._("Modules")],[b("DigitalLiteracyJSFbtTags").NEXT,g._("NEXT")],[b("DigitalLiteracyJSFbtTags").NO,g._("NO")],[b("DigitalLiteracyJSFbtTags").PRESENTATION_MODE,g._("Presentation Mode")],[b("DigitalLiteracyJSFbtTags").QUIZ,g._("Quiz")],[b("DigitalLiteracyJSFbtTags").QUIZ_ANSWERS,g._("ABCDEFGHIJKLMNOPQRSTUVWXYZ")],[b("DigitalLiteracyJSFbtTags").RESET,g._("Reset")],[b("DigitalLiteracyJSFbtTags").SKILLS,g._("Skills")],[b("DigitalLiteracyJSFbtTags").STEP,g._("Step")],[b("DigitalLiteracyJSFbtTags").TIME,g._("Time")],[b("DigitalLiteracyJSFbtTags").TRY_AGAIN,g._("Try again!")],[b("DigitalLiteracyJSFbtTags").VIDEO,g._("Video")],[b("DigitalLiteracyJSFbtTags").WRONG,g._("Wrong!")],[b("DigitalLiteracyJSFbtTags").YES,g._("YES")]])},getFbtResult:function(a){return this.getFbtResults().get(a)},getFbtCount:function(a){return g._("({count})",[g._param("count",a)])},getFbtSteps:function(a){return g._({"*":{"*":"{stepCount} Steps","_1":"{stepCount} Step"}},[g._param("stepCount",a,[0]),g._plural(a)])}};e.exports=a}),null);
__d("DigitalLiteracyToggleButton.react",["cx","DigitalLiteracyJSFbtHelper","DigitalLiteracyJSFbtTags","Link.react","React","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.state={value:!1},this.onChange=b("emptyFunction"),this.$1=function(){this.setState(function(a,b){b=b.value!==undefined?b.value:a.value;this.onChange(!b);return{value:!b}}.bind(this))}.bind(this),this.onChange=a.onChange||b("emptyFunction"),this.state.value=this.props.value!==undefined?this.props.value:!1}a.prototype.render=function(){var a=this.props.value!==undefined?this.props.value:this.state.value,c=b("joinClasses")("_67hn"+(a?" _67ho":"")+(a?"":" _67hp"),this.props.className);return b("React").createElement("div",{className:c},b("React").createElement(b("Link.react"),{"aria-checked":!!a,className:"_67hq",href:"#",onClick:this.$1,role:"switch"},a&&b("React").createElement("div",{className:"_67hr"},b("DigitalLiteracyJSFbtHelper").getFbtResult(b("DigitalLiteracyJSFbtTags").YES)),!a&&b("React").createElement("div",{className:"_67hs"},b("DigitalLiteracyJSFbtHelper").getFbtResult(b("DigitalLiteracyJSFbtTags").NO)),b("React").createElement("div",{className:"_67ht"})))};a.propTypes={value:c.bool};e.exports=a}),null);
__d("CRMGenericEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CRMGenericEventLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CRMGenericEventLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CRMGenericEventLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setExperiment=function(a){this.$1.experiment=a;return this};c={event_name:!0,experiment:!0};e.exports=a}),null);
__d("CRMIssueSuggestionFeedbackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CRMIssueSuggestionFeedbackLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CRMIssueSuggestionFeedbackLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CRMIssueSuggestionFeedbackLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdAccountID=function(a){this.$1.ad_account_id=a;return this};a.prototype.setCampaignID=function(a){this.$1.campaign_id=a;return this};a.prototype.setFeedback=function(a){this.$1.feedback=a;return this};a.prototype.setIssueID=function(a){this.$1.issue_id=a;return this};a.prototype.setSuggestion=function(a){this.$1.suggestion=a;return this};a.prototype.setSuggestionType=function(a){this.$1.suggestion_type=a;return this};c={ad_account_id:!0,campaign_id:!0,feedback:!0,issue_id:!0,suggestion:!0,suggestion_type:!0};e.exports=a}),null);
__d("CRMRelayRouteStatsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CRMRelayRouteStatsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CRMRelayRouteStatsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CRMRelayRouteStatsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setReferer=function(a){this.$1.referer=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setRelayRoute=function(a){this.$1.relay_route=a;return this};a.prototype.setRouteParams=function(a){this.$1.route_params=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={referer:!0,relay_route:!0,route_params:!0,vc:!0};e.exports=a}),null);
__d("CRMSearchTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CRMSearchLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CRMSearchLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CRMSearchLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setBoostedID=function(a){this.$1.boosted_id=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCosmosResultType=function(a){this.$1.cosmos_result_type=a;return this};a.prototype.setCrmSearchClient=function(a){this.$1.crm_search_client=a;return this};a.prototype.setCurrentURI=function(a){this.$1.current_uri=a;return this};a.prototype.setFilter=function(a){this.$1.filter=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setQuery=function(a){this.$1.query=a;return this};a.prototype.setQueryID=function(a){this.$1.query_id=a;return this};a.prototype.setResultIds=function(a){this.$1.result_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setResultsOffset=function(a){this.$1.results_offset=a;return this};a.prototype.setResultsPageLimit=function(a){this.$1.results_page_limit=a;return this};a.prototype.setSearchMethod=function(a){this.$1.search_method=a;return this};a.prototype.setSelectedEntityType=function(a){this.$1.selected_entity_type=a;return this};a.prototype.setSelectedID=function(a){this.$1.selected_id=a;return this};a.prototype.setSelectedIndex=function(a){this.$1.selected_index=a;return this};a.prototype.setSelectedName=function(a){this.$1.selected_name=a;return this};a.prototype.setSelectedURI=function(a){this.$1.selected_uri=a;return this};c={boosted_id:!0,cosmos_result_type:!0,crm_search_client:!0,current_uri:!0,filter:!0,query:!0,query_id:!0,result_ids:!0,results_offset:!0,results_page_limit:!0,search_method:!0,selected_entity_type:!0,selected_id:!0,selected_index:!0,selected_name:!0,selected_uri:!0};e.exports=a}),null);
__d("CRMWebAppErrorBoundaryTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CRMWebAppErrorBoundaryLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CRMWebAppErrorBoundaryLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CRMWebAppErrorBoundaryLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setColumnNumber=function(a){this.$1.column_number=a;return this};a.prototype.setExtraDebugInfo=function(a){this.$1.extra_debug_info=a;return this};a.prototype.setGuard=function(a){this.$1.guard=a;return this};a.prototype.setLineNumber=function(a){this.$1.line_number=a;return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setReactComponent=function(a){this.$1.react_component=a;return this};a.prototype.setRoute=function(a){this.$1.route=a;return this};a.prototype.setRouteParams=function(a){this.$1.route_params=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setSeverity=function(a){this.$1.severity=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={app_id:!0,column_number:!0,extra_debug_info:!0,guard:!0,line_number:!0,message:!0,name:!0,react_component:!0,route:!0,route_params:!0,severity:!0,stack_trace:!0,vc:!0};e.exports=a}),null);
__d("SRTMatchmakerInfoTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SRTMatchmakerInfoLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SRTMatchmakerInfoLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SRTMatchmakerInfoLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};c={message:!0};e.exports=a}),null);
__d("WoodhouseUserActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:WoodhouseUserActivityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:WoodhouseUserActivityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WoodhouseUserActivityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setFeedID=function(a){this.$1.feed_id=a;return this};a.prototype.setFilters=function(a){this.$1.filters=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setItemIds=function(a){this.$1.item_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setLinkURI=function(a){this.$1.link_uri=a;return this};a.prototype.setPackageID=function(a){this.$1.package_id=a;return this};a.prototype.setPackageIndex=function(a){this.$1.package_index=a;return this};a.prototype.setSortOrder=function(a){this.$1.sort_order=a;return this};a.prototype.setUserActivityType=function(a){this.$1.user_activity_type=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWoodhouseLocation=function(a){this.$1.woodhouse_location=a;return this};c={feed_id:!0,filters:!0,item_ids:!0,link_uri:!0,package_id:!0,package_index:!0,sort_order:!0,user_activity_type:!0,vc:!0,woodhouse_location:!0};e.exports=a}),null);
__d("AccountTeamTier",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({A:"A",A_MP:"A (MP)",A_PLUS:"A+",A_PLUS_MP:"A+ (MP)",B:"B",B_MP:"B (MP)",C:"C",C_MP:"C (MP)",D:"D",D_MP:"D (MP)",E:"E",F:"F",G:"G",W:"W",NO_TIER:"",PURSUE:"Pursue",SMB_GSO_2016_Q1:"SMB to GSO - Q1 2016",SMB_GSO_2017_Q1:"SMB to GSO - 2017 Q1",HIGH_VALUE__DEPRECATED_DO_NOT_USE:"High Value",IN_QUARTER_PURSUE__DEPRECATED_DO_NOT_USE:"In Quarter Pursue",PRE_DEFINED_PURSUE__DEPRECATED_DO_NOT_USE:"Pre-Defined Pursue",NO_TIER__DEPRECATED_DO_NOT_USE:"No Tier",BOOST:"Boost",NAMED:"Named"})}),null);
__d("AccountTeamTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADVERTISER:"Advertiser",US_HISPANICS:"US Hispanics",AGENCY:"Agency",ATLAS:"Atlas",AT_WORK:"AtWork",AUDIENCE_NETWORK:"Audience Network",GAMES_PARTNERSHIPS:"Games Partnerships",GLOBAL_ACCOUNTS:"Global Accounts",GLOBAL_AGENCY:"Global Agency",GLOBAL_COORDINATOR:"Global Coordinator",GSO_SUPPORT:"GSO Support",LIVERAIL:"LiveRail",LIVERAIL_DEMAND:"LiveRail Demand",LIVERAIL_PUBLISHER:"LiveRail Publisher",MEASUREMENT:"Measurement",MEDIA_PARTNERSHIPS:"Media Partnerships",MEDIA_SOLUTIONS:"Media Solutions",MESSAGING:"Messaging",PARTNER:"Partner",PMD_PARTNER:"PMD Partner",PRODUCT_PARTNERSHIPS:"Product Partnerships",PLATFORM_PARTNERSHIPS:"Platform Partnerships",PUBLISHER:"Publisher",RESELLER:"Reseller",SMB:"SMB",WORKPLACE:"Workplace"})}),null);
__d("ActiveAccountTeam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADVERTISER:"Advertiser",AGENCY:"Agency",ATLAS:"Atlas",GAMES_PARTNERSHIPS:"Games Partnerships",GLOBAL_ACCOUNTS:"Global Accounts",GLOBAL_AGENCY:"Global Agency",GLOBAL_COORDINATOR:"Global Coordinator",GSO_SUPPORT:"GSO Support",LIVERAIL_PUBLISHER:"LiveRail Publisher",MEDIA_PARTNERSHIPS:"Media Partnerships",MESSAGING:"Messaging",PARTNER:"Partner",PRODUCT_PARTNERSHIPS:"PMD Partner",PUBLISHER:"Publisher",SMB:"SMB",WORKPLACE:"Workplace",RESELLER:"Reseller",PLATFORM_PARTNERSHIPS:"Platform Partnerships"})}),null);
__d("AdSetNotificationItem",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INSTAGRAM_AD_SET_NOTIFICATION:"instagram_ad_set_notification",FB_AD_SET_NOTIFICATION:"fb_ad_set_notification"})}),null);
__d("AdproBidStrategyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,LOWEST_COST_WITHOUT_CAP:1,LOWEST_COST_WITH_BID_CAP:2,TARGET_COST:3,COST_CAP:4,MAXIMIZE_VALUE:5,LOWEST_COST_WITH_MIN_ROAS:6})}),null);
__d("AdsInsightsDeviceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEVICE_OTHER:"other",DEVICE_WEB:"desktop",DEVICE_IPHONE:"iphone",DEVICE_IPAD:"ipad",DEVICE_IPOD:"ipod",DEVICE_ANDROID_SMARTPHONE:"android_smartphone",DEVICE_ANDROID_TABLET:"android_tablet",DEVICE_OFFLINE:"offline",DEVICE_NOT_APPLICABLE:"not_applicable",DEVICE_CONNECTED_TV:"connected_tv"})}),null);
__d("AdsInsightsXAccountAggregation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ORG_OWNER:"org_owner",ORG_PLANNING_AGENCY:"org_planning_agency",ORG_END_ADVERTISER:"org_end_advertiser",ACCOUNT_TEAM:"account_team",AD_ACCOUNT:"ad_account"})}),null);
__d("AdsInsightsXAccountAggregationBehavior",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STANDARD:0,RECURSIVE:1})}),null);
__d("AdsInsightsXAccountBreakdown",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AGE:"age",GENDER:"gender",PLACEMENT:"placement",BID_TYPE:"bid_type",PURCHASING_INTERFACE:"purchasing_interface",PRODUCT_FORMAT:"product_format"})}),null);
__d("AdsInsightsXAccountCurrencyConversionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADVERTISER:"advertiser",DAILY:"daily",FIXED:"fixed"})}),null);
__d("AdsInsightsXAccountDatePreset",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONE_DAY_SPEND:"total_spend_p0",PREVIOUS_ONE_DAY_SPEND:"previous_spend_p0",SEVEN_DAYS_SPEND:"total_spend_p7",PREVIOUS_SEVEN_DAYS_SPEND:"previous_spend_p7",PREVIOUS_YEAR_SEVEN_DAYS_SPEND:"previous_year_spend_p7",TWENTY_EIGHT_DAYS_SPEND:"total_spend_p28",PREVIOUS_TWENTY_EIGHT_DAYS_SPEND:"previous_spend_p28",PREVIOUS_YEAR_TWENTY_EIGHT_DAYS_SPEND:"previous_year_spend_p28",FIFTY_SIX_DAYS_SPEND:"total_spend_p56",PREVIOUS_FIFTY_SIX_DAYS_SPEND:"previous_spend_p56",PREVIOUS_YEAR_FIFTY_SIX_DAYS_SPEND:"previous_year_spend_p56",NINETY_DAYS_SPEND:"total_spend_p90",PREVIOUS_YEAR_NINETY_DAYS_SPEND:"previous_year_spend_p90",QTD_SPEND:"total_spend_pqtd",PREVIOUS_QTD_SPEND:"previous_spend_pqtd",PREVIOUS_QUARTER_SPEND:"previous_quarter_spend",PREVIOUS_YEAR_QUARTER_SPEND:"previous_year_quarter_spend",YTD_SPEND:"total_spend_pytd",PREVIOUS_YTD_SPEND:"previous_spend_pytd",PREVIOUS_YEAR_SPEND:"previous_year_spend",EIGHT_QUARTERS:"eight_quarters"})}),null);
__d("AdsInsightsXAccountTimePresetPartialDayBehaviour",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INCLUDE_GLOBAL:"include_global",INCLUDE_LOCAL:"include_local",EXCLUDE_GLOBAL:"exclude_global",EXCLUDE_LOCAL:"exclude_local"})}),null);
__d("AgencyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUYING:"Buying",CREATIVE:"Creative",PLANNING:"Planning"})}),null);
__d("CRMActionItemStatusEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:"open",CLOSED:"closed"})}),null);
__d("CRMAssignmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE:"live",SCHEDULED:"scheduled",FOLLOWUP_NOSHOW:"followup_noshow",FOLLOWUP_NOACTION:"followup_noaction",FOLLOWUP_HIGHSPENDER:"followup_highspender"})}),null);
__d("CRMClientInteractionMECallDisposition",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSUCCESSFUL_NO_ANSWER:"unsuccesful_no_answer",UNSUCCESSFUL_GATEKEEPER:"unsuccesful_gatekeeper",UNSUCCESSFUL_NOT_INTERESTED:"not_interested",UNSUCCESSFUL_RESCHEDULED:"rescheduled",UNSUCCESSFUL_NO_SHOW:"no_show",UNSUCCESSFUL_DUPLICATE:"unsuccessful_duplicate",UNSUCCESSFUL_LOW_QUALITY:"unsuccessful_low_quality",UNSUCCESSFUL_REJECTED_SERVICE:"unsuccessful_rejected_service",UNSUCCESSFUL_WRONG_REGION_LANG:"unsuccessful_wrong_region_lang",UNSUCCESSFUL_UNABLE_TO_LOCATE_CONTACT_INFO:"unsuccessful_unable_to_locate_contact_info",UNSUCCESSFUL_NON_LEADS_GEN_ADVERTISER:"unsuccessful_non_leads_gen_advertiser",UNSUCCESSFUL_NON_INTERMEDIATE_ADVERTISER:"unsuccessful_non_intermediate_advertiser",SUCCESSFUL_INBOUND:"successful_inbound",SUCCESSFUL_OUTBOUND:"successful_outbound",SUCCESSFUL_GATEKEEPER:"successful_gatekeeper",SUCCESSFUL_DECISION_MAKER:"successful_decision_maker",SUCCESSFUL_NON_LEADS_GEN_ADVERTISER:"successful_non_leads_gen_advertiser",SUCCESSFUL_NON_INTERMEDIATE_ADVERTISER:"successful_non_intermediate_advertiser",EMAIL:"email",UNSUCCESSFUL_INVALID_CONTACT_INFO:"unsuccessful_invalid_contact_info",SUCCESSFUL_FOLLOW_UP:"successful_follow_up",UNSUCCESSFUL_FOLLOW_UP:"unsuccessful_follow_up"})}),null);
__d("CRMClientInteractionXFNPartner",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOLUTIONS_ENG_INTERNAL:"solutions_eng internal_consultation",SOLUTIONS_ENG_EXTERNAL:"solutions_eng client_facing_support",CREATIVE_SHOP_INTERNAL:"creative_shop internal_consultation",CREATIVE_SHOP_EXTERNAL:"creative_shop client_facing_support",MARKETING_SCIENCE_INTERNAL:"marketing_science internal_consultation",MARKETING_SCIENCE_EXTERNAL:"marketing_science client_facing_support",RPMM_INTERNAL_EXTERNAL:"regional_product_marketing_manager internal_consultation",RPMM_EXTERNAL_EXTERNAL:"regional_product_marketing_manager client_facing_support",FMP_INTERNAL:"facebook_marketing_partner internal_consulation",FMP_EXTERNAL:"facebook_marketing_partner client_facing_support",GBM_INTERNAL:"global_business_marketing internal_consulation",GBM_EXTERNAL:"global_business_marketing external_consultation",SME_SUPPORT:"sme_support",NO_SUPPORT:"no_support",SME_INTERNAL_CONSULTATION:"sme_internal_consultation",SME_CLIENT_FACING:"sme_client_facing"})}),null);
__d("CRMSpendAggregationGranularity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DAILY:"DAILY",WEEKLY:"WEEKLY",MONTHLY:"MONTHLY",QUARTERLY:"QUARTERLY"})}),null);
__d("CRMViewEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESSES:"businesses",CUSTOMER_ASSET_MANAGERS:"customer_asset_managers",ORGS:"orgs",PAGES:"pages",PEOPLE:"people",SALES_HOME:"home",AD_ACCOUNT:"ad_account",REVENUE_SOURCE:"revenue_source",CUSTOM_BRANDS:"custom_brands",CUSTOM_BRAND_COLLECTION:"custom_brand_collection",ACCOUNT_PLANS:"account_plans",ACCOUNT_PLANS_SUMMARY:"account_plans_summary",ACCOUNT_PLANS_EXEC_BRIEF:"account_plans_exec_brief",CONTACTS:"contacts",RECOMMENDATIONS:"recommendations",CRM_FBMD_ISSUES:"crm_fbmd_issues",LISTS:"list",SETTINGS:"settings",FORECASTING:"forecasting",AD_GROUPS:"ad_groups",ORG_ASSET_REQUEST_TOOL:"org_asset_request_tool",AD_ACCOUNT_TAGGER:"ad_account_tagger",BUSINESS_GRAPH_EXPLORER:"business_graph_explorer",SHARE_OF_WALLET:"share_of_wallet",SNAPSHOT:"snapshot"})}),null);
__d("OrganizationPoliticalAdsStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,HAS_POLITICAL_ADS:1,NO_POLITICAL_ADS:2})}),null);
__d("SRTGMSJobStatusEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DONE:"Done",ESCALATED:"Escalated",NEW:"New",PENDING_RESPONSE:"Pending Response",RESPONSE_RECEIVED:"Response Received",WORKING:"Working"})}),null);
__d("RelayReadyStateCallbackListener",["DateConsts","RelayWeb","performance","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return(Date.now()-a)/b("DateConsts").MS_PER_SEC};a=function(a){__p&&__p();var c=a.onBootstrapCompleted,d=a.onTransitionStarted,e=a.onTransitionCompleted,f=a.onRelayError,h=!0,i=!0,j=((a=b("performance"))!=null?(a=a.timing)!=null?a.fetchStart:a:a)||Date.now();b("promiseDone")(b("RelayWeb").getRouter(),function(a){a.addRouteChangeListener(function(event){i=!0,j=Date.now(),d&&d(event.nextRoute,h)})});a=function(a,b,c){var k=c.events[c.events.length-1].type;if(c.error)i||d&&d(b,h),f&&f(a,b,c.error);else if(c.done&&i){c=k==="STORE_FOUND_ALL"||k==="STORE_FOUND_REQUIRED"||k==="CACHE_RESTORED_REQUIRED";e&&e(a,b,c?0:g(j),h,c);h&&(h=!1);i=!1}};var k=function(a,b){var e=g(j);c&&c(a,b,e);d&&d(b,h)};return{onBootstrap:k,onReadyStateChange:a}};e.exports={prepareCallbacks:a}}),null);