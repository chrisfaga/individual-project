if (self.CavalryLogger) { CavalryLogger.start_js(["p8Yjt"]); }

__d("NotificationSeenFilter",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"all",SEEN_ONLY:"seen_only",UNSEEN_ONLY:"unseen_only",READ_ONLY:"read_only",UNREAD_ONLY:"unread_only",SEEN_BUT_UNREAD_ONLY:"seen_unread_only"})}),null);
__d("NotificationSeenState",["NotificationConstants","NotificationSeenFilter","NotificationUpdates","createObjectFrom","ifRequired","objectValues"],(function(a,b,c,d,e,f){__p&&__p();var g=1,h=2,i=0,j=g,k=3,l=b("NotificationConstants").PayloadSourceType.INITIAL_LOAD,m={SEEN_AND_READ:k,SEEN_BUT_UNREAD:j,UNSEEN_AND_UNREAD:i},n={};b("ifRequired")("NotificationStore",function(a){a=a.getAllForAllEndpoints();a=b("objectValues")(a);var c=p(a);Object.keys(c).forEach(function(a){var b=c[a];n[a]=b})});function o(a){__p&&__p();var c=[],d=[];Object.keys(a).forEach(function(b){__p&&__p();var e=a[b],f=n[b];n[b]=e;if(f===undefined){c.push(b);d.push(b);return}f=f^e;f&g&&c.push(b);f&h&&d.push(b)});c.length&&b("NotificationUpdates").didUpdateSeenState(c);d.length&&b("NotificationUpdates").didUpdateReadState(d)}b("NotificationUpdates").subscribe("update-notifications",function(a,c){__p&&__p();a=c.nodes;if(!a||!a.length)return;c=c.payloadsource;var d=b("NotificationConstants").PayloadSourceType,e=c==d.ENDPOINT;c=a.filter(function(a){a=a.alert_id;return!e||n[a]===undefined});d=p(c);o(d)});function p(a){var b={};a.forEach(function(a){a.seen_state&&(b[a.alert_id]=m[a.seen_state])});return b}b("NotificationUpdates").subscribe("update-seen",function(a,c){__p&&__p();if(!c.seenState)return;var d=[],e={};Object.keys(c.seenState).forEach(function(a){if(!c.seenState||!c.seenState[a]){d.push(a);return}var b=n[a];b!==undefined&&(e[a]=b|g)});a=babelHelpers["extends"]({},b("createObjectFrom")(d,i),e);o(a)});b("NotificationUpdates").subscribe("update-read",function(a,c){__p&&__p();if(!c.readState)return;var d=[],e={};Object.keys(c.readState).forEach(function(a){if(!c.readState)return;var b=c.readState[a];if(b){d.push(a);return}b=n[a];b!==undefined?e[a]=b&~h:c.payloadsource==l&&(e[a]=j)});a=babelHelpers["extends"]({},b("createObjectFrom")(d,k),e);o(a)});function q(a){a=n[a];return a}var r={isRead:function(a){return q(a)===k},isSeen:function(a){return q(a)!==i},getUnseenCount:function(a,b){return r.getUnseenIDs(a,b).length},getUnseenIDs:function(a,b){var c=Object.keys(n).filter(function(a){return n[a]===i});a&&(c=c.filter(function(c){return b&&b[c]===a}));return c},getUnreadCount:function(){return r.getUnreadIDs().length},getUnreadIDs:function(){return Object.keys(n).filter(function(a){return n[a]!==k})},validateFilter:function(a,c){switch(c){case b("NotificationSeenFilter").SEEN_ONLY:return r.isSeen(a);case b("NotificationSeenFilter").UNSEEN_ONLY:return!r.isSeen(a);case b("NotificationSeenFilter").READ_ONLY:return r.isRead(a);case b("NotificationSeenFilter").UNREAD_ONLY:return!r.isRead(a);case b("NotificationSeenFilter").SEEN_BUT_UNREAD_ONLY:return r.isSeen(a)&&!r.isRead(a);default:return!0}}};e.exports=r}),6);
__d("BootloadOnInteraction",["Event","JSResource","emptyFunction"],(function(a,b,c,d,e,f){a={mount:function(a,c,d,e){d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=b("emptyFunction"));var f=[b("Event").listen(a,"mouseover",g),b("Event").listen(a,"focus",g)];function g(){f.forEach(function(a){return a.remove()}),e(),b("JSResource").loadAll(c,d)}}};e.exports=a}),null);
__d("MercuryJewelBootloadModules",["BootloadOnInteraction","JSResource","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=[b("JSResource")("MercuryJewel").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryThreadInformer").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerState.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("Toggler").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerGraphQLThreadlistFetcher.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryServerRequests").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryJewelUnreadCount.bs").__setRef("MercuryJewelBootloadModules")];function i(a,b){g=g||new a(b,b.bootload_args)}function j(a,b){i(a,b),b.inform("opened")}a={mount:function(a,c){c===void 0&&(c=b("emptyFunction"));var d=a.getButton();b("BootloadOnInteraction").mount(d,h,function(b){j(b,a)},function(){c()})},load:function(a){b("JSResource").loadAll(h,function(b){j(b,a)})},loadModules:function(a){b("JSResource").loadAll(h,function(b){i(b,a)})}};e.exports=a}),null);
__d("XBrowserPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},surface:{type:"Enum",required:!0,enumType:1},mute_for:{type:"Enum",enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d("BrowserPushMuteOptionsLink",["fbt","regeneratorRuntime","AsyncRequest","PushRegistration","React","ReactDOM","XBrowserPushMuteController","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c,d){c=b("PushRegistration").get(c,d);b("promiseDone")(c.getPushSubscription(),function(c){if(c){c=b("XBrowserPushMuteController").getURIBuilder().setEnum("surface","jewel").setString("push_endpoint",c.endpoint).setInt("appid",d).getURI();new(b("AsyncRequest"))().setURI(c).setRelativeTo(a).send()}})}a={showMuteOptions:function(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:e=b("PushRegistration").get(c,d);i.prev=1;i.next=4;return b("regeneratorRuntime").awrap(e.getPushSubscription());case 4:f=i.sent;i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](1),f=null;case 10:if(!(!b("PushRegistration").pushPermissionIsOn()||!f)){i.next=12;break}return i.abrupt("return");case 12:b("ReactDOM").render(b("React").createElement("a",{href:"#",onClick:function(){h(a,c,d)}},g._("Mute")),a);case 13:case"end":return i.stop()}},null,this,[[1,7]])}};e.exports=a}),null);
__d("ResponsiveSidebar",["AjaxPipeRequest","Arbiter","Bootloader","ChatConfig","ChatSidebarVisibility","CSS","Event","Run","URI","getOrCreateDOMID","setImmediate","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ChatConfig").get("sidebar.hide_divebar_off_homepage"),h=b("ChatConfig").get("sidebar.hide_buddylist_off_homepage"),i="buddylistOff",j=!0;a={init:function(a){__p&&__p();if(this.shouldLoadContent(a))b("setImmediate")(function(){this.loadContentForConfig(a)}.bind(this));else{var c=document.documentElement||"";g&&!this.isOnHomepage()&&b("CSS").removeClass(c,"sidebarMode");var d=b("Event").listen(window,"resize",b("throttle")(function(){j&&(this.shouldLoadContent(a)&&(j=!1,d.remove(),this.loadContentForConfig(a)))}.bind(this),50));this.loadOnTransition(a);b("Run").onCleanupOrLeave(a.container,function(){j&&(j=!1,d.remove())})}},loadOnTransition:function(a){if(g||h)var c=b("Arbiter").subscribe("page_transition",function(d,e){d=document.documentElement||"";!this.isOnHomepage(e.uri.getPath())?h&&b("CSS").addClass(d,i):(h&&(b("CSS").removeClass(d,i),b("Bootloader").loadModules(["Dock"],function(a){a.resizeAllFlyouts()},"ResponsiveSidebar")),b("ChatSidebarVisibility").shouldShowSidebar(null,function(b,d){j&&setTimeout(function(){this.loadContentForConfig(a)}.bind(this)),j=!1,c.unsubscribe()}.bind(this),e.uri))}.bind(this))},isOnHomepage:function(a){return(a||new(b("URI"))(window.location.href).getPath())==="/"},shouldLoadContent:function(a){var b=(g||h)&&!this.isOnHomepage();return!b&&a.triggerWidth<window.innerWidth},loadContentForConfig:function(a){var c="/ajax/pagelet/generic.php/SidebarPagelet";new(b("AjaxPipeRequest"))(b("getOrCreateDOMID")(a.container),c).send()}};e.exports=a}),null);